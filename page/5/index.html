<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Weakliy_Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Weakliy_Blog">
<meta property="og:url" content="https://shakewely.github.io/page/5/index.html">
<meta property="og:site_name" content="Weakliy_Blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Weakliy">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Weakliy_Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

  
<link rel="stylesheet" href="/plugin/bganimation/bg.css">

  

  <link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" rel="stylesheet" type="text/css">
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <div class="outer">
        <div class="widget-wrap mobile-header">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <img class="avatar" src="https://raw.githubusercontent.com/ShakeWeLy/Weakliy.github.io/main/%E5%A4%B4%E5%83%8F/mmexport1683194148817.png">
    <h2 class="author">Weakliy</h2>
    <h3 class="description"></h3>
    <div class="count-box">
      <a href="/archives"><div><strong>119</strong><br>æ–‡ç« </div></a>
      <a href="/categories"><div><strong>0</strong><br>åˆ†ç±»</div></a>
      <a href="/tags"><div><strong>34</strong><br>æ ‡ç­¾</div></a>
    </div>
    <ul class="blog-link">
     
          <a href="/" title="Home">
            <li>ä¸»é¡µ</li>
          </a>
        
          <a href="/archives" title="Archives">
            <li>å½’æ¡£</li>
          </a>
        
          <a href="/categories" title="Categories">
            <li>åˆ†ç±»</li>
          </a>
        
          <a href="/tags" title="Tags">
            <li>æ ‡ç­¾</li>
          </a>
        
    </ul>
  </div>
</div>

        <section id="main">
  
    <article id="post-2025å¹´5æœˆ5æ—¥-torchæ±‡æ€»" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2025/05/05/2025%E5%B9%B45%E6%9C%885%E6%97%A5-torch%E6%B1%87%E6%80%BB/" class="article-date">
  <time class="post-time" datetime="2025-05-05T02:35:44.000Z" itemprop="datePublished">
    <span class="post-month">5æœˆ</span><br/>
    <span class="post-day">05</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2025/05/05/2025%E5%B9%B45%E6%9C%885%E6%97%A5-torch%E6%B1%87%E6%80%BB/">2025å¹´5æœˆ5æ—¥ torchæ±‡æ€»</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="module"><a class="markdownIt-Anchor" href="#module"></a> Module</h1>
<p>mymodule= MyModule()</p>
<p><code>Mymodule.bn.weight</code></p>
<p>mymodule.bn.weight.data</p>
<h1 id="parameters"><a class="markdownIt-Anchor" href="#parameters"></a> parameters</h1>
<p>å·ç§¯æ ¸ï¼ˆ<code>nn.Conv2d</code>ï¼‰çš„æƒé‡ç»´åº¦æ˜¯ <strong>[out_channels, in_channels, kernel_height, kernel_width]</strong></p>
<blockquote>
<p>RuntimeError: Given groups=1, weight of size [6, 3, 3, 3], expected input[1, 640, 640, 3] to have 3 channels, but got 640 channels instead</p>
</blockquote>
<p><strong>model.parameters()</strong></p>
<h1 id="grad"><a class="markdownIt-Anchor" href="#grad"></a> Grad</h1>
<h3 id="requires_grad"><a class="markdownIt-Anchor" href="#requires_grad"></a> requires_grad</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model.bn.weight.requires_grad</span><br></pre></td></tr></table></figure>
<h1 id="é’©å­å‡½æ•°"><a class="markdownIt-Anchor" href="#é’©å­å‡½æ•°"></a> é’©å­å‡½æ•°</h1>
<blockquote>
<p><strong>é’©å­å‡½æ•°ï¼ˆHook Functionï¼‰*<em>æ˜¯å¯ä»¥ç»‘å®šåˆ° <code>nn.Module</code> çš„æŸä¸€å±‚ï¼ˆLayerï¼‰ä¸Šçš„å‡½æ•°ï¼Œåœ¨*<em>å‰å‘ä¼ æ’­ï¼ˆforwardï¼‰æˆ–åå‘ä¼ æ’­ï¼ˆbackwardï¼‰æ—¶è‡ªåŠ¨æ‰§è¡Œ</em></em>ï¼Œç”¨æ¥</strong>æå–ä¸­é—´ç‰¹å¾ã€ä¿®æ”¹æ¢¯åº¦æˆ–ä¸­é—´è¾“å‡ºã€è°ƒè¯•æ¨¡å‹ç­‰**ã€‚</p>
<h3 id="ä»€ä¹ˆæ˜¯é’©å­å‡½æ•°hook-function"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯é’©å­å‡½æ•°hook-function"></a> âœ… ä»€ä¹ˆæ˜¯é’©å­å‡½æ•°ï¼ˆHook Functionï¼‰ï¼Ÿ</h3>
<p>åœ¨ PyTorch ä¸­ï¼Œ<strong>é’©å­å‡½æ•°ï¼ˆHook Functionï¼‰*<em>æ˜¯å¯ä»¥ç»‘å®šåˆ° <code>nn.Module</code> çš„æŸä¸€å±‚ï¼ˆLayerï¼‰ä¸Šçš„å‡½æ•°ï¼Œåœ¨*<em>å‰å‘ä¼ æ’­ï¼ˆforwardï¼‰æˆ–åå‘ä¼ æ’­ï¼ˆbackwardï¼‰æ—¶è‡ªåŠ¨æ‰§è¡Œ</em></em>ï¼Œç”¨æ¥</strong>æå–ä¸­é—´ç‰¹å¾ã€ä¿®æ”¹æ¢¯åº¦æˆ–ä¸­é—´è¾“å‡ºã€è°ƒè¯•æ¨¡å‹ç­‰**ã€‚</p>
<hr>
<h3 id="pytorch-ä¸­çš„é’©å­ç§ç±»"><a class="markdownIt-Anchor" href="#pytorch-ä¸­çš„é’©å­ç§ç±»"></a> ğŸ“Œ PyTorch ä¸­çš„é’©å­ç§ç±»ï¼š</h3>
<table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>æ–¹æ³•</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>å‰å‘é’©å­</td>
<td><code>register_forward_hook()</code></td>
<td>åœ¨è¯¥å±‚ <strong>forwardè¾“å‡ºå</strong> è‡ªåŠ¨è°ƒç”¨</td>
</tr>
<tr>
<td>å‰å‘å‰é’©å­</td>
<td><code>register_forward_pre_hook()</code></td>
<td>åœ¨è¯¥å±‚ <strong>forwardè¾“å…¥å‰</strong> è°ƒç”¨</td>
</tr>
<tr>
<td>åå‘é’©å­</td>
<td><code>register_backward_hook()</code>ï¼ˆä¸æ¨èï¼‰æˆ– <code>register_full_backward_hook()</code></td>
<td>åœ¨è¯¥å±‚ <strong>backwardæ‰§è¡Œæ—¶</strong> è°ƒç”¨</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="ä¸ºä»€ä¹ˆè¦æ³¨å†Œé’©å­å‡½æ•°"><a class="markdownIt-Anchor" href="#ä¸ºä»€ä¹ˆè¦æ³¨å†Œé’©å­å‡½æ•°"></a> ğŸ§  ä¸ºä»€ä¹ˆè¦æ³¨å†Œé’©å­å‡½æ•°ï¼Ÿ</h3>
<p>ä½ è¿™æ®µä»£ç ä¸­ä½¿ç”¨ <code>register_forward_hook()</code>ï¼Œæ˜¯ä¸ºäº†åœ¨<strong>è’¸é¦è¿‡ç¨‹ä¸­æå–æ•™å¸ˆæ¨¡å‹å’Œå­¦ç”Ÿæ¨¡å‹æŸäº›å±‚çš„è¾“å‡ºç‰¹å¾</strong>ï¼Œè®¡ç®—ç‰¹å¾ä¹‹é—´çš„å·®å¼‚ä½œä¸ºè’¸é¦æŸå¤±ã€‚</p>
</blockquote>
<p><code>.data</code></p>
<h1 id="tensor"><a class="markdownIt-Anchor" href="#tensor"></a> tensor</h1>
<p>1ï¸âƒ£ view(shape)âœ…<br>
æ”¹å˜å¼ é‡å½¢çŠ¶ï¼ˆreshapeï¼‰ï¼Œä½†ä¸æ”¹å˜å†…å­˜å¸ƒå±€ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x = torch.randn(2,3,4)</span><br><span class="line">y = x.view(6,4)</span><br><span class="line">print(y.shape)  # torch.Size([6, 4])</span><br></pre></td></tr></table></figure>
<hr>
<p>2ï¸âƒ£ <strong>reshape(shape)</strong><br>
ç±»ä¼¼ <code>view</code>ï¼Œä½†æ›´çµæ´»ï¼Œæ”¯æŒéè¿ç»­å†…å­˜ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘x = torch.randn(2,3,4)</span><br><span class="line">y = x.reshape(6,4)</span><br><span class="line">print(y.shape)  # torch.Size([6, 4])</span><br></pre></td></tr></table></figure>
<hr>
<p>3ï¸âƒ£ <strong>squeeze(dim=None)</strong><br>
å»æ‰æ‰€æœ‰ä¸º1çš„ç»´åº¦ï¼Œæˆ–è€…æŒ‡å®šç»´åº¦çš„1ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘x = torch.randn(2,1,3)</span><br><span class="line">y = x.squeeze()</span><br><span class="line">print(y.shape)  # torch.Size([2,3])</span><br><span class="line">y2 = x.squeeze(1)</span><br><span class="line">print(y2.shape)  # torch.Size([2,3])</span><br></pre></td></tr></table></figure>
<hr>
<p>4ï¸âƒ£ <strong>unsqueeze(dim)</strong><br>
åœ¨æŒ‡å®šä½ç½®æ’å…¥ç»´åº¦1ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘x = torch.randn(2,3)</span><br><span class="line">y = x.unsqueeze(1)</span><br><span class="line">print(y.shape)  # torch.Size([2,1,3])</span><br></pre></td></tr></table></figure>
<hr>
<p>5ï¸âƒ£ **transpose(dim0, dim1)**âœ…<br>
åªäº¤æ¢ä¸¤ä¸ªç»´åº¦ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x = torch.randn(2,3,4)</span><br><span class="line">y = x.transpose(1,2)</span><br><span class="line">print(y.shape)  # torch.Size([2,4,3])</span><br></pre></td></tr></table></figure>
<hr>
<p>6ï¸âƒ£ **permute(dims)**âœ…<br>
ä»»æ„ç»´åº¦æ¢åºã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x = torch.randn(2,3,4)</span><br><span class="line">y = x.permute(0,2,1)</span><br><span class="line">print(y.shape)  # torch.Size([2,4,3])</span><br></pre></td></tr></table></figure>
<hr>
<p>7ï¸âƒ£ <strong>contiguous()</strong><br>
è¿”å›å†…å­˜è¿ç»­çš„ tensorï¼ˆä¸€èˆ¬ <code>view</code> å‰ç”¨ï¼‰ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘x = torch.randn(2,3,4).transpose(1,2)</span><br><span class="line">y = x.contiguous().view(2,12)</span><br><span class="line">print(y.shape)  # torch.Size([2,12])</span><br></pre></td></tr></table></figure>
<hr>
<p>8ï¸âƒ£ <strong>to(device)</strong><br>
è½¬ç§»åˆ°æŒ‡å®šè®¾å¤‡ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘x = torch.randn(2,3)</span><br><span class="line">y = x.to(&#x27;cuda&#x27;)</span><br></pre></td></tr></table></figure>
<hr>
<p>9ï¸âƒ£ <strong>cpu() / cuda()</strong><br>
ç®€å†™ç‰ˆçš„ to(â€˜cpuâ€™) æˆ– to(â€˜cudaâ€™)</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘x = torch.randn(2,3).cuda()</span><br><span class="line">y = x.cpu()</span><br></pre></td></tr></table></figure>
<hr>
<p>ğŸ”Ÿ <strong>clone()</strong><br>
å¤åˆ¶ tensorï¼ˆæ–°å¼€å†…å­˜ï¼‰ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘x = torch.randn(2,3)</span><br><span class="line">y = x.clone()</span><br></pre></td></tr></table></figure>
<hr>
<p>1ï¸âƒ£1ï¸âƒ£ <strong>detach()</strong><br>
è¿”å›ä¸€ä¸ªä¸å‚ä¸è®¡ç®—å›¾çš„æ–° tensorã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘x = torch.randn(2,3, requires_grad=True)</span><br><span class="line">y = x.detach()</span><br></pre></td></tr></table></figure>
<hr>
<p>1ï¸âƒ£2ï¸âƒ£ <strong>item()</strong><br>
è¿”å›å•å…ƒç´  tensor çš„ python æ•°å€¼ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘x = torch.tensor([3.14])</span><br><span class="line">v = x.item()  # 3.14 (float)</span><br></pre></td></tr></table></figure>
<hr>
<p>1ï¸âƒ£3ï¸âƒ£ <strong>numpy()</strong><br>
è½¬ä¸º numpy æ•°ç»„ï¼ˆå…±äº«å†…å­˜ï¼‰ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘x = torch.randn(2,3)</span><br><span class="line">arr = x.numpy()</span><br></pre></td></tr></table></figure>
<hr>
<p>1ï¸âƒ£4ï¸âƒ£ <strong>size(dim=None)</strong><br>
è¿”å›ç»´åº¦å¤§å°ï¼Œdim=None è¿”å›å…¨éƒ¨ shapeã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘x = torch.randn(2,3,4)</span><br><span class="line">print(x.size())     # torch.Size([2,3,4])</span><br><span class="line">print(x.size(1))    # 3</span><br></pre></td></tr></table></figure>
<hr>
<p>1ï¸âƒ£5ï¸âƒ£ <strong>shape</strong><br>
å±æ€§ï¼Œç­‰ä»·äº <code>size()</code>ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘x = torch.randn(2,3,4)</span><br><span class="line">print(x.shape)  # torch.Size([2,3,4])</span><br></pre></td></tr></table></figure>
<hr>
<p>1ï¸âƒ£6ï¸âƒ£ <strong>numel()</strong><br>
å¼ é‡å…ƒç´ æ€»æ•°ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘x = torch.randn(2,3,4)</span><br><span class="line">print(x.numel())  # 24</span><br></pre></td></tr></table></figure>
<h1 id="torchcuda"><a class="markdownIt-Anchor" href="#torchcuda"></a> torch.cuda</h1>
<p>1ï¸âƒ£ <strong>torch.cuda.is_available()</strong><br>
æ£€æŸ¥å½“å‰ PyTorch æ˜¯å¦å¯ä»¥ä½¿ç”¨ GPUã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å¤åˆ¶ç¼–è¾‘</span><br><span class="line">torch.cuda.is_available()  # True / False</span><br></pre></td></tr></table></figure>
<hr>
<p>2ï¸âƒ£ <strong>torch.cuda.device_count()</strong><br>
è¿”å›å¯ç”¨çš„ GPU æ•°é‡ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å¤åˆ¶ç¼–è¾‘</span><br><span class="line">torch.cuda.device_count()  # å¦‚ 2</span><br></pre></td></tr></table></figure>
<hr>
<p>3ï¸âƒ£ <strong>torch.cuda.get_device_name(device=0)</strong><br>
è·å–æŒ‡å®š GPU çš„åç§°ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å¤åˆ¶ç¼–è¾‘</span><br><span class="line">torch.cuda.get_device_name(0)  # &#x27;NVIDIA GeForce RTX 4090&#x27;</span><br></pre></td></tr></table></figure>
<hr>
<p>4ï¸âƒ£ <strong>torch.cuda.current_device()</strong><br>
è¿”å›å½“å‰é»˜è®¤è®¾å¤‡çš„ç´¢å¼•ï¼ˆintï¼‰ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å¤åˆ¶ç¼–è¾‘</span><br><span class="line">torch.cuda.current_device()  # å¦‚ 0</span><br></pre></td></tr></table></figure>
<hr>
<p>5ï¸âƒ£ <strong>torch.cuda.set_device(device)</strong><br>
è®¾ç½®å½“å‰é»˜è®¤ä½¿ç”¨çš„ GPUã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å¤åˆ¶ç¼–è¾‘</span><br><span class="line">torch.cuda.set_device(1)</span><br></pre></td></tr></table></figure>
<hr>
<p>6ï¸âƒ£ <strong>torch.cuda.memory_allocated(device=0)</strong><br>
è¿”å›å½“å‰åˆ†é…ç»™å¼ é‡çš„æ˜¾å­˜å¤§å°ï¼ˆå•ä½ï¼šå­—èŠ‚ï¼‰ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å¤åˆ¶ç¼–è¾‘</span><br><span class="line">torch.cuda.memory_allocated(0) / 1024**2  # å•ä½ï¼šMB</span><br></pre></td></tr></table></figure>
<hr>
<p>7ï¸âƒ£ <strong>torch.cuda.memory_reserved(device=0)</strong><br>
è¿”å›ä¸ºåˆ†é…é¢„ç•™çš„æ˜¾å­˜ï¼ˆç”¨äºç¼“å­˜æœºåˆ¶ï¼‰ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å¤åˆ¶ç¼–è¾‘</span><br><span class="line">torch.cuda.memory_reserved(0) / 1024**2  # å•ä½ï¼šMB</span><br></pre></td></tr></table></figure>
<hr>
<p>8ï¸âƒ£ <strong>torch.cuda.empty_cache()</strong><br>
é‡Šæ”¾æœªä½¿ç”¨çš„æ˜¾å­˜ç¼“å­˜ï¼ˆä¸ä¼šé‡Šæ”¾å·²ä½¿ç”¨çš„æ˜¾å­˜ï¼‰ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å¤åˆ¶ç¼–è¾‘</span><br><span class="line">torch.cuda.empty_cache()</span><br></pre></td></tr></table></figure>
<hr>
<p>9ï¸âƒ£ <strong>torch.cuda.synchronize(device=None)</strong><br>
ç­‰å¾…æ‰€æœ‰ GPU æ“ä½œå®Œæˆï¼ˆç”¨äºè®¡æ—¶æ—¶ç²¾å‡†ï¼‰ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å¤åˆ¶ç¼–è¾‘</span><br><span class="line">torch.cuda.synchronize()</span><br></pre></td></tr></table></figure>
<hr>
<p>ğŸ”Ÿ <strong>torch.cuda.Stream / torch.cuda.Event</strong><br>
ç”¨äºæ‰‹åŠ¨æ§åˆ¶ CUDA æ“ä½œé¡ºåºï¼ˆé«˜çº§ç”¨æ³•ï¼‰ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘stream = torch.cuda.Stream()</span><br><span class="line">event = torch.cuda.Event()</span><br></pre></td></tr></table></figure>
<h1 id="model"><a class="markdownIt-Anchor" href="#model"></a> model</h1>
<p><strong><code>m.weight</code></strong>ï¼šè·å–<code>BatchNorm2d</code>å±‚çš„æƒé‡å‚æ•°ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">w = m.weight.abs().detach()</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">b = m.bias.abs().detach()</span><br></pre></td></tr></table></figure>
<p>1ï¸âƒ£ **<code>model.parameters()</code>**âœ…<br>
è¿”å›ä¸€ä¸ªç”Ÿæˆå™¨ï¼ŒåªåŒ…å«æ¨¡å‹ä¸­æ‰€æœ‰å‚æ•°ï¼ˆ<code>nn.Parameter</code> ç±»å‹ï¼‰ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for param in model.parameters():</span><br><span class="line">    print(param.shape)</span><br><span class="line">    param.nelement() * param.element_size()</span><br></pre></td></tr></table></figure>
<hr>
<p>2ï¸âƒ£ <strong><code>model.named_parameters()</code></strong> âœ…<br>
è¿”å› <code>(name, param)</code> å…ƒç»„çš„ç”Ÿæˆå™¨ï¼Œå¸¦æœ‰åå­—ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">]for name, param in model.named_parameters():</span><br><span class="line">    print(name, param.shape)</span><br></pre></td></tr></table></figure>
<hr>
<p>3ï¸âƒ£ <strong><code>model.children()</code></strong><br>
è¿”å›æ¨¡å‹çš„<strong>ç¬¬ä¸€å±‚å­æ¨¡å—</strong>ï¼Œä¸é€’å½’ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘for child in model.children():</span><br><span class="line">    print(child)  # åªæ˜¯ä¸€å±‚ï¼Œä¾‹å¦‚ Conv, ReLU, Linear</span><br></pre></td></tr></table></figure>
<hr>
<p>4ï¸âƒ£ <strong><code>model.named_children()</code></strong><br>
è¿”å› <code>(name, module)</code> çš„ç”Ÿæˆå™¨ï¼Œç¬¬ä¸€å±‚å­æ¨¡å—å¸¦åå­—ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘for name, module in model.named_children():</span><br><span class="line">    print(name, module)</span><br></pre></td></tr></table></figure>
<hr>
<p>5ï¸âƒ£ <strong><code>model.modules()</code></strong><br>
è¿”å›æ¨¡å‹ä¸­æ‰€æœ‰æ¨¡å—ï¼ˆåŒ…æ‹¬è‡ªèº«å’Œé€’å½’å­æ¨¡å—ï¼‰ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘for module in model.modules():</span><br><span class="line">    print(type(module))</span><br></pre></td></tr></table></figure>
<hr>
<p>6ï¸âƒ£ <strong><code>model.named_modules()</code></strong><br>
è¿”å› <code>(name, module)</code> å½¢å¼çš„æ‰€æœ‰æ¨¡å—ï¼ˆé€’å½’ + åŒ…æ‹¬è‡ªèº«ï¼‰ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘for name, module in model.named_modules():</span><br><span class="line">    print(name, module)</span><br></pre></td></tr></table></figure>
<hr>
<p>7ï¸âƒ£ <strong><code>model.state_dict()</code></strong><br>
è¿”å›åŒ…å«æ‰€æœ‰å‚æ•°å’Œç¼“å†²åŒºï¼ˆå¦‚ <code>running_mean</code>ï¼‰çš„å­—å…¸ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘for name, tensor in model.state_dict().items():</span><br><span class="line">    print(name, tensor.shape)</span><br></pre></td></tr></table></figure>
<hr>
<p>8ï¸âƒ£ <strong><code>model.load_state_dict(state_dict)</code></strong><br>
åŠ è½½ <code>.pth</code> æ–‡ä»¶ä¿å­˜çš„æƒé‡ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å¤åˆ¶ç¼–è¾‘</span><br><span class="line">model.load_state_dict(torch.load(&#x27;xxx.pth&#x27;))</span><br></pre></td></tr></table></figure>
<hr>
<p>9ï¸âƒ£ <strong><code>model.eval()</code> / <code>model.train()</code></strong><br>
åˆ‡æ¢æ¨¡å‹æ¨¡å¼ï¼ˆå½±å“ Dropout / BatchNorm ç­‰ï¼‰ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘model.eval()   # æ¨ç†æ¨¡å¼</span><br><span class="line">model.train()  # è®­ç»ƒæ¨¡å¼</span><br></pre></td></tr></table></figure>
<hr>
<p>ğŸ”Ÿ <strong><code>model.zero_grad()</code></strong><br>
æ¸…ç©ºæ‰€æœ‰å‚æ•°çš„æ¢¯åº¦ï¼ˆç­‰æ•ˆäº <code>optimizer.zero_grad()</code>ï¼‰ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å¤åˆ¶ç¼–è¾‘</span><br><span class="line">model.zero_grad()</span><br></pre></td></tr></table></figure>
<h1 id="torch"><a class="markdownIt-Anchor" href="#torch"></a> torch</h1>
<p><code>torch.sort</code> æ˜¯ PyTorch ä¸­ç”¨äºå¯¹å¼ é‡è¿›è¡Œæ’åºçš„å‡½æ•°ã€‚</p>
<ul>
<li><code>descending=True</code> è¡¨ç¤ºæŒ‰é™åºæ’åºã€‚</li>
<li>è¿™ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ªå…ƒç»„ <code>(sorted_tensor, indices)</code>ï¼Œå…¶ä¸­ <code>sorted_tensor</code> æ˜¯æ’åºåçš„å¼ é‡ï¼Œ<code>indices</code> æ˜¯æ’åºåçš„ç´¢å¼•ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import torch</span><br><span class="line"></span><br><span class="line"># åˆ›å»ºä¸€ä¸ªäºŒç»´å¼ é‡</span><br><span class="line">tensor = torch.tensor([[0.1, 0.5, 0.3], [0.9, 0.7, 0.2]])</span><br><span class="line"></span><br><span class="line"># è®¾ç½®æ¡ä»¶</span><br><span class="line">condition = tensor &gt; 0.4</span><br><span class="line"></span><br><span class="line"># ä½¿ç”¨ torch.where æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„å…ƒç´ çš„ç´¢å¼•</span><br><span class="line">indices = torch.where(condition)</span><br><span class="line"></span><br><span class="line">print(&quot;åŸå§‹å¼ é‡:&quot;, tensor)</span><br><span class="line">print(&quot;æ¡ä»¶:&quot;, condition)</span><br><span class="line">print(&quot;è¿”å›çš„ç´¢å¼•:&quot;, indices)</span><br></pre></td></tr></table></figure>
<p>1ï¸âƒ£ <strong>torch.stack(preds_cls)</strong><br>
æŠŠ <code>preds_cls</code> åˆ—è¡¨æ‹¼èµ·æ¥ï¼Œå¢åŠ ä¸€ä¸ªæ–°ç»´åº¦ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘preds_cls = [cls1, cls2, cls3]  # æ¯ä¸ª cls shape (B, C, H, W)</span><br><span class="line">torch.stack(preds_cls) â†’ (3, B, C, H, W)</span><br></pre></td></tr></table></figure>
<p>ç­‰ä»·äº <code>torch.stack(preds_cls, dim=0)</code></p>
<hr>
<p>2ï¸âƒ£ <strong>weights_cls.view(-1,1,1,1,1)</strong><br>
æŠŠ <code>(N,)</code> çš„æƒé‡ reshape æˆ <code>(N,1,1,1,1)</code>ï¼Œä¸ºäº†å’Œ <code>(N, B, C, H, W)</code> å¹¿æ’­ç›¸ä¹˜ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘weights_cls = torch.tensor([0.2, 0.3, 0.5])  # (3,)</span><br><span class="line">weights_cls.view(-1,1,1,1,1) â†’ (3,1,1,1,1)</span><br></pre></td></tr></table></figure>
<hr>
<p>3ï¸âƒ£ <strong>torch.sum(â€¦, dim=0)</strong><br>
æ²¿ç¬¬0ç»´ï¼ˆåˆ†æ”¯ç»´åº¦ï¼‰æ±‚å’Œï¼Œå¾—åˆ°èåˆåçš„æœ€ç»ˆé¢„æµ‹ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å¤åˆ¶ç¼–è¾‘</span><br><span class="line">final_out = torch.sum(preds_cls * weights_cls, dim=0)  # (B, C, H, W)</span><br></pre></td></tr></table></figure>
<hr>
<p>4ï¸âƒ£ <strong>einsum è®¡ç®—</strong><br>
ç”¨ <code>torch.einsum</code> è¡¨è¾¾æ›´ç´§å‡‘çš„è®¡ç®—ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å¤åˆ¶ç¼–è¾‘</span><br><span class="line">torch.einsum(&#x27;n,nbchw-&gt;bchw&#x27;, weights_cls, preds_cls)</span><br></pre></td></tr></table></figure>
<p>ç­‰ä»·äºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å¤åˆ¶ç¼–è¾‘</span><br><span class="line">torch.sum(weights_cls.view(-1,1,1,1,1) * preds_cls, dim=0)</span><br></pre></td></tr></table></figure>
<hr>
<p>5ï¸âƒ£ <strong><em>*init*</em>(512) â†’ forward(z, x)</strong><br>
åˆå§‹åŒ– <code>SiameseRPN</code>ï¼Œ512 æ˜¯ Conv3 çš„é€šé“æ•°ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘self.rpn3 = SiameseRPN(512)</span><br><span class="line">cls_out, reg_out = self.rpn3(z, x)  # z, x æ˜¯ Conv3 ç‰¹å¾</span><br></pre></td></tr></table></figure>
<hr>
<p>6ï¸âƒ£ <strong>torch.chunk(x, 2, dim=1)</strong><br>
æŠŠ <code>x</code> åœ¨é€šé“ç»´ï¼ˆdim=1ï¼‰ä¸€åˆ†ä¸ºäºŒã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘x1, x2 = torch.chunk(x, 2, dim=1)</span><br><span class="line"># x1, x2 â†’ (B, C//2, H, W)</span><br></pre></td></tr></table></figure>
<hr>
<p>7ï¸âƒ£ <strong>torch.eye(H, device=x.device, dtype=x.dtype)</strong><br>
ç”Ÿæˆä¸€ä¸ª H Ã— H çš„å•ä½çŸ©é˜µã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">I = torch.eye(H, device=x.device, dtype=x.dtype)  # (H, H)</span><br></pre></td></tr></table></figure>
<p>8ï¸âƒ£ <strong>torch.cat(tensors, dim)</strong><br>
æŠŠ tensor åˆ—è¡¨æŒ‰æŒ‡å®šç»´æ‹¼æ¥èµ·æ¥ï¼ˆä¸å¢åŠ æ–°ç»´åº¦ï¼‰ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘tensors = [t1, t2, t3]  # æ¯ä¸ª t shape (B, C, H, W)</span><br><span class="line">torch.cat(tensors, dim=1) â†’ (B, C*3, H, W)</span><br></pre></td></tr></table></figure>
<hr>
<p>9ï¸âƒ£ <strong>torch.unsqueeze(x, dim)</strong><br>
åœ¨ dim ä½ç½®å¢åŠ ä¸€ä¸ªæ–°ç»´åº¦ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘x.shape â†’ (B, C, H, W)</span><br><span class="line">torch.unsqueeze(x, dim=1) â†’ (B, 1, C, H, W)</span><br></pre></td></tr></table></figure>
<hr>
<p>ğŸ”Ÿ <strong>torch.squeeze(x, dim)</strong><br>
å»æ‰ dim ç»´åº¦ä¸Šçš„1ç»´ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘x.shape â†’ (B, 1, C, H, W)</span><br><span class="line">torch.squeeze(x, dim=1) â†’ (B, C, H, W)</span><br></pre></td></tr></table></figure>
<hr>
<p>1ï¸âƒ£1ï¸âƒ£ <strong>torch.permute(x, dims)</strong><br>
äº¤æ¢ç»´åº¦é¡ºåºã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘x.shape â†’ (B, C, H, W)</span><br><span class="line">torch.permute(x, (0,2,3,1)) â†’ (B, H, W, C)</span><br></pre></td></tr></table></figure>
<hr>
<p>1ï¸âƒ£2ï¸âƒ£ <strong>torch.transpose(x, dim0, dim1)</strong><br>
äº¤æ¢ä¸¤ä¸ªç»´åº¦ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘x.shape â†’ (B, C, H, W)</span><br><span class="line">torch.transpose(x, 1, 2) â†’ (B, H, C, W)</span><br></pre></td></tr></table></figure>
<hr>
<p>1ï¸âƒ£3ï¸âƒ£ <strong>torch.mean(x, dim, keepdim=False)</strong><br>
åœ¨æŒ‡å®šç»´æ±‚å¹³å‡ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘x.shape â†’ (B, C, H, W)</span><br><span class="line">torch.mean(x, dim=2) â†’ (B, C, W)</span><br></pre></td></tr></table></figure>
<hr>
<p>1ï¸âƒ£4ï¸âƒ£ <strong>torch.max(x, dim, keepdim=False)</strong><br>
åœ¨æŒ‡å®šç»´å–æœ€å¤§å€¼ï¼ˆè¿”å›å€¼å’Œç´¢å¼•ï¼‰ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘vals, idxs = torch.max(x, dim=2)</span><br><span class="line">vals.shape â†’ (B, C, W)</span><br><span class="line">idxs.shape â†’ (B, C, W)</span><br></pre></td></tr></table></figure>
<hr>
<p>1ï¸âƒ£5ï¸âƒ£ <strong>torch.clamp(x, min, max)</strong><br>
æŠŠå€¼è£å‰ªåˆ° [min, max] åŒºé—´ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘x = torch.tensor([-1, 0.5, 2])</span><br><span class="line">torch.clamp(x, 0, 1) â†’ tensor([0., 0.5, 1.])</span><br></pre></td></tr></table></figure>
<hr>
<p>1ï¸âƒ£6ï¸âƒ£ <strong>torch.where(condition, x, y)</strong><br>
æŒ‰æ¡ä»¶é€‰æ‹©ï¼Œcondition=True å– xï¼Œå¦åˆ™å– yã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘a = torch.tensor([1, 2, 3])</span><br><span class="line">b = torch.tensor([10, 20, 30])</span><br><span class="line">cond = a &gt; 1</span><br><span class="line">torch.where(cond, a, b) â†’ tensor([10, 2, 3])</span><br></pre></td></tr></table></figure>
<hr>
<p>1ï¸âƒ£7ï¸âƒ£ <strong>torch.linspace(start, end, steps)</strong><br>
ç”Ÿæˆç­‰é—´éš”åºåˆ—ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å¤åˆ¶ç¼–è¾‘</span><br><span class="line">torch.linspace(0,1,5) â†’ tensor([0., 0.25, 0.5, 0.75, 1.])</span><br></pre></td></tr></table></figure>
<hr>
<p>1ï¸âƒ£8ï¸âƒ£ <strong>torch.arange(start, end, step)</strong><br>
ç”Ÿæˆç­‰æ­¥é•¿åºåˆ—ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å¤åˆ¶ç¼–è¾‘</span><br><span class="line">torch.arange(0,5,1) â†’ tensor([0,1,2,3,4])</span><br></pre></td></tr></table></figure>
<hr>
<p>1ï¸âƒ£9ï¸âƒ£ <strong>torch.nn.functional.one_hot(indices, num_classes)</strong><br>
æŠŠç´¢å¼•è½¬ä¸º one-hot ç¼–ç ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘idx = torch.tensor([0,2,1])</span><br><span class="line">torch.nn.functional.one_hot(idx, num_classes=3) â†’ </span><br><span class="line">tensor([[1,0,0],</span><br><span class="line">        [0,0,1],</span><br><span class="line">        [0,1,0]])</span><br></pre></td></tr></table></figure>
<hr>
<p>2ï¸âƒ£0ï¸âƒ£ <strong>x.view_as(y)</strong><br>
æŠŠ x reshape æˆå’Œ y ç›¸åŒçš„å½¢çŠ¶ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘x = torch.arange(6)</span><br><span class="line">y = torch.zeros(2,3)</span><br><span class="line">x.view_as(y) â†’ shape (2,3)</span><br></pre></td></tr></table></figure>
<p>1ï¸âƒ£5ï¸âƒ£ <strong>torch.cuda.amp.autocast</strong><br>
æ··åˆç²¾åº¦æ¨ç† / è®­ç»ƒã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘with torch.cuda.amp.autocast():</span><br><span class="line">    output = model(input)</span><br></pre></td></tr></table></figure>
<hr>
<p>1ï¸âƒ£6ï¸âƒ£ <strong>torch.nn.utils.clip_grad_norm_</strong><br>
æ¢¯åº¦è£å‰ªï¼ˆé˜²æ­¢æ¢¯åº¦çˆ†ç‚¸ï¼‰ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å¤åˆ¶ç¼–è¾‘</span><br><span class="line">torch.nn.utils.clip_grad_norm_(model.parameters(), max_norm=1.0)</span><br></pre></td></tr></table></figure>
<p>inplace=False</p>
<p>RuntimeError: one of the variables needed for gradient computation has been modified by an inplace operation: [torch.cuda.FloatTensor [32, 2048, 32, 32]], which is output 0 of ReluBackward0, is at version 3; expected version 1 instead. Hint: enable anomaly detection to find the operation that failed to compute its gradient, with torch.autograd.set_detect_anomaly(True).</p>
<p>RuntimeError: cuDNN error: CUDNN_STATUS_INTERNAL_ERROR</p>
<p>GPU å†…å­˜ä¸è¶³æˆ– CUDA æ“ä½œä¸å½“å¯¼è‡´çš„ã€‚è®©æˆ‘ä»¬é€šè¿‡ä»¥ä¸‹æ–¹å¼è§£å†³è¿™ä¸ªé—®é¢˜</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">    if is_pretrain:</span><br><span class="line"></span><br><span class="line">â€‹      \# é¢„è®­ç»ƒæ—¶ä½¿ç”¨è¾ƒå°çš„å­¦ä¹ ç‡</span><br><span class="line"></span><br><span class="line">â€‹      self.optimizer = optim.Adam(model.parameters(), lr=1e-5)</span><br><span class="line"></span><br><span class="line">â€‹    else:</span><br><span class="line"></span><br><span class="line">â€‹      \# å¾®è°ƒæ—¶ä½¿ç”¨è¾ƒå¤§çš„å­¦ä¹ ç‡</span><br><span class="line"></span><br><span class="line">â€‹      self.optimizer = optim.Adam(model.parameters(), lr=1e-4)</span><br></pre></td></tr></table></figure>
<h3 id="å°ç»“"><a class="markdownIt-Anchor" href="#å°ç»“"></a> ğŸ“ å°ç»“</h3>
<table>
<thead>
<tr>
<th>å ç”¨éƒ¨åˆ†</th>
<th>æ¨ç†å æ¯”</th>
<th>è®­ç»ƒå æ¯”</th>
</tr>
</thead>
<tbody>
<tr>
<td>å‚æ•°</td>
<td>âœ…</td>
<td>âœ…</td>
</tr>
<tr>
<td>ç‰¹å¾å›¾</td>
<td>âœ…</td>
<td>âœ…âœ…âœ…</td>
</tr>
<tr>
<td>æ¢¯åº¦</td>
<td>âŒ</td>
<td>âœ…</td>
</tr>
<tr>
<td>ä¼˜åŒ–å™¨çŠ¶æ€</td>
<td>âŒ</td>
<td>âœ…</td>
</tr>
<tr>
<td>æ•°æ®ç¼“å­˜</td>
<td>âœ…ï¼ˆCPUï¼‰</td>
<td>âœ…ï¼ˆCPUï¼‰</td>
</tr>
</tbody>
</table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">ğŸŒŸ æ·±åº¦å­¦ä¹ ä¸­ï¼Œå“ªäº›å› ç´ å’Œå†…å­˜ï¼ˆmemoryï¼Œå æ¯”ï¼‰æœ‰å…³ï¼Ÿ</span><br><span class="line">è¿™é‡Œè¯´çš„å†…å­˜ä¸»è¦æŒ‡ æ˜¾å­˜ï¼ˆGPU memoryï¼‰ï¼Œä½†æœ‰äº›åŸåˆ™ä¹Ÿé€‚ç”¨äº CPU å†…å­˜ã€‚</span><br><span class="line"></span><br><span class="line">æˆ‘ä»¬å¯ä»¥æŠŠå®ƒæ‹†æˆå‡ éƒ¨åˆ†ï¼š</span><br><span class="line"></span><br><span class="line">âœ… 1. æ¨¡å‹å‚æ•°ï¼ˆparametersï¼‰</span><br><span class="line">åŒ…å«æƒé‡ã€åç½®ï¼ˆweights, biasesï¼‰ï¼Œæ¯ä¸ªå‚æ•°é€šå¸¸ç”¨ float32ï¼ˆ4å­—èŠ‚ï¼‰ã€float16ï¼ˆ2å­—èŠ‚ï¼‰ç­‰å­˜å‚¨ã€‚</span><br><span class="line"></span><br><span class="line">åªè¦æ¨¡å‹åŠ è½½åˆ° GPUï¼Œå°±å ç”¨å›ºå®šæ˜¾å­˜ã€‚</span><br><span class="line"></span><br><span class="line">ä¾‹å­ï¼š</span><br><span class="line"></span><br><span class="line">YOLOv8n â†’ ~3M å‚æ•°ï¼Œçº¦ 12MB (float32)</span><br><span class="line"></span><br><span class="line">YOLOv8x â†’ ~70M å‚æ•°ï¼Œçº¦ 280MB (float32)</span><br><span class="line"></span><br><span class="line">â†’ å’Œæ¨¡å‹è§„æ¨¡ç›´æ¥ç›¸å…³ï¼Œå å›ºå®šéƒ¨åˆ†æ˜¾å­˜ã€‚</span><br><span class="line"></span><br><span class="line">âœ… 2. ä¸­é—´ç‰¹å¾å›¾ï¼ˆfeature maps / activationsï¼‰</span><br><span class="line">ç½‘ç»œå‰å‘æ¨ç†ä¸­æ¯å±‚äº§ç”Ÿçš„è¾“å‡ºå¼ é‡ã€‚</span><br><span class="line"></span><br><span class="line">åœ¨è®­ç»ƒä¸­éœ€è¦ä¿å­˜è¿™äº›ç‰¹å¾å›¾æ¥åšåå‘ä¼ æ’­ï¼Œå› æ­¤è®­ç»ƒæ˜¾å­˜éœ€æ±‚å¤§çº¦æ˜¯æ¨ç†çš„ 2~3 å€ã€‚</span><br><span class="line"></span><br><span class="line">è¿™æ˜¯è®­ç»ƒä¸­ä¸»è¦åƒæ˜¾å­˜çš„éƒ¨åˆ†ã€‚</span><br><span class="line"></span><br><span class="line">å½±å“å› ç´ ï¼š</span><br><span class="line"></span><br><span class="line">è¾“å…¥å›¾åƒå¤§å°ï¼ˆH Ã— Wï¼‰</span><br><span class="line"></span><br><span class="line">batch size</span><br><span class="line"></span><br><span class="line">æ¨¡å‹çš„é€šé“æ•°ã€åˆ†è¾¨ç‡ã€å±‚æ•°</span><br><span class="line"></span><br><span class="line">ä¾‹å­ï¼š</span><br><span class="line">640Ã—640 å›¾åƒï¼Œbatch=1ï¼ŒYOLOv8n å ç”¨ â‰ˆ12GB</span><br><span class="line">640Ã—640 å›¾åƒï¼Œbatch=8ï¼ŒYOLOv8n å ç”¨ â‰ˆ810GB</span><br><span class="line"></span><br><span class="line">âœ… 3. æ¢¯åº¦ï¼ˆgradientsï¼‰</span><br><span class="line">è®­ç»ƒæ—¶éœ€è¦ä¸ºæ¯ä¸ªå‚æ•°å­˜å‚¨æ¢¯åº¦ï¼Œç”¨äºä¼˜åŒ–å™¨æ›´æ–°æƒé‡ã€‚</span><br><span class="line"></span><br><span class="line">é€šå¸¸å¤§å° â‰ˆ å‚æ•°å¤§å°ã€‚</span><br><span class="line"></span><br><span class="line">æ¨ç†æ—¶ä¸éœ€è¦ã€‚</span><br><span class="line"></span><br><span class="line">ä¾‹å­ï¼š</span><br><span class="line"></span><br><span class="line">å‚æ•° 100MB â†’ æ¢¯åº¦ä¹Ÿå¤§çº¦ 100MB</span><br><span class="line"></span><br><span class="line">âœ… 4. ä¼˜åŒ–å™¨çŠ¶æ€ï¼ˆoptimizer stateï¼‰</span><br><span class="line">åªæœ‰è®­ç»ƒæ—¶æ‰æœ‰ï¼Œä¾‹å¦‚ Adam ä¼˜åŒ–å™¨è¦å­˜åŠ¨é‡å’Œæ–¹å·®ã€‚</span><br><span class="line"></span><br><span class="line">é€šå¸¸æ˜¯å‚æ•°çš„ 2~4 å€å¤§å°ã€‚</span><br><span class="line"></span><br><span class="line">ä¾‹å­ï¼š</span><br><span class="line"></span><br><span class="line">Adam ä¼˜åŒ–å™¨ï¼Œ100MB å‚æ•° â†’ é¢å¤–çº¦ 200MB ä¼˜åŒ–å™¨çŠ¶æ€</span><br><span class="line"></span><br><span class="line">âœ… 5. è¾“å…¥æ•°æ®ç¼“å­˜ï¼ˆdata loading bufferï¼‰</span><br><span class="line">å¦‚æœç”¨ dataloader é¢„åŠ è½½æ•°æ®ï¼ˆæ¯”å¦‚ PyTorch DataLoader çš„ num_workers å¤§ã€pin_memory=Trueï¼‰ï¼Œå¯èƒ½å ç”¨æ¯”è¾ƒå¤š CPU å†…å­˜ã€‚</span><br><span class="line"></span><br><span class="line">å¯¹ GPU å†…å­˜å½±å“è¾ƒå°ï¼Œä½†éœ€è¦æ³¨æ„ã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å ç”¨æ¥æº	ä¸»è¦å’Œä»€ä¹ˆæœ‰å…³</span><br><span class="line">æ¨¡å‹æƒé‡	æ¨¡å‹è§„æ¨¡ï¼ˆnã€sã€mã€lã€xï¼‰</span><br><span class="line">è¾“å…¥æ•°æ®ç¼“å­˜	batch_size, num_workers, å›¾åƒåˆ†è¾¨ç‡</span><br><span class="line">æ•°æ®å¢å¼º	å¢å¼ºæ–¹å¼ã€å¤æ‚ç¨‹åº¦</span><br><span class="line">æ¨ç†è¾“å‡ºç¼“å­˜	æ¨ç†ä»»åŠ¡è§„æ¨¡ã€æ˜¯å¦åŠæ—¶è½ç›˜</span><br><span class="line">æ¡†æ¶å¼€é”€	æ¡†æ¶æœ¬èº«ï¼ˆPyTorch, TensorFlowï¼‰</span><br><span class="line">ç³»ç»Ÿå¤šè¿›ç¨‹/çº¿ç¨‹	ä»»åŠ¡æ•°ã€è¿›ç¨‹æ•°ã€çº¿ç¨‹æ•°</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>F.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shakewely.github.io/2025/05/05/2025%E5%B9%B45%E6%9C%885%E6%97%A5-torch%E6%B1%87%E6%80%BB/" data-id="cmanj8o28000wlcv4bsx0grzy" class="article-share-link">åˆ†äº«</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dl%EF%BC%8Cpyhton/" rel="tag">dlï¼Œpyhton</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-2025å¹´5æœˆ4æ—¥-yoloæ±‡æ€»" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/" class="article-date">
  <time class="post-time" datetime="2025-05-04T07:42:49.000Z" itemprop="datePublished">
    <span class="post-month">5æœˆ</span><br/>
    <span class="post-day">04</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/">2025å¹´5æœˆ4æ—¥ yoloç»†èŠ‚è¯¦è§£</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1yoloç‰ˆæœ¬"><a class="markdownIt-Anchor" href="#1yoloç‰ˆæœ¬"></a> 1.Yoloç‰ˆæœ¬</h1>
<h2 id="yolov1"><a class="markdownIt-Anchor" href="#yolov1"></a> <a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43334693/article/details/129011644?spm=1001.2014.3001.5501">YOLOv1</a></h2>
<blockquote>
<ul>
<li>ç«¯åˆ°ç«¯å•é˜¶æ®µ</li>
<li>ç›®æ ‡æ£€æµ‹é—®é¢˜çœ‹ä½œå›å½’é—®é¢˜</li>
</ul>
</blockquote>
<h3 id="1-bounding-box"><a class="markdownIt-Anchor" href="#1-bounding-box"></a> 1 bounding box</h3>
<ul>
<li>xâ€”â€”æ¡†ä¸­å¿ƒçš„æ¨ªåæ ‡</li>
<li>yâ€”â€”æ¡†ä¸­å¿ƒçš„çºµåæ ‡</li>
<li>wâ€”â€”æ¡†çš„å®½åº¦</li>
<li>hâ€”â€”æ¡†çš„é«˜åº¦</li>
<li>ç½®ä¿¡åº¦ï¼ˆconfidenceï¼‰</li>
</ul>
<p>â€‹	åœ¨YOLOV1ä¸­S = 7 , B = 2å³å°†æ¯ä¸ªè¾“å…¥å›¾ç‰‡é€šè¿‡å·ç§¯, å°†æœ€åç‰¹å¾å›¾åˆ†æˆ<strong>7 Ã— 7 ä¸ªç½‘æ ¼</strong>ï¼Œæ¯ä¸ªç½‘æ ¼å°†ç”Ÿæˆ<strong>2 ä¸ªé¢„æµ‹æ¡†</strong>ï¼Œç”¨æ¥æ¡†å‡ºå›¾ç‰‡ä¸­çš„ç‰©ä½“ã€‚ <strong>æ¯ä¸ªæ¡†ä¼šé¢„æµ‹å‡º5ä¸ªå˜é‡å€¼</strong>ï¼Œæ‰€ä»¥ä¸€ä¸ªç½‘æ ¼ç”Ÿæˆä¸¤ä¸ªæ¡†ï¼Œä¸€ä¸ªæ¡†å¸¦æœ‰5ä¸ªå±æ€§ï¼Œæ‰€ä»¥ä¸€ä¸ªæ ¼å°±éœ€è¦é¢„æµ‹å‡º<strong>5 Ã— 2 = 10 ä¸ªå˜é‡å€¼</strong>ã€‚<br>
â€‹	åœ¨YOLOv1ä¸­æœ‰<strong>20ä¸ªç±»åˆ«çš„ç‰©ä½“çš„æ¡ä»¶æ¦‚ç‡</strong>ï¼Œæ‰€ä»¥è¾“å‡ºç»“æœçš„å20ä¸ªå€¼å°±è¡¨ç¤ºæ¯ä¸€ä¸ªå°ç½‘æ ¼ï¼ˆgrid cellï¼‰å¯¹åº”æ¯ä¸€ç±»ç‰©ä½“çš„æ¦‚ç‡ï¼Œå³ç”±è¯¥ç½‘æ ¼ç”Ÿäº§çš„ä¸¤ä¸ªé¢„æµ‹æ¡†å¯¹åº”æ¯ä¸€ç±»ç‰©ä½“çš„æ¦‚ç‡ã€‚ ç”±æ­¤ï¼Œè¾“å‡ºçš„<strong>7 Ã— 7 Ã— 30(10+20) å‘é‡</strong>çš„æ¯ä¸€é¡¹å«ä¹‰ä¾¿æ¸…æ¥šäº†ã€‚<br>
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250104151446113.png" alt="image-20250104151446113" style="zoom: 67%;"></p>
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250104154104316.png" alt="image-20250104154104316" style="zoom: 33%;">
<h3 id="2-è®­ç»ƒ"><a class="markdownIt-Anchor" href="#2-è®­ç»ƒ"></a> 2 è®­ç»ƒ</h3>
<h4 id="ç½‘ç»œç»“æ„"><a class="markdownIt-Anchor" href="#ç½‘ç»œç»“æ„"></a> ç½‘ç»œç»“æ„</h4>
<p><img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/64c2116c3e9f6d55b5aa2a8fab982a26.png" alt="img"></p>
<p>YOLOV1çš„è¾“å…¥ä¸º448 Ã— 448 Ã— 3 å›¾åƒï¼Œè¾“å‡ºå¤§å°ä¸º7 Ã— 7 Ã— 30 å‘é‡</p>
<p>åœ¨ç½‘ç»œç»“æ„çš„æœ€åä¸€å±‚ä½¿ç”¨çš„æ˜¯çº¿æ€§æ¿€æ´»å‡½æ•°ï¼Œå…¶ä»–å±‚ä½¿ç”¨çš„æ˜¯**leaky ReLU**æ¿€æ´»å‡½æ•°ï¼ŒYOLOv1ä¸­é‡‡ç”¨çš„leaky ReLUå®šä¹‰å…¬å¼å¦‚ä¸‹</p>
<p><img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/dba9296aa0d24233abe7b02e75e4b7e9.png" alt="img"></p>
<h4 id="æ•°æ®å¤„ç†"><a class="markdownIt-Anchor" href="#æ•°æ®å¤„ç†"></a> æ•°æ®å¤„ç†</h4>
<h4 id="æŸå¤±è®¡ç®—"><a class="markdownIt-Anchor" href="#æŸå¤±è®¡ç®—"></a> æŸå¤±è®¡ç®—</h4>
<p>yolov1é‡Œå°†æŸå¤±å‡½æ•°åˆ†ä¸ºä¸‰éƒ¨åˆ†,</p>
<ol>
<li>åæ ‡æŸå¤±ï¼ˆboudiing Lossï¼‰:ç”¨äºä¼˜åŒ–é¢„æµ‹è¾¹ç•Œæ¡†çš„åæ ‡ï¼ˆä½ç½®å’Œå¤§å°ï¼‰ï¼Œç¡®ä¿é¢„æµ‹æ¡†ä¸çœŸå®æ¡†å°½å¯èƒ½æ¥è¿‘ã€‚</li>
<li><strong>ç½®ä¿¡åº¦æŸå¤±</strong>ï¼ˆConfidence Lossï¼‰: ç”¨äºä¼˜åŒ–è¾¹ç•Œæ¡†çš„ç½®ä¿¡åº¦åˆ†æ•°ï¼Œåæ˜ è¾¹ç•Œæ¡†æ˜¯å¦åŒ…å«ç›®æ ‡ä»¥åŠæ¡†çš„å‡†ç¡®æ€§ã€‚</li>
<li>åˆ†ç±»æŸå¤±ï¼ˆClassification Lossï¼‰: ç”¨äºä¼˜åŒ–æ¯ä¸ªç½‘æ ¼çš„ç±»åˆ«é¢„æµ‹ï¼Œç¡®ä¿æ¨¡å‹æ­£ç¡®è¯†åˆ«ç›®æ ‡çš„ç±»åˆ«ã€‚</li>
</ol>
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250104155000144.png" alt="image-20250104155000144" style="zoom:67%;">
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250104155310820.png" alt="image-20250104155310820" style="zoom:33%;">
<blockquote>
<p>ä¸ºä»€ä¹ˆç”¨æ ¹å·?   =&gt;  å¤§å°ç›®æ ‡å¯¹åç§»å½±å“ä¸åŒ</p>
</blockquote>
<h3 id="3-é¢„æµ‹æå¤§å€¼æŠ‘åˆ¶"><a class="markdownIt-Anchor" href="#3-é¢„æµ‹æå¤§å€¼æŠ‘åˆ¶"></a> 3 é¢„æµ‹â€“æå¤§å€¼æŠ‘åˆ¶</h3>
<p>7X7X2ä¸ªbounding box è¿›è¡Œ è¿‡æ»¤ä¸éæå¤§å€¼æŠ‘åˆ¶</p>
<h4 id="nms-ç®—æ³•æ­¥éª¤"><a class="markdownIt-Anchor" href="#nms-ç®—æ³•æ­¥éª¤"></a> NMS ç®—æ³•æ­¥éª¤</h4>
<ol>
<li>
<p>æ”¶é›†æ‰€æœ‰é¢„æµ‹æ¡†ï¼š</p>
<ul>
<li>ä»æ¨¡å‹è¾“å‡ºä¸­æå–æ‰€æœ‰è¾¹ç•Œæ¡†ï¼ŒåŒ…æ‹¬åæ ‡ã€ç½®ä¿¡åº¦åˆ†æ•°å’Œç±»åˆ«ã€‚</li>
<li>é€šå¸¸**åªä¿ç•™ç½®ä¿¡åº¦é«˜äºæŸä¸ªé˜ˆå€¼ï¼ˆä¾‹å¦‚ conf=0.25ï¼‰çš„æ¡†ï¼Œ**ä»¥å‡å°‘è®¡ç®—é‡ã€‚</li>
</ul>
</li>
<li>
<p>æŒ‰ç½®ä¿¡åº¦æ’åºï¼š</p>
<ul>
<li>å¯¹æ‰€æœ‰è¾¹ç•Œæ¡†æŒ‰ç½®ä¿¡åº¦åˆ†æ•°ä»é«˜åˆ°ä½æ’åºã€‚</li>
</ul>
</li>
<li>
<p>é€‰æ‹©æœ€é«˜ç½®ä¿¡åº¦æ¡†ï¼š</p>
<ul>
<li>ä»æ’åºåçš„åˆ—è¡¨ä¸­é€‰å–ç½®ä¿¡åº¦æœ€é«˜çš„è¾¹ç•Œæ¡†ï¼Œ<strong>ä½œä¸ºå½“å‰ç›®æ ‡çš„ä»£è¡¨æ¡†</strong>ã€‚</li>
</ul>
</li>
<li>
<p>è®¡ç®— IoU å¹¶æŠ‘åˆ¶é‡å æ¡†ï¼š</p>
<ul>
<li>
<p>è®¡ç®—å½“å‰æœ€é«˜ç½®ä¿¡åº¦æ¡†ä¸å…¶ä»–æ¡†çš„ <strong>äº¤å¹¶æ¯”ï¼ˆIoU, Intersection over Unionï¼‰</strong>ã€‚</p>
</li>
<li>
<p>IoU å…¬å¼ï¼š</p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>I</mi><mi>o</mi><mi>U</mi><mo>=</mo><mfrac><mtext>IntersectionÂ Area</mtext><mtext>UnionÂ Area</mtext></mfrac></mrow><annotation encoding="application/x-tex">IoU=\frac{\text{Intersection Area}}{\text{Union Area}}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.04633em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.36033em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">UnionÂ Area</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">IntersectionÂ Area</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
</li>
<li>
<p>å¦‚æœå…¶ä»–æ¡†ä¸å½“å‰æ¡†çš„ IoU é«˜äºæŸä¸ªé˜ˆå€¼ï¼ˆä¾‹å¦‚ iou=0.45ï¼‰ï¼Œåˆ™è®¤ä¸ºè¿™äº›æ¡†æ£€æµ‹çš„æ˜¯åŒä¸€ç›®æ ‡ï¼Œå°†å®ƒä»¬ä»å€™é€‰åˆ—è¡¨ä¸­ç§»é™¤ã€‚</p>
</li>
</ul>
</li>
<li>
<p>é‡å¤ç›´åˆ°å¤„ç†å®Œæ‰€æœ‰æ¡†ï¼š</p>
<ul>
<li>ä»å‰©ä½™æ¡†ä¸­å†æ¬¡é€‰å–ç½®ä¿¡åº¦æœ€é«˜çš„æ¡†ï¼Œé‡å¤æ­¥éª¤ 3 å’Œ 4ï¼Œç›´åˆ°åˆ—è¡¨ä¸ºç©ºæˆ–æ— æ¡†æ»¡è¶³æ¡ä»¶ã€‚</li>
</ul>
</li>
<li>
<p>è¾“å‡ºæœ€ç»ˆç»“æœï¼š</p>
<ul>
<li>è¿”å›ä¿ç•™ä¸‹æ¥çš„è¾¹ç•Œæ¡†åˆ—è¡¨ï¼Œä½œä¸ºæœ€ç»ˆæ£€æµ‹ç»“æœã€‚</li>
</ul>
</li>
</ol>
<p><img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250104152002611.png" alt></p>
<p><img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/d358fa901b47a00baa710246af0ea197.gif" alt="img"></p>
<h3 id="4-ä¼˜ç¼º"><a class="markdownIt-Anchor" href="#4-ä¼˜ç¼º"></a> 4 ä¼˜ç¼º</h3>
<ul>
<li>ç›¸æ¯”åŒæ—¶æœŸç®—æ³•, ç®€å•ç»Ÿä¸€, å®æ—¶æ€§å¼º,</li>
<li>ä½†æ˜¯ æ— æ³•å¾ˆå¥½åœ°å¤„ç†å°ç›®æ ‡å’Œé‡å ç›®æ ‡,è¾¹ç•Œæ¡†å®šä½ç²¾åº¦è¾ƒä½å¯¹çš„,æ¯ä¸ªç½‘æ ¼åªèƒ½é¢„æµ‹ä¸¤ä¸ªç±»åˆ«ç­‰ç­‰</li>
</ul>
<h3 id="5-qa"><a class="markdownIt-Anchor" href="#5-qa"></a> 5 QA</h3>
<ol>
<li>
<h5 id="ä¸ºä»€ä¹ˆä¸¤ä¸ªbounding-box"><a class="markdownIt-Anchor" href="#ä¸ºä»€ä¹ˆä¸¤ä¸ªbounding-box"></a> ä¸ºä»€ä¹ˆä¸¤ä¸ªbounding box</h5>
</li>
</ol>
<p>æ¯ä¸ª bounding box éƒ½æœ‰ä¸€ç»„ç‹¬ç«‹çš„å‚æ•°ï¼ŒåŒ…æ‹¬ä¸­å¿ƒåæ ‡ã€å®½åº¦ã€é«˜åº¦å’Œç½®ä¿¡åº¦ï¼Œèƒ½å¤Ÿåˆ†åˆ«æ‹Ÿåˆä¸åŒçš„ç›®æ ‡ã€‚</p>
<h2 id="yolov2"><a class="markdownIt-Anchor" href="#yolov2"></a> YOLOV2</h2>
<blockquote>
<p>å¼•å…¥äº†å¤šç§ä¼˜åŒ–æŠ€æœ¯ï¼Œè§£å†³äº† YOLOv1 åœ¨å°ç›®æ ‡å’Œé‡å ç›®æ ‡æ£€æµ‹ä¸Šçš„å±€é™æ€§</p>
</blockquote>
<h3 id="1ä¸»è¦æ”¹è¿›"><a class="markdownIt-Anchor" href="#1ä¸»è¦æ”¹è¿›"></a> 1.ä¸»è¦æ”¹è¿›</h3>
<h4 id="11-bn-åŠ å…¥"><a class="markdownIt-Anchor" href="#11-bn-åŠ å…¥"></a> 1.1 BN åŠ å…¥</h4>
<p>å·ç§¯å±‚åæ·»åŠ æ‰¹å½’ä¸€åŒ–ï¼ˆBatch Normalizationï¼‰, å½¢æˆ<strong>CBLç»“æ„</strong></p>
<h4 id="12-anchor"><a class="markdownIt-Anchor" href="#12-anchor"></a> 1.2 anchor</h4>
<p>å¼•å…¥åŸºäº Faster R-CNN çš„ anchor box æœºåˆ¶ï¼Œ</p>
<blockquote>
<p>ä»€ä¹ˆæ˜¯anchor ?</p>
</blockquote>
<ol>
<li>æ¯ä¸ªç½‘æ ¼<strong>é¢„æµ‹å¤šä¸ªé¢„å®šä¹‰å½¢çŠ¶çš„é”šæ¡†</strong>, è€Œä¸æ˜¯å¯¹æ¯ä¸€ä¸ªè¿›è¡Œä»0çš„å›å½’</li>
<li>æ¯ä¸ªç½‘æ ¼é¢„æµ‹ <strong>5 ä¸ª anchor box</strong></li>
<li>è¾¹ç•Œæ¡†åæ ‡é¢„æµ‹ä»ç›´æ¥å›å½’ (x,y,w,h) æ”¹ä¸ºé¢„æµ‹<strong>ç›¸å¯¹äº anchor box çš„åç§»é‡</strong>(t_x, t_y, t_w, t_h)</li>
<li></li>
</ol>
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250104164542277.png" alt="image-20250104164542277" style="zoom: 67%;">
<h4 id="13-ç»´åº¦èšç±»"><a class="markdownIt-Anchor" href="#13-ç»´åº¦èšç±»"></a> 1.3 ç»´åº¦èšç±»</h4>
<p>é€šè¿‡K-meanèšç±», æ¨¡å‹å­¦ä¹ å¦‚ä½•è°ƒæ•´é¢„å®šä¹‰çš„ anchorï¼Œè€Œä¸æ˜¯ä»é›¶å¼€å§‹é¢„æµ‹è¾¹ç•Œæ¡†çš„æ‰€æœ‰å‚æ•°ã€‚</p>
<h3 id="2-è®­ç»ƒ-2"><a class="markdownIt-Anchor" href="#2-è®­ç»ƒ-2"></a> 2. è®­ç»ƒ</h3>
<h4 id="21-darknet-19"><a class="markdownIt-Anchor" href="#21-darknet-19"></a> 2.1 Darknet-19</h4>
<h4 id="22-pass-through-layer"><a class="markdownIt-Anchor" href="#22-pass-through-layer"></a> 2.2 pass through layer</h4>
<p>å°†é«˜åˆ†è¾¨ç‡ç‰¹å¾å›¾ï¼ˆä¾‹å¦‚ 26x26ï¼‰ä¸ä½åˆ†è¾¨ç‡ç‰¹å¾å›¾ï¼ˆ13x13ï¼‰è¿æ¥ï¼Œä¿ç•™æ›´å¤šç»†èŠ‚ä¿¡æ¯.</p>
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250104160704522.png" alt="image-20250104160704522" style="zoom:67%;"> 
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250104160931404.png" alt="image-20250104160931404" style="zoom:50%;"> 
<h4 id="23-å¤šå°ºåº¦æ•°æ®è¾“å…¥"><a class="markdownIt-Anchor" href="#23-å¤šå°ºåº¦æ•°æ®è¾“å…¥"></a> 2.3 å¤šå°ºåº¦æ•°æ®è¾“å…¥</h4>
<p>åœ¨è®­ç»ƒæ—¶éšæœºè°ƒæ•´è¾“å…¥å›¾åƒåˆ†è¾¨ç‡ï¼ˆå¦‚ 320x320ã€416x416ã€608x608 ç­‰ï¼‰ï¼Œä½¿æ¨¡å‹é€‚åº”ä¸åŒå°ºåº¦çš„è¾“å…¥ã€‚</p>
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250104161259611.png" alt="image-20250104161259611" style="zoom:50%;"> 
<h4 id="24-æŸå¤±å‡½æ•°ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#24-æŸå¤±å‡½æ•°ä¼˜åŒ–"></a> 2.4 <strong>æŸå¤±å‡½æ•°ä¼˜åŒ–</strong>ï¼š</h4>
<p>YOLOv2 å»¶ç»­äº† YOLOv1 çš„ä¸‰éƒ¨åˆ†æŸå¤±å‡½æ•°ï¼ˆåæ ‡æŸå¤±ã€ç½®ä¿¡åº¦æŸå¤±ã€åˆ†ç±»æŸå¤±ï¼‰ï¼Œä½†å¯¹åæ ‡é¢„æµ‹è¿›è¡Œäº†ä¼˜åŒ–ï¼Œä½¿ç”¨ anchor box çš„åç§»é‡é¢„æµ‹ã€‚</p>
<h3 id="3-ä¼˜ç¼º"><a class="markdownIt-Anchor" href="#3-ä¼˜ç¼º"></a> 3. ä¼˜ç¼º</h3>
<ul>
<li>passthroughæé«˜å°ç›®æ ‡æ£€æµ‹, Darknetè°ƒé«˜é€Ÿåº¦,9000 å¤šç§ç±»åˆ«æ£€æµ‹å¹¿æ³›æ€§é«˜</li>
<li>è°ƒæ•´ anchorçš„å¤æ‚æ€§, NMSé‡å ç›®æ ‡å¤„ç†ä¸è¶³,</li>
</ul>
<h2 id="yolo-v3"><a class="markdownIt-Anchor" href="#yolo-v3"></a> YOLO V3</h2>
<blockquote>
<p>ä»v2çš„darknet-19åˆ°v3çš„darknet-53</p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/564855770">https://zhuanlan.zhihu.com/p/564855770</a></p>
</blockquote>
<h3 id="1ä¸»è¦æ”¹è¿›-2"><a class="markdownIt-Anchor" href="#1ä¸»è¦æ”¹è¿›-2"></a> 1.ä¸»è¦æ”¹è¿›</h3>
<ol>
<li><strong>backboneç½‘ç»œçš„æå‡</strong></li>
<li><strong>å¼•å…¥FPNè¿›è¡Œå¤šå°ºåº¦é¢„æµ‹</strong></li>
<li><strong>æŸå¤±å‡½æ•°ä¸å†ä½¿ç”¨softmax(v2)ï¼Œé‡‡ç”¨binary cross-entropy lossï¼ˆäºŒåˆ†ç±»äº¤å‰æŸå¤±ç†µï¼‰</strong></li>
</ol>
<h3 id="2-darknet-53"><a class="markdownIt-Anchor" href="#2-darknet-53"></a> 2 darknet-53</h3>
<p><img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250824144528553.png" alt="image-20250824144528553"></p>
<ol>
<li><strong>CBLï¼š<strong>Yolov3ç½‘ç»œç»“æ„ä¸­çš„æœ€å°ç»„ä»¶ï¼Œç”±</strong>Conv+Bn+Leaky_relu</strong>æ¿€æ´»å‡½æ•°ä¸‰è€…ç»„æˆã€‚</li>
<li><strong>Res unitï¼š<strong>å€Ÿé‰´</strong>Resnet</strong>ç½‘ç»œä¸­çš„æ®‹å·®ç»“æ„ï¼Œè®©ç½‘ç»œå¯ä»¥æ„å»ºçš„æ›´æ·±ã€‚</li>
<li><strong>ResXï¼š<strong>ç”±ä¸€ä¸ª</strong>CBL</strong>å’Œ<strong>X</strong>ä¸ªæ®‹å·®ç»„ä»¶æ„æˆï¼Œæ˜¯Yolov3ä¸­çš„å¤§ç»„ä»¶ã€‚æ¯ä¸ªResæ¨¡å—å‰é¢çš„CBLéƒ½èµ·åˆ°ä¸‹é‡‡æ ·çš„ä½œç”¨ï¼Œå› æ­¤ç»è¿‡5æ¬¡Resæ¨¡å—åï¼Œå¾—åˆ°çš„ç‰¹å¾å›¾æ˜¯<strong>416-&gt;208-&gt;104-&gt;52-&gt;26-&gt;13å¤§å°</strong>ã€‚</li>
</ol>
<p><strong>ä¸‰ç§å°ºåº¦çš„ç‰¹å¾å›¾å¦‚ä¸‹</strong>ï¼š</p>
<ul>
<li>å°ºåº¦1: åœ¨åŸºç¡€ç½‘ç»œä¹‹åæ·»åŠ ä¸€äº›å·ç§¯å±‚ï¼Œè¾“å‡º13x13å¤§å°çš„ç‰¹å¾å›¾.</li>
<li>å°ºåº¦2: ä»å°ºåº¦1ä¸­çš„å€’æ•°ç¬¬äºŒå±‚çš„å·ç§¯å±‚ä¸Šé‡‡æ ·(x2)å†ä¸darknetçš„æœ€åä¸€ä¸ª26x26å¤§å°çš„ç‰¹å¾å›¾ç›¸åŠ ,å†æ¬¡é€šè¿‡å¤šä¸ªå·ç§¯åï¼Œè¾“å‡º26 26å¤§å°çš„ç‰¹å¾å›¾.</li>
<li>å°ºåº¦3: ä»å°ºåº¦2ä¸­çš„å€’æ•°ç¬¬äºŒå±‚çš„å·ç§¯å±‚ä¸Šé‡‡æ ·(x2)å†ä¸darknetçš„æœ€åä¸€ä¸ª52x52å¤§å°çš„ç‰¹å¾å›¾ç›¸åŠ ,å†æ¬¡é€šè¿‡å¤šä¸ªå·ç§¯åï¼Œè¾“å‡º52 52å¤§å°çš„ç‰¹å¾å›¾.</li>
</ul>
<p><img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250824144658414.png" alt="image-20250824144658414"></p>
<h3 id="3-fpn"><a class="markdownIt-Anchor" href="#3-fpn"></a> 3 FPN</h3>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://arxiv.org/abs/1612.03144">https://arxiv.org/abs/1612.03144</a></p>
</blockquote>
<p>FPNä¸»è¦è§£å†³çš„æ˜¯ç‰©ä½“æ£€æµ‹ä¸­çš„å¤šå°ºåº¦é—®é¢˜ï¼Œé€šè¿‡ç®€å•çš„<strong>ç½‘ç»œè¿æ¥æ”¹å˜</strong>ï¼Œåœ¨åŸºæœ¬ä¸å¢åŠ åŸæœ‰æ¨¡å‹è®¡ç®—é‡çš„æƒ…å†µä¸‹ï¼Œå¤§å¹…åº¦<strong>æå‡äº†å°ç‰©ä½“æ£€æµ‹çš„æ€§èƒ½ã€‚</strong></p>
<p>ä¸»è¦æ˜¯å› ä¸º: <strong>ä½å±‚çš„ç‰¹å¾è¯­ä¹‰ä¿¡æ¯æ¯”è¾ƒå°‘ï¼Œä½†æ˜¯ç›®æ ‡ä½ç½®å‡†ç¡®ï¼›é«˜å±‚çš„ç‰¹å¾è¯­ä¹‰ä¿¡æ¯æ¯”è¾ƒä¸°å¯Œï¼Œä½†æ˜¯ç›®æ ‡ä½ç½®æ¯”è¾ƒç²—ç•¥</strong>ã€‚</p>
<p><strong>FPNä¸­, è‡ªä¸‹å‘ä¸Šå°±æ˜¯æ·±åº¦å·ç§¯ç½‘ç»œçš„å‰å‘æå–ç‰¹å¾çš„è¿‡ç¨‹ï¼Œè‡ªä¸Šè€Œä¸‹åˆ™æ˜¯å¯¹æœ€åå·ç§¯å±‚çš„ç‰¹å¾å›¾è¿›è¡Œä¸Šé‡‡æ ·çš„è¿‡ç¨‹ï¼Œæ¨ªå‘çš„è¿æ¥åˆ™æ˜¯èåˆæ·±å±‚çš„å·ç§¯å±‚ç‰¹å¾å’Œæµ…å±‚å·ç§¯ç‰¹å¾çš„è¿‡ç¨‹</strong>ã€‚</p>
<p>åˆäº†æ·±å±‚å·ç§¯å±‚çš„é«˜çº§åˆ«ç‰¹å¾å’Œæµ…å±‚å·ç§¯å±‚çš„ä½çº§åˆ«ç‰¹å¾ã€‚</p>
<p><img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250824145130304.png" alt="image-20250824145130304"></p>
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250824145841206.png" alt="image-20250824145841206" style="zoom:50%;">
<h3 id="4-æŸå¤±æ”¹è¿›"><a class="markdownIt-Anchor" href="#4-æŸå¤±æ”¹è¿›"></a> 4. æŸå¤±æ”¹è¿›</h3>
<p>ä¸ä½¿ç”¨Softmaxè€Œæ˜¯æ”¹æˆä½¿ç”¨logisticçš„è¾“å‡ºè¿›è¡Œé¢„æµ‹ã€‚è¿™æ ·èƒ½å¤Ÿæ”¯æŒå¤šæ ‡ç­¾å¯¹è±¡</p>
<h2 id="yolov4"><a class="markdownIt-Anchor" href="#yolov4"></a> YOLOV4</h2>
<h3 id="1-ä¸»è¦æ”¹è¿›"><a class="markdownIt-Anchor" href="#1-ä¸»è¦æ”¹è¿›"></a> 1 ä¸»è¦æ”¹è¿›</h3>
<ol>
<li>æ•°æ®å¢å¼º</li>
<li>å„ç§trick</li>
</ol>
<h3 id="2-æ•°æ®å¢å¼º"><a class="markdownIt-Anchor" href="#2-æ•°æ®å¢å¼º"></a> 2 æ•°æ®å¢å¼º</h3>
<h4 id="1-satè‡ªå¯¹æŠ—è®­ç»ƒ"><a class="markdownIt-Anchor" href="#1-satè‡ªå¯¹æŠ—è®­ç»ƒ"></a> 1 SATè‡ªå¯¹æŠ—è®­ç»ƒ</h4>
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250105151656124.png" alt="image-20250105151656124" style="zoom:67%;">
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250105151712577.png" alt="image-20250105151712577" style="zoom:67%;">
<h4 id="2-mosaicæ•°æ®å¢å¼º"><a class="markdownIt-Anchor" href="#2-mosaicæ•°æ®å¢å¼º"></a> 2 Mosaicæ•°æ®å¢å¼º</h4>
<h4 id="3-label-smoothingç±»æ ‡ç­¾å¹³æ»‘"><a class="markdownIt-Anchor" href="#3-label-smoothingç±»æ ‡ç­¾å¹³æ»‘"></a> 3. Label Smoothingç±»æ ‡ç­¾å¹³æ»‘</h4>
<h3 id="3-ç½‘ç»œç»“æ„æ”¹è¿›"><a class="markdownIt-Anchor" href="#3-ç½‘ç»œç»“æ„æ”¹è¿›"></a> 3 ç½‘ç»œç»“æ„æ”¹è¿›</h3>
<h4 id="1-backbone"><a class="markdownIt-Anchor" href="#1-backbone"></a> 1 Backbone</h4>
<h5 id="311-csp"><a class="markdownIt-Anchor" href="#311-csp"></a> 3.1.1 CSP</h5>
<blockquote>
<p>ä½œç”¨: ç‰¹å¾å¢å¼º</p>
</blockquote>
<h5 id="img-src2025å¹´5æœˆ4æ—¥-yoloæ±‡æ€»image-20250105130506026png-altimage-20250105130506026-stylezoom50"><a class="markdownIt-Anchor" href="#img-src2025å¹´5æœˆ4æ—¥-yoloæ±‡æ€»image-20250105130506026png-altimage-20250105130506026-stylezoom50"></a> <img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250105130506026.png" alt="image-20250105130506026" style="zoom:50%;"></h5>
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250105152215756.png" alt="image-20250105152215756" style="zoom:50%;"> 
<h4 id="4-neck"><a class="markdownIt-Anchor" href="#4-neck"></a> 4 Neck</h4>
<p>ä¸€ä¸ªé¢ˆéƒ¨neckç”±å‡ ä¸ªè‡ªä¸‹è€Œä¸Šçš„è·¯å¾„å’Œå‡ ä¸ªè‡ªä¸Šè€Œä¸‹çš„è·¯å¾„ç»„æˆã€‚å…·æœ‰è¯¥æœºåˆ¶çš„ç½‘ç»œåŒ…æ‹¬ç‰¹å¾é‡‘å­—å¡”ç½‘ç»œ(FPN)ã€è·¯å¾„æ±‡èšç½‘ç»œ(PAN)ã€BiFPNå’ŒNAS-FPNã€‚</p>
<h5 id="41-fpn"><a class="markdownIt-Anchor" href="#41-fpn"></a> 4.1 FPN</h5>
<p>å¼•å…¥äº†è‡ªåº•å‘ä¸Šçš„è·¯å¾„ï¼Œä½¿å¾—åº•å±‚ä¿¡æ¯æ›´å®¹æ˜“ä¼ åˆ°é¡¶éƒ¨</p>
<p><img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250105150718121.png" alt="image-20250105150718121"></p>
<p><img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250105150726295.png" alt="image-20250105150726295"></p>
<h5 id="42-pan"><a class="markdownIt-Anchor" href="#42-pan"></a> 4.2 PAN</h5>
<p>ç‰¹å¾å±‚ä¹‹é—´èåˆæ—¶æ˜¯ç›´æ¥é€šè¿‡additionçš„æ–¹å¼è¿›è¡Œèåˆçš„ï¼Œè€Œ<strong>Yolov4ä¸­åˆ™é‡‡ç”¨åœ¨é€šé“æ–¹å‘concatæ‹¼æ¥</strong>æ“ä½œèåˆçš„</p>
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250105150948205.png" alt="image-20250105150948205" style="zoom:67%;">
<p><img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250105150823004.png" alt="image-20250105150823004"></p>
<h5 id="43-spp"><a class="markdownIt-Anchor" href="#43-spp"></a> 4.3 SPP</h5>
<blockquote>
<p>ä½œç”¨: <strong>ç‰¹å¾å¢å¼º+å…¨å±€ä¿¡æ¯</strong></p>
</blockquote>
<p>ç©ºé—´é‡‘å­—å¡”æ± åŒ– ç‰¹å¾æå–æ± åŒ–</p>
<p>é€šè¿‡åœ¨è¾“å…¥ç‰¹å¾å›¾ä¸Š<strong>é‡‡ç”¨ä¸åŒå°ºåº¦çš„æ± åŒ–çª—å£</strong>ï¼ˆå¦‚1Ã—1ã€2Ã—2ã€4Ã—4 ç­‰ï¼‰ï¼ŒSPP èƒ½å¤Ÿä»ä¸åŒçš„ç©ºé—´èŒƒå›´å†…æœ‰æ•ˆåœ°æ•è·å›¾åƒä¸­ä¸åŒå¤§å°å’Œæ¯”ä¾‹çš„ç›®æ ‡ç‰¹å¾</p>
<blockquote>
<p>æ—¨åœ¨è§£å†³å·ç§¯ç¥ç»ç½‘ç»œä¸­å›ºå®šå¤§å°è¾“å…¥çš„é™åˆ¶ã€‚å®ƒèƒ½å¤Ÿå¯¹ä»»æ„å¤§å°çš„ è¾“å…¥ç‰¹å¾å›¾è¿›è¡Œå¤„ç†ï¼Œå¹¶åœ¨ä¸åŒå°ºåº¦ä¸‹æå–ç‰¹å¾ï¼Œä»è€Œæ˜¾è‘—å¢å¼ºæ¨¡å‹å¯¹ä¸åŒå¤§å°ç›®æ ‡çš„æ„Ÿ çŸ¥èƒ½åŠ›</p>
</blockquote>
<p><img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250303181539006.png" alt="image-20250303181539006"></p>
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250105150606229.png" alt="image-20250105150606229" style="zoom:50%;">
<h3 id="4-bof"><a class="markdownIt-Anchor" href="#4-bof"></a> 4 BoF</h3>
<p>æˆ‘ä»¬æŠŠè¿™äº›åªä¼š<strong>æ”¹å˜åŸ¹è®­ç­–ç•¥æˆ–åªå¢åŠ åŸ¹è®­æˆæœ¬</strong>çš„æ–¹æ³•ç§°ä¸ºâ€œbag of freebiesâ€ã€‚</p>
<h4 id="1-æ•°æ®å¢å¼º"><a class="markdownIt-Anchor" href="#1-æ•°æ®å¢å¼º"></a> 1 æ•°æ®å¢å¼º</h4>
<h4 id="2-è§£å†³æ•°æ®é›†ä¸­è¯­ä¹‰åˆ†å¸ƒåå·®é—®é¢˜"><a class="markdownIt-Anchor" href="#2-è§£å†³æ•°æ®é›†ä¸­è¯­ä¹‰åˆ†å¸ƒåå·®é—®é¢˜"></a> 2 è§£å†³æ•°æ®é›†ä¸­è¯­ä¹‰åˆ†å¸ƒåå·®é—®é¢˜</h4>
<p>ä¸åŒç±»ä¹‹é—´å­˜åœ¨æ•°æ®ä¸å¹³è¡¡çš„é—®é¢˜</p>
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250105143153315.png" alt="image-20250105143153315" style="zoom: 67%;"> 
<h4 id="3-è¾¹ç•Œæ¡†bboxå›å½’çš„ç›®æ ‡å‡½æ•°"><a class="markdownIt-Anchor" href="#3-è¾¹ç•Œæ¡†bboxå›å½’çš„ç›®æ ‡å‡½æ•°"></a> 3 è¾¹ç•Œæ¡†(BBox)å›å½’çš„ç›®æ ‡å‡½æ•° ??</h4>
<p>ç›´æ¥ä¼°è®¡BBoxä¸­æ¯ä¸ªç‚¹çš„åæ ‡å€¼æ˜¯è¦å°†è¿™äº›ç‚¹ä½œä¸ºè‡ªå˜é‡æ¥å¤„ç†ï¼Œä½†å®é™…ä¸Šå¹¶æ²¡æœ‰è€ƒè™‘å¯¹è±¡æœ¬èº«çš„å®Œæ•´æ€§</p>
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250105143449548.png" alt="image-20250105143449548" style="zoom:67%;">
<h3 id="5-bos"><a class="markdownIt-Anchor" href="#5-bos"></a> 5 BoS</h3>
<p>å¯¹äºé‚£äº›åªå¢åŠ å°‘é‡æ¨ç†æˆæœ¬ä½†åˆèƒ½æ˜¾è‘—æé«˜ç›®æ ‡æ£€æµ‹ç²¾åº¦çš„<strong>æ’ä»¶æ¨¡å—å’Œåå¤„ç†æ–¹æ³•</strong>ï¼Œæˆ‘ä»¬ç§°å®ƒä»¬ä¸ºâ€œbag of specials&quot;</p>
<h4 id="1-å¢å¼ºæ„Ÿå—é‡"><a class="markdownIt-Anchor" href="#1-å¢å¼ºæ„Ÿå—é‡"></a> 1 å¢å¼ºæ„Ÿå—é‡</h4>
<p><strong>â‘ æ”¹è¿›çš„SPPæ¨¡å—</strong></p>
<p><img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250105143750945.png" alt="image-20250105143750945"></p>
<p><strong>â‘¡ASPPæ¨¡å—</strong></p>
<p><img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250105143836518.png" alt="image-20250105143836518"></p>
<p><strong>â‘¢RFBæ¨¡å—</strong></p>
<p><img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250105143846925.png" alt="image-20250105143846925"></p>
<h4 id="2-æ³¨æ„åŠ›æœºåˆ¶"><a class="markdownIt-Anchor" href="#2-æ³¨æ„åŠ›æœºåˆ¶"></a> 2 æ³¨æ„åŠ›æœºåˆ¶</h4>
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250105143912123.png" alt="image-20250105143912123" style="zoom:50%;"> 
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250105143920723.png" alt="image-20250105143920723" style="zoom: 50%;"> 
<h4 id="3-ç‰¹å¾èåˆ"><a class="markdownIt-Anchor" href="#3-ç‰¹å¾èåˆ"></a> 3 ç‰¹å¾èåˆ</h4>
<p><strong>â‘ SFAMï¼š</strong> ä¸»è¦æ€æƒ³æ˜¯åˆ©ç”¨SEæ¨¡å—åœ¨å¤šå°ºåº¦çš„æ‹¼æ¥ç‰¹å¾å›¾ä¸Šè¿›è¡Œä¿¡é“çº§é‡åŠ æƒã€‚</p>
<p><strong>â‘¡ASFFï¼š</strong> ä½¿ç”¨softmaxå¯¹å¤šå°ºåº¦æ‹¼æ¥ç‰¹å¾å›¾åœ¨ç‚¹ç»´åº¦è¿›è¡ŒåŠ æƒã€‚</p>
<p><strong>â‘¢BiFPNï¼š</strong> æå‡ºäº†å¤šè¾“å…¥åŠ æƒå‰©ä½™è¿æ¥æ¥æ‰§è¡ŒæŒ‰æ¯”ä¾‹çš„æ°´å¹³é‡åŠ æƒï¼Œç„¶åæ·»åŠ ä¸åŒæ¯”ä¾‹çš„ç‰¹å¾å›¾ã€‚</p>
<h4 id="4-æ¿€æ´»å‡½æ•°"><a class="markdownIt-Anchor" href="#4-æ¿€æ´»å‡½æ•°"></a> 4 æ¿€æ´»å‡½æ•°</h4>
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250105144012738.png" alt="image-20250105144012738" style="zoom:50%;"> 
<h4 id="5-dropblockæ­£åˆ™åŒ–"><a class="markdownIt-Anchor" href="#5-dropblockæ­£åˆ™åŒ–"></a> 5 Dropblockæ­£åˆ™åŒ–</h4>
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250105130645146.png" alt="image-20250105130645146" style="zoom: 50%;"> 
<blockquote>
<p>Qï¼šå…¨è¿æ¥å±‚ä¸Šæ•ˆæœå¾ˆå¥½çš„Dropoutåœ¨å·ç§¯å±‚ä¸Šæ•ˆæœå¹¶ä¸å¥½ï¼Ÿ</p>
<p>ä¸­é—´Dropoutçš„æ–¹å¼ä¼šéšæœºçš„åˆ å‡ä¸¢å¼ƒä¸€äº›ä¿¡æ¯ï¼Œä½†Dropblockçš„ç ”ç©¶è€…è®¤ä¸ºï¼Œå·ç§¯å±‚å¯¹äºè¿™ç§éšæœºä¸¢å¼ƒå¹¶ä¸æ•æ„Ÿï¼Œå› ä¸ºå·ç§¯å±‚é€šå¸¸æ˜¯ä¸‰å±‚è¿ç”¨ï¼šå·ç§¯+æ¿€æ´»+æ± åŒ–å±‚ï¼Œæ± åŒ–å±‚æœ¬èº«å°±æ˜¯å¯¹ç›¸é‚»å•å…ƒèµ·ä½œç”¨ã€‚</p>
<p>è€Œä¸”å³ä½¿éšæœºä¸¢å¼ƒï¼Œå·ç§¯å±‚ä»ç„¶å¯ä»¥ä»ç›¸é‚»çš„æ¿€æ´»å•å…ƒå­¦ä¹ åˆ°ç›¸åŒçš„ä¿¡æ¯ã€‚å› æ­¤ï¼Œåœ¨å…¨è¿æ¥å±‚ä¸Šæ•ˆæœå¾ˆå¥½çš„Dropoutåœ¨å·ç§¯å±‚ä¸Šæ•ˆæœå¹¶ä¸å¥½ã€‚æ‰€ä»¥å³å›¾Dropblockçš„ç ”ç©¶è€…åˆ™å¹²è„†æ•´ä¸ªå±€éƒ¨åŒºåŸŸè¿›è¡Œåˆ å‡ä¸¢å¼ƒã€‚</p>
</blockquote>
<h2 id="yolo-v5"><a class="markdownIt-Anchor" href="#yolo-v5"></a> YOLO V5</h2>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43334693/article/details/129312409">https://blog.csdn.net/weixin_43334693/article/details/129312409</a></p>
</blockquote>
<h3 id="1-ä¸»è¦æ”¹è¿›-2"><a class="markdownIt-Anchor" href="#1-ä¸»è¦æ”¹è¿›-2"></a> 1 ä¸»è¦æ”¹è¿›</h3>
<ol>
<li>å¢åŠ ä¸åŒsize ä»è½»é‡çº§ï¼ˆYOLOv5nï¼‰åˆ°é«˜ç²¾åº¦ï¼ˆYOLOv5xï¼‰çš„å¤šç§æ¨¡å‹å˜ä½“</li>
<li>è‡ªé€‚åº”é”šç‚¹è®¡ç®—</li>
<li>è®­ç»ƒä¼˜åŒ–</li>
</ol>
<h3 id="2-è‡ªé€‚åº”é”šç‚¹è®¡ç®—"><a class="markdownIt-Anchor" href="#2-è‡ªé€‚åº”é”šç‚¹è®¡ç®—"></a> 2. è‡ªé€‚åº”é”šç‚¹è®¡ç®—</h3>
<p>åœ¨Yolov3ã€Yolov4ä¸­ï¼Œè®­ç»ƒä¸åŒçš„æ•°æ®é›†æ—¶ï¼Œè®¡ç®—åˆå§‹é”šæ¡†çš„å€¼æ˜¯é€šè¿‡å•ç‹¬çš„ç¨‹åºè¿è¡Œçš„ã€‚</p>
<p>ä½†Yolov5ä¸­å°†æ­¤åŠŸèƒ½åµŒå…¥åˆ°ä»£ç ä¸­ï¼Œæ¯æ¬¡è®­ç»ƒæ—¶ï¼Œè‡ªé€‚åº”çš„è®¡ç®—ä¸åŒè®­ç»ƒé›†ä¸­çš„æœ€ä½³é”šæ¡†å€¼ã€‚</p>
<p><img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250829092526213.png" alt="image-20250829092526213"></p>
<h3 id="3-ç½‘ç»œç»“æ„æ”¹è¿›-2"><a class="markdownIt-Anchor" href="#3-ç½‘ç»œç»“æ„æ”¹è¿›-2"></a> 3.  ç½‘ç»œç»“æ„æ”¹è¿›</h3>
<p><img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/yolo_v5.jpg" alt="yolo_v5"></p>
<p><img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250829093454150.png" alt="image-20250829093454150"></p>
<p><img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250829093457474.png" alt="image-20250829093457474"></p>
<h4 id="31-focusç»“æ„"><a class="markdownIt-Anchor" href="#31-focusç»“æ„"></a> 3.1 Focusç»“æ„</h4>
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250829092726729.png" alt="image-20250829092726729" style="zoom: 50%;">
<p>åæ”¹ä¸º6x6å·ç§¯æ“ä½œ</p>
<h4 id="32-csp"><a class="markdownIt-Anchor" href="#32-csp"></a> 3.2 CSP</h4>
<p>å®šä¹‰: Conv + Nä¸ªResæ¨¡å— + Conv</p>
<blockquote>
<p>ä½œç”¨: ç‰¹å¾å¢å¼º</p>
</blockquote>
<p>åœ¨v5ä¸­, å‡ºbackboneåŠ å…¥CSPç»“æ„, <strong>neckä¹ŸåŠ å…¥äº†CSPç»“æ„</strong></p>
<h3 id="4-è®­ç»ƒä¼˜åŒ–"><a class="markdownIt-Anchor" href="#4-è®­ç»ƒä¼˜åŒ–"></a> 4. è®­ç»ƒä¼˜åŒ–</h3>
<h4 id="41-æ•°æ®å¢å¼º"><a class="markdownIt-Anchor" href="#41-æ•°æ®å¢å¼º"></a> 4.1 <strong>æ•°æ®å¢å¼º</strong>ï¼š</h4>
<ul>
<li><strong>Mosaic æ•°æ®å¢å¼º</strong>ï¼šä» YOLOv4 ç»§æ‰¿ï¼Œå°† 4 å¼ å›¾åƒæ‹¼æ¥ä¸ºä¸€å¼ ï¼Œæ¨¡æ‹Ÿå¤æ‚åœºæ™¯ï¼Œæå‡å°ç›®æ ‡å’Œé®æŒ¡ç›®æ ‡çš„æ£€æµ‹èƒ½åŠ›ã€‚</li>
<li><strong>AutoAugment</strong> å’Œ <strong>MixUp</strong>ï¼šè‡ªåŠ¨å¢å¼ºå’Œå›¾åƒæ··åˆï¼Œè¿›ä¸€æ­¥æé«˜æ¨¡å‹é²æ£’æ€§ã€‚</li>
<li><strong>HSV å¢å¼º</strong>ï¼šè°ƒæ•´è‰²è°ƒã€é¥±å’Œåº¦å’Œäº®åº¦ï¼Œå¢å¼ºå¯¹å…‰ç…§å˜åŒ–çš„é€‚åº”æ€§ã€‚</li>
</ul>
<h4 id="42-ciou_loss"><a class="markdownIt-Anchor" href="#42-ciou_loss"></a> 4.2 CIOU_LOSS</h4>
<h4 id="43-softnms"><a class="markdownIt-Anchor" href="#43-softnms"></a> 4.3 SoftNMS</h4>
<h2 id="yolo-v6"><a class="markdownIt-Anchor" href="#yolo-v6"></a> YOLO V6</h2>
<p>YOLOv6 æ˜¯ç”±ç¾å›¢æ”¹è¿›ç‰ˆæœ¬</p>
<h3 id="ä¸»è¦æ”¹è¿›"><a class="markdownIt-Anchor" href="#ä¸»è¦æ”¹è¿›"></a> ä¸»è¦æ”¹è¿›</h3>
<p>YOLOv6 ç»“åˆäº†æœ€æ–°çš„è®¡ç®—æœºè§†è§‰æŠ€æœ¯ï¼Œé’ˆå¯¹ YOLOv5 çš„å±€é™æ€§è¿›è¡Œäº†ä¼˜åŒ–ï¼Œä»¥ä¸‹æ˜¯ä¸»è¦æ”¹è¿›ç‚¹ï¼ˆéƒ¨åˆ†ä¿¡æ¯å‚è€ƒæœç´¢ç»“æœï¼‰ï¼š</p>
<h4 id="1-éª¨å¹²ç½‘ç»œefficientrep-backbone"><a class="markdownIt-Anchor" href="#1-éª¨å¹²ç½‘ç»œefficientrep-backbone"></a> 1. éª¨å¹²ç½‘ç»œï¼šEfficientRep Backbone</h4>
<ul>
<li>
<p>è®¾è®¡</p>
<p>ï¼š</p>
<ul>
<li>YOLOv6 å¼•å…¥äº† <strong>EfficientRep Backbone</strong>ï¼Œä¸€ä¸ªé«˜æ•ˆçš„ç‰¹å¾æå–å™¨ï¼ŒåŸºäº RepVGG é£æ ¼çš„é‡æ–°å‚æ•°åŒ–ï¼ˆReparameterizationï¼‰ç»“æ„ã€‚</li>
<li>åœ¨è®­ç»ƒé˜¶æ®µä½¿ç”¨ RepBlockï¼ˆå¤šåˆ†æ”¯ç»“æ„ï¼‰ï¼Œåœ¨æ¨ç†é˜¶æ®µå°†å…¶è½¬æ¢ä¸ºå•ä¸€çš„ 3x3 å·ç§¯å±‚ï¼ˆRepConvï¼‰ï¼Œå‡å°‘è®¡ç®—é‡å¹¶æå‡æ¨ç†é€Ÿåº¦ã€‚</li>
</ul>
</li>
<li>
<p>ä¼˜åŠ¿</p>
<p>ï¼š</p>
<ul>
<li>é«˜æ•ˆçš„ç‰¹å¾æå–èƒ½åŠ›ï¼Œå‚æ•°é‡å’Œè®¡ç®—é‡æ›´å°‘ï¼ˆä¾‹å¦‚ YOLOv6-N å‚æ•°é‡ä»…ä¸º 4.7Mï¼ŒFLOPs ä¸º 11.4Gï¼‰ã€‚</li>
<li>é€‚åˆç§»åŠ¨è®¾å¤‡å’Œ CPU éƒ¨ç½²ï¼Œå…¼é¡¾ç²¾åº¦å’Œé€Ÿåº¦ã€‚</li>
</ul>
</li>
</ul>
<h4 id="2-ç‰¹å¾èåˆrep-pan-neck"><a class="markdownIt-Anchor" href="#2-ç‰¹å¾èåˆrep-pan-neck"></a> 2. ç‰¹å¾èåˆï¼šRep-PAN Neck</h4>
<ul>
<li>è®¾è®¡ï¼š
<ul>
<li>YOLOv6 ä½¿ç”¨ <strong>Rep-PAN Neck</strong>ï¼ˆåŸºäº PANet çš„é‡æ–°å‚æ•°åŒ–ç‰ˆæœ¬ï¼‰ï¼Œç»“åˆè‡ªåº•å‘ä¸Šå’Œè‡ªé¡¶å‘ä¸‹çš„ç‰¹å¾èåˆè·¯å¾„ã€‚</li>
<li>åœ¨è®­ç»ƒé˜¶æ®µä½¿ç”¨ CSPStackRep æ¨¡å—ï¼ˆç±»ä¼¼ YOLOv5 çš„ CSP ç»“æ„ï¼‰ï¼Œæ¨ç†é˜¶æ®µè½¬æ¢ä¸ºé«˜æ•ˆå·ç§¯å±‚ã€‚</li>
</ul>
</li>
<li>ä¼˜åŠ¿ï¼š
<ul>
<li>å¢å¼ºå¤šå°ºåº¦ç‰¹å¾èåˆï¼Œå°¤å…¶å¯¹å°ç›®æ ‡çš„ç‰¹å¾æå–æ›´æœ‰æ•ˆã€‚</li>
<li>æé«˜å¯¹å¤æ‚åœºæ™¯çš„ä¸Šä¸‹æ–‡ç†è§£èƒ½åŠ›ã€‚</li>
</ul>
</li>
</ul>
<h4 id="3-åŒå‘è¿æ¥æ¨¡å—bic-module"><a class="markdownIt-Anchor" href="#3-åŒå‘è¿æ¥æ¨¡å—bic-module"></a> 3. åŒå‘è¿æ¥æ¨¡å—ï¼ˆBiC Moduleï¼‰</h4>
<ul>
<li>è®¾è®¡ï¼š
<ul>
<li>åœ¨ Neck ä¸­å¼•å…¥ <strong>Bidirectional Concatenation (BiC)</strong> æ¨¡å—ï¼Œå¢å¼ºå®šä½ä¿¡å·çš„ä¼ æ’­ã€‚</li>
</ul>
</li>
<li>ä¼˜åŠ¿ï¼š
<ul>
<li>æé«˜è¾¹ç•Œæ¡†å®šä½ç²¾åº¦ï¼ŒåŒæ—¶å¯¹æ¨ç†é€Ÿåº¦å½±å“å¾®ä¹å…¶å¾®ã€‚</li>
<li>ç‰¹åˆ«é€‚åˆå·¥ä¸šåœºæ™¯ä¸­å¯¹ç²¾å‡†å®šä½çš„éœ€æ±‚ã€‚</li>
</ul>
</li>
</ul>
<h4 id="4-anchor-aided-trainingaatç­–ç•¥"><a class="markdownIt-Anchor" href="#4-anchor-aided-trainingaatç­–ç•¥"></a> 4. Anchor-Aided Trainingï¼ˆAATï¼‰ç­–ç•¥</h4>
<ul>
<li>è®¾è®¡ï¼š
<ul>
<li>YOLOv6 æå‡º <strong>Anchor-Aided Training (AAT)</strong>ï¼Œç»“åˆ anchor-based å’Œ anchor-free çš„ä¼˜ç‚¹ã€‚</li>
<li>åœ¨è®­ç»ƒé˜¶æ®µä½¿ç”¨ anchor box è¾…åŠ©å®šä½ï¼Œåœ¨<strong>æ¨ç†é˜¶æ®µç§»é™¤ anchor ä¾èµ–ï¼Œä¿æŒé«˜æ•ˆæ€§ã€‚</strong></li>
</ul>
</li>
<li>ä¼˜åŠ¿ï¼š
<ul>
<li>æå‡è®­ç»ƒç¨³å®šæ€§ï¼ŒåŒæ—¶é¿å… anchor-free æ¨¡å‹çš„å¤æ‚æ€§ã€‚</li>
<li>æ¨ç†æ•ˆç‡æ›´é«˜ï¼Œé€‚åˆå®æ—¶åº”ç”¨ã€‚</li>
</ul>
</li>
</ul>
<h4 id="5-æ•°æ®å¢å¼ºä¸è®­ç»ƒä¼˜åŒ–"><a class="markdownIt-Anchor" href="#5-æ•°æ®å¢å¼ºä¸è®­ç»ƒä¼˜åŒ–"></a> 5. æ•°æ®å¢å¼ºä¸è®­ç»ƒä¼˜åŒ–</h4>
<ul>
<li>Mosaic æ•°æ®å¢å¼ºï¼š
<ul>
<li>ç»§æ‰¿ YOLOv4/YOLOv5 çš„ Mosaic å¢å¼ºï¼Œæ‹¼æ¥å¤šå¼ å›¾åƒæ¨¡æ‹Ÿå¤æ‚åœºæ™¯ï¼Œæå‡å°ç›®æ ‡å’Œé®æŒ¡ç›®æ ‡çš„æ£€æµ‹èƒ½åŠ›ã€‚</li>
</ul>
</li>
<li>è‡ªè’¸é¦ï¼ˆSelf-Distillationï¼‰ï¼š
<ul>
<li>åœ¨è®­ç»ƒæ—¶å¼•å…¥è¾…åŠ©å›å½’åˆ†æ”¯ï¼Œæå‡å°æ¨¡å‹ï¼ˆå¦‚ YOLOv6-N/Sï¼‰çš„æ€§èƒ½ï¼Œæ¨ç†æ—¶ç§»é™¤è¯¥åˆ†æ”¯ä»¥ä¿æŒé€Ÿåº¦ã€‚</li>
</ul>
</li>
<li>æŸå¤±å‡½æ•°ï¼š
<ul>
<li><strong>åæ ‡æŸå¤±</strong>ï¼šä½¿ç”¨ <strong>Varifocal Loss</strong> æˆ– <strong>GIoU Loss</strong>ï¼ˆæ ¹æ®æ¨¡å‹å˜ä½“ï¼‰ï¼Œä¼˜åŒ–è¾¹ç•Œæ¡†å®šä½ã€‚</li>
<li><strong>ç½®ä¿¡åº¦æŸå¤±</strong>ï¼šä½¿ç”¨äºŒå…ƒäº¤å‰ç†µæŸå¤±ä¼˜åŒ– objectness scoreã€‚</li>
<li><strong>åˆ†ç±»æŸå¤±</strong>ï¼šä½¿ç”¨ <strong>Varifocal Loss</strong> æˆ– <strong>Quality Focal Loss</strong>ï¼Œæ”¯æŒå¤šæ ‡ç­¾åˆ†ç±»ï¼Œé€‚åº”å¤æ‚åœºæ™¯ã€‚</li>
</ul>
</li>
<li>é‡åŒ–ä¼˜åŒ–ï¼š
<ul>
<li>æ”¯æŒ <strong>Post-Training Quantization (PTQ)</strong> å’Œ <strong>Quantization-Aware Training (QAT)</strong>ï¼Œç”Ÿæˆ INT8 é‡åŒ–æ¨¡å‹ï¼ˆå¦‚ YOLOv6Liteï¼‰ï¼Œé€‚åˆç§»åŠ¨è®¾å¤‡éƒ¨ç½²ã€‚</li>
</ul>
</li>
</ul>
<h2 id="yolo-v7"><a class="markdownIt-Anchor" href="#yolo-v7"></a> YOLO V7</h2>
<p>ä¸“æ³¨äºä¼˜åŒ–è®­ç»ƒè¿‡ç¨‹boï¼Œåœ¨ä¸å¢åŠ æ¨ç†æˆæœ¬çš„æƒ…å†µä¸‹æ˜¾è‘—æå‡ç²¾åº¦ã€‚</p>
<h2 id="yolo-v8"><a class="markdownIt-Anchor" href="#yolo-v8"></a> YOLO V8</h2>
<blockquote>
<p>ç‰¹ç‚¹: æ”¹è¿›</p>
</blockquote>
<h3 id="1-ä¸»è¦æ”¹è¿›-3"><a class="markdownIt-Anchor" href="#1-ä¸»è¦æ”¹è¿›-3"></a> 1. ä¸»è¦æ”¹è¿›</h3>
<ol>
<li>Anchor-Free æ¶æ„</li>
<li>C2f æ¨¡å—</li>
<li>ç‰¹å¾èåˆ, SPPF å’Œ FPN/PANet</li>
<li>æ”¯æŒ å¯¹è±¡æ£€æµ‹ã€å®ä¾‹åˆ†å‰²ï¼ˆYOLOv8-segï¼‰ã€å§¿æ€ä¼°è®¡ï¼ˆYOLOv8-poseï¼‰å’Œ å›¾åƒåˆ†ç±»ï¼ˆYOLOv8-clsï¼‰ã€‚</li>
</ol>
<h3 id="2-anchor-free"><a class="markdownIt-Anchor" href="#2-anchor-free"></a> 2 Anchor-Free</h3>
<h3 id="3-ç½‘ç»œç»“æ„æ”¹è¿›-3"><a class="markdownIt-Anchor" href="#3-ç½‘ç»œç»“æ„æ”¹è¿›-3"></a> 3. ç½‘ç»œç»“æ„æ”¹è¿›</h3>
<p><img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/YOLOv8.jpeg" alt="YOLOv8"></p>
<h4 id="31-c2f"><a class="markdownIt-Anchor" href="#31-c2f"></a> 3.1 C2F</h4>
<p>å®šä¹‰:  Concatenate to fusionï¼ˆå¯ä»¥ç†è§£ä¸ºâ€œèåˆåè¿æ¥â€ï¼‰</p>
<blockquote>
<p>ä½œç”¨:   <strong>ç‰¹å¾èåˆ</strong>å’Œ__<strong>æ¨¡å‹å‹ç¼©</strong></p>
</blockquote>
<p>ç»„æˆ:</p>
<ol>
<li>Conv</li>
<li>nä¸ªBottleneck</li>
<li>concat</li>
<li>Conv</li>
</ol>
<p><strong>æ“ä½œ:</strong></p>
<p>æ¯æ¬¡bottleneckåå–å‡ºåŠæ•°é€šé“, æœ€åè¿›è¡Œconcat</p>
<p><strong>ä¼˜ç‚¹:</strong></p>
<p>â€¦</p>
<p><strong>åŒºåˆ«:</strong></p>
<blockquote>
<p>V5: bottleneckæ•°æ®è¿›è¡Œconcatçš„æ–¹å¼ä¸åŒ(çº¿æ€§å‘å‰ä¸åˆ†çº§å‘å‰)</p>
</blockquote>
<p>ç»†èŠ‚:</p>
<ol>
<li>
<p>ä¸ºä»€ä¹ˆå¼€å§‹å’Œç»“æŸè¦ä½¿ç”¨1x1å·ç§¯</p>
<blockquote>
<p>1 å¼€å§‹: å‡ç»´</p>
<p>2  ç»“æŸ: é™ç»´</p>
</blockquote>
</li>
<li>
<p>bottlenetä¸ºä»€ä¹ˆä½¿ç”¨padding0å’Œ1çš„ä¸¤ä¸ªå·ç§¯</p>
<blockquote>
<p>1: **<code>1Ã—1 conv</code> æ²¡æœ‰ paddingï¼ˆpadding=0ï¼‰**åªåœ¨é€šé“ç»´åº¦åšå˜æ¢ï¼Œä¸ä¼šæ”¹å˜ç©ºé—´å¤§å°</p>
<p>2:<code>3Ã—3 conv</code>ï¼Œç©ºé—´ç‰¹å¾æå–ï¼Œç”¨ <code>padding=1</code> æ˜¯ä¸ºäº†ä¿æŒå°ºå¯¸</p>
</blockquote>
</li>
</ol>
<h4 id="32-sppf"><a class="markdownIt-Anchor" href="#32-sppf"></a> 3.2 SPPF</h4>
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250829095601636.png" alt="image-20250829095601636" style="zoom:50%;">
<p>å®šä¹‰: å¿«é€Ÿé‡‘å­—å¡”</p>
<blockquote>
<p>ä½œç”¨: <strong>ç‰¹å¾å¢å¼ºæ¨¡å—</strong> +<strong>å¤šå°ºåº¦èåˆ</strong></p>
</blockquote>
<p>ç»„æˆ:</p>
<ol>
<li>å°†feature map åˆ†ä¸ºå¤šä¸ªä¸åŒsizeçš„è‹¥å¹²ä¸ªpath</li>
<li>è¿›è¡Œmax pooling</li>
<li>concat</li>
</ol>
<p><strong>æ“ä½œ</strong></p>
<p>SPPF ç”¨è¿ç»­å¤šæ¬¡ <code>kernel=5</code> çš„æ± åŒ–ï¼Œé¿å…äº†å¹¶è¡Œä¸åŒ kernelï¼Œè½¬ä¸º<strong>ä¸²è¡Œç›¸åŒ kernel</strong></p>
<p><strong>ä¼˜ç‚¹:</strong></p>
<p>ä¸åŒå¤§å°çš„æ„Ÿå—é‡</p>
<p><strong>åŒºåˆ«:</strong></p>
<blockquote>
<p>V5 ä½¿ç”¨äº†ä¸åŒKçš„æ± åŒ–</p>
</blockquote>
<ol>
<li>
<p>ä¸ºä»€ä¹ˆè¦åœ¨backboneçš„æœ€åæ‰æ·»åŠ ?</p>
<blockquote>
<p>1: æœ€åæ˜¯é«˜çº§è¯­ä¹‰ æ±‡èšå…¨å±€ä¿¡æ¯maxpooling</p>
<p>2: æœ€åsizeå¾ˆå°è¿›è¡Œpooling ä¸ä¼šæŸå¤±ä¿¡æ¯</p>
</blockquote>
</li>
</ol>
<h4 id="33-detect"><a class="markdownIt-Anchor" href="#33-detect"></a> 3.3 Detect</h4>
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250507234632382.png" alt="image-20250507234632382" style="zoom:33%;">
<p><strong>ç»„æˆ:</strong></p>
<ol>
<li>è¾¹ç•Œæ¡†é¢„æµ‹</li>
<li>ç±»åˆ«é¢„æµ‹:</li>
</ol>
<h4 id="loss"><a class="markdownIt-Anchor" href="#loss"></a> loss</h4>
<p><strong>åŒºåˆ«</strong>: æ— ancher</p>
<p>YOLOv8 head è¾“å‡º <code>[B, H, W, 4+cls+obj]</code></p>
<h3 id="é—®é¢˜"><a class="markdownIt-Anchor" href="#é—®é¢˜"></a> é—®é¢˜:</h3>
<p>anchor-free ï¼šå¦‚æœå¤šä¸ªç›®æ ‡è½åœ¨ <strong>åŒä¸€ä¸ª cellï¼ˆåƒç´ ï¼‰ä¸­å¿ƒ</strong>ï¼š</p>
<ol>
<li>
<p><strong>center prior</strong>ï¼ˆä¸­å¿ƒå…ˆéªŒï¼‰:</p>
<blockquote>
<p>åªæœ‰ <strong>ä¸­å¿ƒç‚¹é™„è¿‘çš„ cellï¼ˆé€šå¸¸é™å®šä¸€ä¸ª radius åŒºåŸŸï¼‰</strong> æ‰æœ‰èµ„æ ¼è¢«åˆ†é…ä¸ºâ€œæ­£æ ·æœ¬â€</p>
</blockquote>
</li>
<li>
<p>YOLOv8 çš„ <strong>dynamic-k matchingï¼š</strong></p>
<blockquote>
<p>è®¡ç®—æ¯ä¸ªå€™é€‰æ­£æ ·æœ¬ï¼ˆä¸­å¿ƒé™„è¿‘ cellï¼‰çš„ IoU<br>
æŒ‰ IoU æ’åº<br>
é€šè¿‡ <strong>Î£IoU ç¡®å®šåŠ¨æ€çš„ kï¼ˆæ­£æ ·æœ¬æ•°ï¼‰</strong><br>
é€‰æ‹© top-k ä½œä¸ºæ­£æ ·æœ¬</p>
</blockquote>
</li>
<li>
<p>ğŸ‘‰ å¦‚æœä¸¤ä¸ªç›®æ ‡ä¸­å¿ƒç‚¹è½åœ¨ <strong>åŒä¸€ä¸ª cell</strong>ï¼š</p>
<blockquote>
<p>æŒ‰ç…§ <strong>center prior â†’ åŒä¸€ä¸ª cell ç¡®å®æ˜¯ä¸¤ä¸ªç›®æ ‡éƒ½â€œæƒ³åˆ†é…â€çš„ cell</strong></p>
<p>ä½†ï¼<strong>dynamic-k matching ä¼šç”¨ IoU æ’åºå†³å®šâ€œæ›´åˆé€‚â€åˆ†é…ç»™è°</strong><br>
â†’ æ›´é«˜ IoU çš„ç›®æ ‡ä¼šâ€œèµ¢â€ â†’ å¦ä¸€ä¸ªç›®æ ‡éœ€è¦â€œæ‰¾é™„è¿‘ cellâ€ä½œä¸ºæ­£æ ·æœ¬</p>
</blockquote>
</li>
</ol>
<h2 id="yolo-v9"><a class="markdownIt-Anchor" href="#yolo-v9"></a> YOLO V9</h2>
<h2 id="yolo-v10"><a class="markdownIt-Anchor" href="#yolo-v10"></a> YOLO V10</h2>
<h2 id="yolo-v11"><a class="markdownIt-Anchor" href="#yolo-v11"></a> YOLO V11</h2>
<blockquote>
<p>ç‰¹ç‚¹: æ”¹è¿›</p>
</blockquote>
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250507230522250.png" alt="image-20250507230522250">
<p><img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/yolo_v11.png" alt="yolo_v11"></p>
<h3 id="21-c3k2"><a class="markdownIt-Anchor" href="#21-c3k2"></a> 2.1 C3K2</h3>
<p><strong>å®šä¹‰</strong>:  å°†bottlenetckæ”¹ä¸ºC3K</p>
<blockquote>
<p>ä½œç”¨:   <strong>ç‰¹å¾èåˆ</strong>å’Œ__<strong>æ¨¡å‹å‹ç¼©</strong></p>
</blockquote>
<p><strong>ç»„æˆ:</strong></p>
<ol>
<li>CBS</li>
<li>nä¸ªBottleneck = <strong>C3K</strong></li>
<li>concat</li>
<li>CBS</li>
</ol>
<h4 id="c3k"><a class="markdownIt-Anchor" href="#c3k"></a> C3K:</h4>
<ol>
<li>CBS</li>
<li>1 bottleneck = CBSx2 + res</li>
<li>concat: 12+ CBS</li>
<li>CBS</li>
</ol>
<p><strong>ä¼˜ç‚¹:</strong></p>
<p>1ï¸âƒ£ å¢åŠ ç½‘ç»œçš„æ·±åº¦å’Œéçº¿æ€§è¡¨è¾¾èƒ½åŠ›<br>
â†’ æ›´æ·±çš„è·¯å¾„å¯ä»¥å­¦åˆ°æ›´å¤æ‚çš„ç‰¹å¾</p>
<p>2ï¸âƒ£ æ›´é«˜çš„å‚æ•°å¤ç”¨æ•ˆç‡<br>
â†’ é€šè¿‡æ®‹å·®å’Œé‡å¤ç»“æ„ï¼Œé¿å…çº¯æ·±åº¦å¸¦æ¥çš„é€€åŒ–é—®é¢˜</p>
<p>3ï¸âƒ£ æé«˜å±€éƒ¨æ„Ÿå—é‡<br>
â†’ å¥—å¨ƒ bottleneck å¯ä»¥è®©å±€éƒ¨æ›´â€œé€šé€â€ï¼Œå‡å°‘ä¿¡æ¯å±è”½</p>
<p><strong>åŒºåˆ«:</strong></p>
<blockquote>
<p>V8: ç›¸å½“äºå¥—å¨ƒåŠ äº†æ·±åº¦,å¤šäº†ä¸€ä¸ªbottleneck</p>
</blockquote>
<p><strong>ç»†èŠ‚:</strong></p>
<h3 id="22-c2psa"><a class="markdownIt-Anchor" href="#22-c2psa"></a> 2.2 C2PSA</h3>
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250507232147155.png" alt="image-20250507232147155" style="zoom: 25%;">
<p><strong>å®šä¹‰:</strong></p>
<blockquote>
<p>ä½œç”¨:**è¡¥å……å…¨å±€æ„ŸçŸ¥èƒ½åŠ› **ä¼˜åŒ–æ¢¯åº¦ä¼ æ’­å’Œç½‘ç»œè®­ç»ƒæ•ˆæœ</p>
</blockquote>
<p><strong>ç»„æˆ:</strong></p>
<ol>
<li>ç±»ä¼¼C2fæ¨¡å—</li>
<li>bottleneck=PSAbBlock</li>
</ol>
<p><strong>PSA:</strong></p>
<h3 id="23-head"><a class="markdownIt-Anchor" href="#23-head"></a> 2.3 head</h3>
<p><strong>åŒºåˆ«</strong>:æ·±åº¦å¯åˆ†ç¦»çš„æ–¹æ³•</p>
<h2 id="yolov12"><a class="markdownIt-Anchor" href="#yolov12"></a> YOLOv12</h2>
<blockquote>
<p>å°†æ³¨æ„åŠ›æœºåˆ¶ç›´æ¥èå…¥ç›®æ ‡æ£€æµ‹æ¡†æ¶çš„æ ¸å¿ƒè®¾è®¡</p>
</blockquote>
<p><img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/v2-f1284a6e6c67a40fd67266ce81c06a39_r.jpg" alt="img"></p>
<h3 id="1-å…³é”®æŠ€æœ¯æ”¹è¿›"><a class="markdownIt-Anchor" href="#1-å…³é”®æŠ€æœ¯æ”¹è¿›"></a> 1 å…³é”®æŠ€æœ¯æ”¹è¿›</h3>
<blockquote>
<h4 id="11-åŒºåŸŸæ³¨æ„åŠ›area-attention"><a class="markdownIt-Anchor" href="#11-åŒºåŸŸæ³¨æ„åŠ›area-attention"></a> <strong>1.1 åŒºåŸŸæ³¨æ„åŠ›ï¼ˆArea Attentionï¼‰</strong></h4>
<ul>
<li><strong>åŸç†</strong>ï¼šå°†ç‰¹å¾å›¾åˆ’åˆ†ä¸ºç›¸ç­‰åŒºåŸŸï¼ˆé»˜è®¤ 4 éƒ¨åˆ†ï¼‰ä»¥é™ä½è®¡ç®—å¤æ‚åº¦ï¼ŒåŒæ—¶ä¿æŒè¾ƒå¤§çš„æ„Ÿå—é‡ã€‚</li>
<li><strong>ä¼˜åŠ¿</strong>ï¼šç›¸æ¯”ä¼ ç»Ÿè‡ªæ³¨æ„åŠ›æœºåˆ¶çš„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> å¤æ‚åº¦ï¼ŒåŒºåŸŸæ³¨æ„åŠ›å°†è®¡ç®—æˆæœ¬é™ä½ <strong>50%</strong>ã€‚</li>
</ul>
<hr>
<h4 id="12-æ®‹å·®é«˜æ•ˆå±‚èšåˆç½‘ç»œr-elan"><a class="markdownIt-Anchor" href="#12-æ®‹å·®é«˜æ•ˆå±‚èšåˆç½‘ç»œr-elan"></a> 1.2 æ®‹å·®é«˜æ•ˆå±‚èšåˆç½‘ç»œï¼ˆR-ELANï¼‰</h4>
<ul>
<li><strong>æ”¹è¿›ç‚¹</strong>ï¼šåœ¨åŸå§‹ ELAN æ¶æ„åŸºç¡€ä¸Šï¼Œå¼•å…¥ <strong>å—çº§æ®‹å·®è¿æ¥</strong> ä¸ <strong>ç¼©æ”¾æŠ€æœ¯</strong>ï¼ˆç¼©æ”¾å› å­ 0.01ï¼‰ã€‚</li>
<li><strong>è§£å†³é—®é¢˜</strong>ï¼šæå‡å¤§è§„æ¨¡æ¨¡å‹è®­ç»ƒçš„ç¨³å®šæ€§ã€‚</li>
<li><strong>æ•ˆæœ</strong>ï¼š
<ul>
<li>å‚æ•°å‡å°‘ <strong>18%</strong></li>
<li>FLOPs é™ä½ <strong>24%</strong></li>
</ul>
</li>
</ul>
<hr>
<h4 id="13-flashattention-é›†æˆ"><a class="markdownIt-Anchor" href="#13-flashattention-é›†æˆ"></a> 1.3 FlashAttention é›†æˆ</h4>
<ul>
<li><strong>ä¼˜åŒ–</strong>ï¼šæ”¹è¿›å†…å­˜è®¿é—®æ¨¡å¼ï¼Œæ˜¾è‘—åŠ é€Ÿæ³¨æ„åŠ›è®¡ç®—ã€‚</li>
<li><strong>ç¡¬ä»¶é€‚é…</strong>ï¼šé’ˆå¯¹ç°ä»£ GPU æ¶æ„ï¼ˆTuring / Ampere / Ada Lovelace / Hopperï¼‰ä¼˜åŒ–ã€‚</li>
<li><strong>å®æµ‹ç»“æœ</strong>ï¼ˆRTX 3080ï¼‰ï¼šåŠ é€Ÿ <strong>0.3-0.4 ms</strong>ã€‚</li>
</ul>
</blockquote>
<h3 id="2-å…·ä½“ç»†èŠ‚"><a class="markdownIt-Anchor" href="#2-å…·ä½“ç»†èŠ‚"></a> 2 å…·ä½“ç»†èŠ‚</h3>
<h4 id="21-åŒºåŸŸæ³¨æ„åŠ›area-attentionæœºåˆ¶"><a class="markdownIt-Anchor" href="#21-åŒºåŸŸæ³¨æ„åŠ›area-attentionæœºåˆ¶"></a> 2.1 åŒºåŸŸæ³¨æ„åŠ›ï¼ˆArea Attentionï¼‰æœºåˆ¶</h4>
<p>YOLOv12 çš„æ ¸å¿ƒåˆ›æ–°ä¹‹ä¸€ï¼Œä¸»è¦è§£å†³ä¼ ç»Ÿè‡ªæ³¨æ„åŠ›çš„ä¸¤å¤§ç“¶é¢ˆï¼š</p>
<p><strong>1. è®¡ç®—å¤æ‚åº¦ä¼˜åŒ–</strong></p>
<ul>
<li><strong>ä¼ ç»Ÿè‡ªæ³¨æ„åŠ›</strong>ï¼šå¯¹ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mo>Ã—</mo><mi>W</mi></mrow><annotation encoding="application/x-tex">H \times W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span> ç‰¹å¾å›¾çš„è®¡ç®—å¤æ‚åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>H</mi><mn>2</mn></msup><msup><mi>W</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(H^2 W^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></li>
<li><strong>åŒºåŸŸæ³¨æ„åŠ›</strong>ï¼šå°†ç‰¹å¾å›¾æŒ‰æ°´å¹³æ–¹å‘æˆ–å‚ç›´æ–¹å‘åˆ’åˆ†ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi></mrow><annotation encoding="application/x-tex">l</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span></span></span></span> ä¸ªç›¸ç­‰éƒ¨åˆ†ï¼ˆé»˜è®¤ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">l=4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span>ï¼‰ï¼Œå¤æ‚åº¦é™è‡³ï¼š
<ul>
<li>æ°´å¹³åˆ’åˆ†ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mrow><mo fence="true">(</mo><mfrac><msup><mi>H</mi><mn>2</mn></msup><msup><mi>l</mi><mn>2</mn></msup></mfrac><msup><mi>W</mi><mn>2</mn></msup><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">O\left(\frac{H^2}{l^2} W^2\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.80002em;vertical-align:-0.65002em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01792em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463142857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913142857142857em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span></span></span></span></li>
<li>å‚ç›´åˆ’åˆ†ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mrow><mo fence="true">(</mo><msup><mi>H</mi><mn>2</mn></msup><mfrac><msup><mi>W</mi><mn>2</mn></msup><msup><mi>l</mi><mn>2</mn></msup></mfrac><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">O\left(H^2 \frac{W^2}{l^2}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.80002em;vertical-align:-0.65002em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01792em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463142857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913142857142857em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span></span></span></span></li>
</ul>
</li>
<li><strong>ä¼˜åŠ¿</strong>ï¼šæ— éœ€å¤æ‚çª—å£åˆ’åˆ†ï¼Œé™ä½è®¡ç®—æˆæœ¬åŒæ—¶ä¿æŒè¾ƒå¤§æ„Ÿå—é‡ã€‚</li>
</ul>
<p><strong>2. å†…å­˜è®¿é—®æ•ˆç‡æå‡</strong></p>
<ul>
<li>ç»“åˆ <strong>FlashAttention</strong> æŠ€æœ¯ï¼Œé€šè¿‡ I/O ä¼˜åŒ–å‡å°‘å†…å­˜è®¿é—®æ¬¡æ•°ï¼Œå……åˆ†åˆ©ç”¨ GPU å†…å­˜å±‚æ¬¡ç»“æ„ã€‚</li>
<li>æµ‹è¯•è¡¨æ˜ï¼Œ<strong>çº¯å·ç§¯å®ç°</strong> æ¯”çº¿æ€§æ›¿ä»£æ–¹æ¡ˆé€Ÿåº¦æ›´å¿«ã€‚</li>
</ul>
<p><strong>å®ç°æ–¹å¼</strong></p>
<ol>
<li>å°†ç‰¹å¾å›¾æŒ‰æŒ‡å®šæ–¹å‘åˆ’åˆ†ä¸ºå¤šä¸ªåŒºåŸŸ</li>
<li>åœ¨å„åŒºåŸŸå†…åˆ†åˆ«è®¡ç®—æ³¨æ„åŠ›</li>
<li>åˆå¹¶ç»“æœå¾—åˆ°å…¨å±€ç‰¹å¾</li>
</ol>
<ul>
<li>åœ¨å›ºå®šåˆ†è¾¨ç‡ï¼ˆå¦‚ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>640</mn></mrow><annotation encoding="application/x-tex">n=640</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span><span class="mord">4</span><span class="mord">0</span></span></span></span>ï¼‰ä¸‹å¯å®ç°å®æ—¶æ£€æµ‹</li>
<li>ä¸ <strong>è½´å‘æ³¨æ„åŠ›</strong> å¯¹æ¯”ï¼š
<ul>
<li>æ„Ÿå—é‡æ‰©å¤§ <strong>4 å€</strong></li>
<li>é€Ÿåº¦ä¸‹é™ï¼ˆå®æµ‹ YOLOv12 â‰ˆ 180 FPS vs YOLOv11 â‰ˆ 250 FPSï¼‰</li>
</ul>
</li>
</ul>
<hr>
<h4 id="22-æ®‹å·®é«˜æ•ˆå±‚èšåˆç½‘ç»œr-elan"><a class="markdownIt-Anchor" href="#22-æ®‹å·®é«˜æ•ˆå±‚èšåˆç½‘ç»œr-elan"></a> 2.2 æ®‹å·®é«˜æ•ˆå±‚èšåˆç½‘ç»œï¼ˆR-ELANï¼‰</h4>
<p>R-ELAN æ˜¯å¯¹åŸå§‹ ELAN æ¶æ„çš„é‡è¦æ”¹è¿›ï¼Œä¸»è¦é’ˆå¯¹ä»¥ä¸‹ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<p><strong>1. è®­ç»ƒä¸ç¨³å®šæ€§</strong></p>
<ul>
<li>åœ¨è¾ƒå¤§æ¨¡å‹ï¼ˆYOLOv12-L / YOLOv12-Xï¼‰ä¸­ï¼ŒåŸå§‹ ELAN å®¹æ˜“å‡ºç° <strong>æ¢¯åº¦é˜»å¡</strong> ä¸ <strong>ä¼˜åŒ–å›°éš¾</strong>ã€‚</li>
<li><strong>æ”¹è¿›æ–¹æ³•</strong>ï¼š
<ul>
<li>æ·»åŠ  <strong>è¾“å…¥åˆ°è¾“å‡ºçš„æ®‹å·®è¿æ¥ï¼ˆè·³è·ƒè¿æ¥ï¼‰</strong></li>
<li>ä½¿ç”¨ <strong>å±‚ç¼©æ”¾æŠ€æœ¯</strong>ï¼ˆç¼©æ”¾å› å­ 0.01ï¼‰</li>
</ul>
</li>
<li><strong>æ•ˆæœ</strong>ï¼šæ˜¾è‘—æå‡å¤§è§„æ¨¡æ¨¡å‹è®­ç»ƒç¨³å®šæ€§ã€‚</li>
</ul>
<p><strong>2. ç‰¹å¾èšåˆæ•ˆç‡</strong></p>
<ul>
<li><strong>åŸå§‹ ELAN</strong>ï¼šè¾“å…¥ â†’ è¿‡æ¸¡å±‚ â†’ æ‹†åˆ†å¤šè·¯å¹¶è¡Œå¤„ç† â†’ æ‹¼æ¥</li>
<li><strong>R-ELAN</strong>ï¼šè¾“å…¥ â†’ è¿‡æ¸¡å±‚è°ƒæ•´é€šé“ â†’ å•ä¸€ç‰¹å¾å›¾ â†’ å¹¶è¡Œå¤„ç† â†’ æ‹¼æ¥æˆç“¶é¢ˆç»“æ„</li>
<li><strong>ä¼˜åŠ¿</strong>ï¼š
<ul>
<li>é™ä½è®¡ç®—æˆæœ¬</li>
<li>æå‡ç‰¹å¾èšåˆæ•ˆç‡</li>
</ul>
</li>
</ul>
<h4 id="23-å…¶ä»–æ¶æ„ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#23-å…¶ä»–æ¶æ„ä¼˜åŒ–"></a> 2.3 å…¶ä»–æ¶æ„ä¼˜åŒ–</h4>
<p>YOLOv12 åœ¨æ ¸å¿ƒæ¨¡å—ä¹‹å¤–ï¼Œè¿˜è¿›è¡Œäº†å¤šé¡¹ç²¾ç»†åŒ–çš„ç»“æ„æ”¹è¿›ï¼š</p>
<p><strong>1. MLP æ¯”ä¾‹è°ƒæ•´</strong></p>
<ul>
<li>å°†å…¸å‹ Transformer ä¸­ MLP æ‰©å±•æ¯”ä¾‹ <strong>ä» 4 é™è‡³ 1.2~2</strong></li>
<li>ç›®çš„ï¼šå¹³è¡¡ <strong>æ³¨æ„åŠ›å±‚</strong> ä¸ <strong>å‰é¦ˆå±‚</strong> çš„è®¡ç®—é‡ï¼Œå‡å°‘å†—ä½™è®¡ç®—ã€‚</li>
</ul>
<p><strong>2. ä½ç½®ç¼–ç æ›¿ä»£</strong></p>
<ul>
<li>å»é™¤æ˜¾å¼ä½ç½®ç¼–ç </li>
<li>å¼•å…¥ <strong>7Ã—7 æ·±åº¦å¯åˆ†ç¦»å·ç§¯</strong>ï¼ˆâ€œä½ç½®æ„ŸçŸ¥å™¨â€ï¼‰æ¥éšå¼å»ºæ¨¡ä½ç½®ä¿¡æ¯</li>
<li><strong>ä¼˜åŠ¿</strong>ï¼šæ¶æ„æ›´ç®€æ´ã€é€Ÿåº¦æ›´å¿«ã€‚</li>
</ul>
<p><strong>3. å—æ•°é‡å‡å°‘</strong></p>
<ul>
<li>å‡å°‘å †å å—çš„æ•°é‡</li>
<li>ç®€åŒ–ä¼˜åŒ–è¿‡ç¨‹ã€é™ä½æ¨ç†æ—¶é—´ã€‚</li>
</ul>
<p><strong>4. å·ç§¯ç®—å­é›†æˆ</strong></p>
<ul>
<li>åœ¨é€‚å½“ä½ç½®ä¿ç•™é«˜æ•ˆå·ç§¯æ“ä½œ</li>
<li>é™ä½æ•´ä½“å‚æ•°æ•°é‡ä¸è®¡ç®—æˆæœ¬ã€‚</li>
</ul>
<hr>
<h2 id="yolov13"><a class="markdownIt-Anchor" href="#yolov13"></a> YOLOv13</h2>
<blockquote>
<p>å±äºç¤¾åŒºå¼€å‘çš„è¡ç”Ÿç‰ˆæœ¬ï¼ˆé Ultralytics å®˜æ–¹ç‰ˆæœ¬ï¼‰</p>
</blockquote>
<p><img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/framework-1754701975877-3.png" alt="framework"></p>
<h3 id="1-æ ¸å¿ƒæŠ€æœ¯åˆ›æ–°"><a class="markdownIt-Anchor" href="#1-æ ¸å¿ƒæŠ€æœ¯åˆ›æ–°"></a> 1 æ ¸å¿ƒæŠ€æœ¯åˆ›æ–°</h3>
<blockquote>
<h4 id="11-hyperaceåŸºäºè¶…å›¾çš„è‡ªé€‚åº”å…³è”å¢å¼º"><a class="markdownIt-Anchor" href="#11-hyperaceåŸºäºè¶…å›¾çš„è‡ªé€‚åº”å…³è”å¢å¼º"></a> 1.1 HyperACEï¼šåŸºäºè¶…å›¾çš„è‡ªé€‚åº”å…³è”å¢å¼º</h4>
<ul>
<li>
<p><strong>æŠ€æœ¯åŸç†</strong>ï¼š<br>
å°†å¤šå°ºåº¦ç‰¹å¾å›¾ä¸­çš„åƒç´ è§†ä¸ºè¶…å›¾é¡¶ç‚¹ï¼Œé€šè¿‡å¯å­¦ä¹ çš„è¶…è¾¹æ„å»ºæ¨¡å—è‡ªé€‚åº”æ¢ç´¢é¡¶ç‚¹é—´çš„é«˜é˜¶å…³è”ï¼Œ<br>
å¹¶åˆ©ç”¨çº¿æ€§å¤æ‚åº¦çš„æ¶ˆæ¯ä¼ é€’æ¨¡å—èšåˆç‰¹å¾ï¼Œæå‡å¤æ‚åœºæ™¯ä¸‹çš„è§†è§‰æ„ŸçŸ¥èƒ½åŠ›ã€‚</p>
</li>
<li>
<p><strong>ä½œç”¨</strong>ï¼š<br>
å¼ºåŒ–ä¸åŒå°ºåº¦ç‰¹å¾é—´çš„è¯­ä¹‰å…³è”ï¼Œå°¤å…¶å¯¹å°ç›®æ ‡å’Œå¯†é›†ç›®æ ‡æ£€æµ‹æ•ˆæœæ˜¾è‘—ã€‚</p>
</li>
</ul>
<hr>
<h4 id="12-fullpadå…¨æµç¨‹èšåˆ-åˆ†å¸ƒèŒƒå¼"><a class="markdownIt-Anchor" href="#12-fullpadå…¨æµç¨‹èšåˆ-åˆ†å¸ƒèŒƒå¼"></a> 1.2 FullPADï¼šå…¨æµç¨‹èšåˆ - åˆ†å¸ƒèŒƒå¼</h4>
<ul>
<li>
<p><strong>æŠ€æœ¯åŸç†</strong>ï¼š<br>
é€šè¿‡ HyperACE èšåˆéª¨å¹²ç½‘ç»œçš„å¤šå°ºåº¦ç‰¹å¾ï¼Œå†é€šè¿‡ä¸‰æ¡ç‹¬ç«‹â€œéš§é“â€å°†å¢å¼ºåçš„ç‰¹å¾åˆ†åˆ«ä¼ é€’åˆ°ï¼š</p>
<ul>
<li>éª¨å¹²ä¸é¢ˆéƒ¨è¿æ¥å¤„</li>
<li>é¢ˆéƒ¨å†…éƒ¨</li>
<li>é¢ˆéƒ¨ä¸å¤´éƒ¨è¿æ¥å¤„<br>
å®ç°å…¨æµç¨‹ç»†ç²’åº¦ä¿¡æ¯æµååŒã€‚</li>
</ul>
</li>
<li>
<p><strong>ä½œç”¨</strong>ï¼š<br>
æ”¹å–„æ¢¯åº¦ä¼ æ’­æ•ˆç‡ï¼Œæå‡æ¨¡å‹æ•´ä½“æ£€æµ‹æ€§èƒ½ã€‚</p>
</li>
</ul>
<hr>
<h4 id="13-è½»é‡çº§å·ç§¯æ›¿æ¢"><a class="markdownIt-Anchor" href="#13-è½»é‡çº§å·ç§¯æ›¿æ¢"></a> 1.3 è½»é‡çº§å·ç§¯æ›¿æ¢</h4>
<ul>
<li><strong>æŠ€æœ¯åŸç†</strong>ï¼š<br>
ä½¿ç”¨æ·±åº¦å¯åˆ†ç¦»å·ç§¯ï¼ˆDSConvã€DS-Bottleneck ç­‰ï¼‰æ›¿ä»£å¤§æ ¸å·ç§¯ï¼Œ<br>
åœ¨ä¿æŒæ„Ÿå—é‡çš„åŒæ—¶å¤§å¹…å‡å°‘å‚æ•°å’Œè®¡ç®—é‡ã€‚</li>
</ul>
</blockquote>
<h3 id="2-hyperace"><a class="markdownIt-Anchor" href="#2-hyperace"></a> 2 HyperACE</h3>
<h2 id="yolov26"><a class="markdownIt-Anchor" href="#yolov26"></a> YOLOv26</h2>
<blockquote>
<p>ï¼ˆç«¯åˆ°ç«¯ç‰ˆæœ¬, å¯¹æ ‡yolov10, æ— nmsç­‰åå¤„ç†æ“ä½œï¼‰</p>
</blockquote>
<p>YOLO26 çš„æ¶æ„éµå¾ªä¸‰ä¸ªæ ¸å¿ƒåŸåˆ™ï¼š</p>
<ul>
<li><strong>ç®€æ´æ€§ï¼š</strong> YOLO26 æ˜¯ä¸€ä¸ª<strong>åŸç”Ÿç«¯åˆ°ç«¯æ¨¡å‹</strong>ï¼Œç›´æ¥ç”Ÿæˆé¢„æµ‹ï¼Œè€Œæ— éœ€éæå¤§å€¼æŠ‘åˆ¶ (NMS)ã€‚é€šè¿‡æ¶ˆé™¤æ­¤åå¤„ç†æ­¥éª¤ï¼Œæ¨ç†å˜å¾—æ›´å¿«ã€æ›´è½»ï¼Œå¹¶ä¸”æ›´æ˜“äºåœ¨å®é™…ç³»ç»Ÿä¸­éƒ¨ç½²ã€‚æ¸…åå¤§å­¦çš„ Ao Wang åœ¨ <a target="_blank" rel="noopener" href="https://docs.ultralytics.com/zh/models/yolov10/">YOLOv10</a> ä¸­é¦–æ¬¡å¼€åˆ›äº†è¿™ç§çªç ´æ€§æ–¹æ³•ï¼Œå¹¶åœ¨ YOLO26 ä¸­å¾—åˆ°äº†è¿›ä¸€æ­¥å‘å±•ã€‚</li>
<li><strong>éƒ¨ç½²æ•ˆç‡ï¼š</strong> ç«¯åˆ°ç«¯è®¾è®¡æ¶ˆé™¤äº†ç®¡é“çš„æ•´ä¸ªé˜¶æ®µï¼Œä»è€Œå¤§å¤§ç®€åŒ–äº†é›†æˆï¼Œå‡å°‘äº†å»¶è¿Ÿï¼Œå¹¶ä½¿éƒ¨ç½²åœ¨å„ç§ç¯å¢ƒä¸­æ›´åŠ ç¨³å¥ã€‚</li>
<li><strong>è®­ç»ƒåˆ›æ–°ï¼š</strong> YOLO26 å¼•å…¥äº† <strong>MuSGD ä¼˜åŒ–å™¨</strong>ï¼Œå®ƒæ˜¯ <a target="_blank" rel="noopener" href="https://docs.pytorch.org/docs/stable/generated/torch.optim.SGD.html">SGD</a> å’Œ <a target="_blank" rel="noopener" href="https://arxiv.org/abs/2502.16982">Muon</a> çš„æ··åˆä½“ â€” å— Moonshot AI çš„ <a target="_blank" rel="noopener" href="https://kimi.moonshot.cn/">Kimi K2</a> åœ¨ LLM è®­ç»ƒæ–¹é¢çš„çªç ´å¯å‘ã€‚è¯¥ä¼˜åŒ–å™¨å¸¦æ¥äº†å¢å¼ºçš„ç¨³å®šæ€§å’Œæ›´å¿«çš„æ”¶æ•›é€Ÿåº¦ï¼Œä»è€Œå°†è¯­è¨€æ¨¡å‹çš„ä¼˜åŒ–è¿›å±•è½¬ç§»åˆ°è®¡ç®—æœºè§†è§‰ä¸­ã€‚</li>
</ul>
<h2 id="yolo-world"><a class="markdownIt-Anchor" href="#yolo-world"></a> YOLO-World</h2>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/AILab-CVC/YOLO-World">https://github.com/AILab-CVC/YOLO-World</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/690233858">https://zhuanlan.zhihu.com/p/690233858</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47151388/article/details/137424184">https://blog.csdn.net/weixin_47151388/article/details/137424184</a></p>
</blockquote>
<p><img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250814145602937.png" alt="image-20250814145602937"></p>
<h3 id="1-å…³é”®æŠ€æœ¯-å¼€æ”¾è¯æ±‡ç›®æ ‡æ£€æµ‹ovd"><a class="markdownIt-Anchor" href="#1-å…³é”®æŠ€æœ¯-å¼€æ”¾è¯æ±‡ç›®æ ‡æ£€æµ‹ovd"></a> 1 å…³é”®æŠ€æœ¯ ------å¼€æ”¾è¯æ±‡ç›®æ ‡æ£€æµ‹ï¼ˆOVDï¼‰</h3>
<blockquote>
<p>æ—¨åœ¨è¯†åˆ«è¶…å‡ºé¢„å…ˆå»ºç«‹ç±»åˆ«èŒƒå›´ä¹‹å¤–çš„å¯¹è±¡ã€‚</p>
</blockquote>
<p>èƒ½å¤Ÿè§£é‡Šæç¤ºçš„ä¸Šä¸‹æ–‡ï¼Œä»¥è¿›è¡Œå‡†ç¡®çš„æ£€æµ‹ï¼Œè€Œ<strong>æ— éœ€è¿›è¡Œç‰¹å®šçš„ç±»åˆ«è®­ç»ƒ</strong>ã€‚å®ƒåˆ©ç”¨å¤§é‡çš„å›¾åƒ-æ–‡æœ¬å¯¹å’ŒåŸºç¡€å›¾åƒè¿›è¡Œè®­ç»ƒï¼Œä»¥ç†è§£å’Œå“åº”å„ç§æç¤ºï¼Œä¾‹å¦‚â€œç©¿ç€ç™½è‰²è¡¬è¡«çš„äººâ€ã€‚æå‡äº†YOLOç³»åˆ—æ£€æµ‹å™¨åœ¨<strong>é›¶æ ·æœ¬åœºæ™¯ä¸­çš„æ³›åŒ–èƒ½åŠ›ã€‚</strong></p>
<p><img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250814145222371.png" alt="image-20250814145222371"></p>
<p>å¼•å…¥â€œæç¤º-ç„¶åæ£€æµ‹â€çš„æ–¹æ³•è®ºï¼ŒYOLO-Worldé¿å¼€äº†å³æ—¶æ–‡æœ¬ç¼–ç çš„éœ€è¦ï¼Œè€Œæ˜¯åˆ©ç”¨ç”¨æˆ·æç¤ºç”Ÿæˆçš„ç¦»çº¿è¯æ±‡æ¥è¿›è¡Œæ£€æµ‹ã€‚</p>
<h3 id="2-å…·ä½“ç»†èŠ‚-2"><a class="markdownIt-Anchor" href="#2-å…·ä½“ç»†èŠ‚-2"></a> 2 å…·ä½“ç»†èŠ‚</h3>
<h4 id="21-å¯é‡æ–°å‚æ•°åŒ–çš„è§†è§‰-è¯­è¨€è·¯å¾„èšåˆç½‘ç»œrepvl-pan"><a class="markdownIt-Anchor" href="#21-å¯é‡æ–°å‚æ•°åŒ–çš„è§†è§‰-è¯­è¨€è·¯å¾„èšåˆç½‘ç»œrepvl-pan"></a> 2.1 å¯é‡æ–°å‚æ•°åŒ–çš„è§†è§‰-è¯­è¨€è·¯å¾„èšåˆç½‘ç»œï¼ˆRepVL-PANï¼‰</h4>
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250814150028346.png" alt="image-20250814150028346" style="zoom:67%;">
<p>é€šè¿‡å¤šå°ºåº¦å›¾åƒç‰¹å¾{C3, C4, C5}å»ºç«‹ç‰¹å¾é‡‘å­—å¡”{P3, P4, P5}ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬æå‡ºäº†æ–‡æœ¬å¼•å¯¼CSPLayer (T-CSPLayer)å’Œå›¾åƒæ± æ³¨æ„(I-Pooling Attention)ï¼Œè¿›ä¸€æ­¥å¢å¼ºå›¾åƒç‰¹å¾å’Œæ–‡æœ¬ç‰¹å¾ä¹‹é—´çš„äº¤äº’ï¼Œä»è€Œæé«˜å¼€æ”¾è¯æ±‡çš„è§†è§‰è¯­ä¹‰è¡¨ç¤ºèƒ½åŠ›ã€‚åœ¨æ¨ç†è¿‡ç¨‹ä¸­ï¼Œç¦»çº¿è¯æ±‡åµŒå…¥å¯ä»¥é‡æ–°å‚æ•°åŒ–ä¸ºå·ç§¯å±‚æˆ–çº¿æ€§å±‚çš„æƒé‡ï¼Œä»¥ä¾¿éƒ¨ç½²ã€‚</p>
<h4 id="22-åŒºåŸŸ-æ–‡æœ¬å¯¹æ¯”æŸå¤±"><a class="markdownIt-Anchor" href="#22-åŒºåŸŸ-æ–‡æœ¬å¯¹æ¯”æŸå¤±"></a> 2.2 åŒºåŸŸ-æ–‡æœ¬å¯¹æ¯”æŸå¤±</h4>
<h2 id="yoloe"><a class="markdownIt-Anchor" href="#yoloe"></a> YOLOE</h2>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/29944215233">https://zhuanlan.zhihu.com/p/29944215233</a></p>
</blockquote>
<p><img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250814143715287.png" alt="image-20250814143715287"></p>
<h3 id="1-å…³é”®æŠ€æœ¯æ”¹è¿›-2"><a class="markdownIt-Anchor" href="#1-å…³é”®æŠ€æœ¯æ”¹è¿›-2"></a> 1 å…³é”®æŠ€æœ¯æ”¹è¿›</h3>
<p>ä¼ ç»Ÿæ¨¡å‹YOLOç³»åˆ—è™½ä»¥é«˜æ•ˆè‘—ç§°ï¼Œå´å—é™äºé¢„å®šä¹‰ç±»åˆ«. YOLOEæ”¯æŒæ–‡æœ¬ã€è§†è§‰ã€æ— æç¤ºå…¨åœºæ™¯çš„å®æ—¶è§†è§‰å…¨èƒ½æ¨¡å‹ã€‚</p>
<ul>
<li>YOLOEçš„æ¶æ„åŸºäºç»å…¸çš„YOLOç³»åˆ—æ¨¡å‹ï¼Œä¸»è¦ç”±ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ç»„æˆï¼š
<ul>
<li><strong>éª¨å¹²ç½‘ç»œï¼ˆBackboneï¼‰</strong>ï¼šè´Ÿè´£æå–å›¾åƒçš„å¤šå°ºåº¦ç‰¹å¾ã€‚</li>
<li><strong>PANï¼ˆPath Aggregation Networkï¼‰</strong>ï¼šç”¨äºè¿›ä¸€æ­¥èåˆå¤šå°ºåº¦ç‰¹å¾ï¼Œå¢å¼ºç‰¹å¾è¡¨è¾¾èƒ½åŠ›ã€‚</li>
<li><strong>å›å½’å¤´ï¼ˆRegression Headï¼‰</strong>ï¼šé¢„æµ‹ç›®æ ‡è¾¹ç•Œæ¡†çš„ä½ç½®å’Œå¤§å°ã€‚</li>
<li><strong>åˆ†å‰²å¤´ï¼ˆSegmentation Headï¼‰</strong>ï¼šç”Ÿæˆç›®æ ‡çš„åˆ†å‰²æ©ç ã€‚</li>
<li><strong>å¯¹è±¡åµŒå…¥å¤´ï¼ˆObject Embedding Headï¼‰</strong>ï¼šç”Ÿæˆæ¯ä¸ªé”šç‚¹çš„å¯¹è±¡åµŒå…¥ï¼Œç”¨äºä¸æç¤ºåµŒå…¥è¿›è¡Œå¯¹æ¯”ã€‚</li>
</ul>
</li>
</ul>
<p>YOLOEçš„æ ¸å¿ƒåˆ›æ–°åœ¨äºå…¶èƒ½<strong>å¤Ÿå¤„ç†å¤šç§æç¤ºæœºåˆ¶ï¼ŒåŒ…æ‹¬æ–‡æœ¬æç¤ºã€è§†è§‰æç¤ºå’Œæ— æç¤ºåœºæ™¯ã€‚å¯¹äºæ–‡æœ¬æç¤º.</strong></p>
<p>YOLOEé€šè¿‡**å¯é‡å‚æ•°åŒ–åŒºåŸŸ-æ–‡æœ¬å¯¹é½ï¼ˆRepRTAï¼‰<strong>ç­–ç•¥æ¥å¢å¼ºæ–‡æœ¬åµŒå…¥ä¸è§†è§‰ç‰¹å¾çš„å¯¹é½ã€‚å¯¹äºè§†è§‰æç¤ºï¼ŒYOLOEè®¾è®¡äº†</strong>è¯­ä¹‰æ¿€æ´»è§†è§‰æç¤ºç¼–ç å™¨ï¼ˆSAVPEï¼‰<strong>é€šè¿‡è§£è€¦çš„è¯­ä¹‰å’Œæ¿€æ´»åˆ†æ”¯ç”Ÿæˆé«˜æ•ˆçš„è§†è§‰æç¤ºåµŒå…¥ã€‚å¯¹äºæ— æç¤ºåœºæ™¯ï¼ŒYOLOEå¼•å…¥äº†</strong>æ‡’æƒ°åŒºåŸŸ-æç¤ºå¯¹æ¯”ï¼ˆLRPCï¼‰**ç­–ç•¥ï¼Œé€šè¿‡å†…ç½®çš„å¤§è¯æ±‡è¡¨æ£€ç´¢ç±»åˆ«åç§°ï¼Œé¿å…äº†ä¾èµ–æ˜‚è´µçš„è¯­è¨€æ¨¡å‹ã€‚</p>
<h3 id="2-å…·ä½“ç»†èŠ‚-3"><a class="markdownIt-Anchor" href="#2-å…·ä½“ç»†èŠ‚-3"></a> 2 å…·ä½“ç»†èŠ‚</h3>
<h4 id="21-å¯é‡å‚æ•°åŒ–åŒºåŸŸ-æ–‡æœ¬å¯¹é½re-parameterizable-region-text-alignment-reprta"><a class="markdownIt-Anchor" href="#21-å¯é‡å‚æ•°åŒ–åŒºåŸŸ-æ–‡æœ¬å¯¹é½re-parameterizable-region-text-alignment-reprta"></a> 2.1 å¯é‡å‚æ•°åŒ–åŒºåŸŸ-æ–‡æœ¬å¯¹é½ï¼ˆ<strong>Re-parameterizable region-text alignment:</strong> RepRTAï¼‰</h4>
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250814143815369.png" alt="image-20250814143815369" style="zoom: 67%;"> 
<p>åœ¨å¼€æ”¾é›†åœºæ™¯ä¸­ï¼Œæ–‡æœ¬æç¤ºä¸è§†è§‰ç‰¹å¾çš„å¯¹é½è‡³å…³é‡è¦ã€‚ä¼ ç»Ÿçš„è·¨æ¨¡æ€èåˆæ–¹æ³•è™½ç„¶èƒ½å¤Ÿæå‡å¯¹é½æ•ˆæœï¼Œä½†è®¡ç®—å¼€é”€è¾ƒå¤§ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†å¤§é‡æ–‡æœ¬æ—¶ã€‚ä¸ºæ­¤ï¼ŒYOLOEæå‡ºäº†RepRTAç­–ç•¥ï¼Œé€šè¿‡ä¸€ä¸ªè½»é‡çº§çš„è¾…åŠ©ç½‘ç»œæ¥æ”¹è¿›é¢„è®­ç»ƒçš„æ–‡æœ¬åµŒå…¥ã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼ŒRepRTAé¦–å…ˆä½¿ç”¨CLIPæ–‡æœ¬ç¼–ç å™¨ç”Ÿæˆé¢„è®­ç»ƒçš„æ–‡æœ¬åµŒå…¥ã€‚ç„¶åï¼Œé€šè¿‡ä¸€ä¸ªè½»é‡çº§çš„è¾…åŠ©ç½‘ç»œï¼ˆä»…åŒ…å«ä¸€ä¸ªå‰é¦ˆå—ï¼‰å¯¹è¿™äº›åµŒå…¥è¿›è¡Œå¢å¼ºã€‚è®­ç»ƒæ—¶ï¼Œè¾…åŠ©ç½‘ç»œä»…éœ€å¤„ç†æ–‡æœ¬æç¤ºï¼Œè®¡ç®—å¼€é”€è¾ƒä½ã€‚æ¨ç†æ—¶ï¼Œè¾…åŠ©ç½‘ç»œå¯ä»¥æ— ç¼é‡å‚æ•°åŒ–ä¸ºåˆ†ç±»å¤´ï¼Œä½¿å¾—æ¨¡å‹åœ¨æ¨ç†æ—¶ä¸æ ‡å‡†çš„YOLOæ¨¡å‹å®Œå…¨ä¸€è‡´ï¼Œå®ç°äº†é›¶å¼€é”€ã€‚</p>
<h4 id="22-è¯­ä¹‰æ¿€æ´»è§†è§‰æç¤ºç¼–ç å™¨semantic-activated-visual-prompt-encoder-savpe"><a class="markdownIt-Anchor" href="#22-è¯­ä¹‰æ¿€æ´»è§†è§‰æç¤ºç¼–ç å™¨semantic-activated-visual-prompt-encoder-savpe"></a> 2.2 è¯­ä¹‰æ¿€æ´»è§†è§‰æç¤ºç¼–ç å™¨ï¼ˆ<strong>Semantic-activated visual prompt encoder:</strong> SAVPEï¼‰</h4>
<p>è§†è§‰æç¤ºé€šè¿‡è§†è§‰çº¿ç´¢ï¼ˆå¦‚è¾¹ç•Œæ¡†æˆ–æ©ç ï¼‰æŒ‡ç¤ºæ„Ÿå…´è¶£çš„å¯¹è±¡ç±»åˆ«ã€‚ä¸ºäº†é«˜æ•ˆå¤„ç†è§†è§‰æç¤ºï¼ŒYOLOEè®¾è®¡äº†SAVPEï¼Œå®ƒåŒ…å«ä¸¤ä¸ªè§£è€¦çš„åˆ†æ”¯ï¼š</p>
<ul>
<li><strong>è¯­ä¹‰åˆ†æ”¯</strong>ï¼šè¾“å‡ºä¸æç¤ºæ— å…³çš„è¯­ä¹‰ç‰¹å¾ï¼Œä¿æŒä½è®¡ç®—å¼€é”€ã€‚</li>
<li><strong>æ¿€æ´»åˆ†æ”¯</strong>ï¼šé€šè¿‡ä¸å›¾åƒç‰¹å¾çš„äº¤äº’ç”Ÿæˆåˆ†ç»„æç¤ºæ„ŸçŸ¥æƒé‡ï¼Œç”¨äºåŠ æƒè¯­ä¹‰ç‰¹å¾ã€‚</li>
</ul>
<p>å…·ä½“æ¥è¯´ï¼ŒSAVPEé¦–å…ˆå°†è§†è§‰æç¤ºå½¢å¼åŒ–ä¸ºæ©ç ï¼Œå¹¶é€šè¿‡å·ç§¯æ“ä½œç”Ÿæˆæç¤ºç‰¹å¾ã€‚ç„¶åï¼Œè¯­ä¹‰åˆ†æ”¯ä»PANçš„å¤šå°ºåº¦ç‰¹å¾ä¸­æå–è¯­ä¹‰ç‰¹å¾ï¼Œæ¿€æ´»åˆ†æ”¯é€šè¿‡å·ç§¯æ“ä½œç”Ÿæˆæç¤ºæ„ŸçŸ¥æƒé‡ã€‚æœ€åï¼Œé€šè¿‡åŠ æƒè¯­ä¹‰ç‰¹å¾ç”Ÿæˆè§†è§‰æç¤ºåµŒå…¥ï¼Œç”¨äºä¸å¯¹è±¡åµŒå…¥è¿›è¡Œå¯¹æ¯”ã€‚</p>
<h4 id="23-æ‡’æƒ°åŒºåŸŸ-æç¤ºå¯¹æ¯”lazy-region-prompt-contrast-lrpc"><a class="markdownIt-Anchor" href="#23-æ‡’æƒ°åŒºåŸŸ-æç¤ºå¯¹æ¯”lazy-region-prompt-contrast-lrpc"></a> 2.3 æ‡’æƒ°åŒºåŸŸ-æç¤ºå¯¹æ¯”ï¼ˆ<strong>Lazy region-prompt contrast:</strong> LRPCï¼‰</h4>
<p>åœ¨æ— æç¤ºåœºæ™¯ä¸­ï¼Œæ¨¡å‹éœ€è¦è¯†åˆ«å›¾åƒä¸­çš„æ‰€æœ‰å¯¹è±¡å¹¶ç”Ÿæˆç±»åˆ«åç§°ã€‚ä¼ ç»Ÿçš„ç”Ÿæˆå¼æ–¹æ³•ä¾èµ–äºå¤§å‹è¯­è¨€æ¨¡å‹ï¼Œè®¡ç®—å¼€é”€è¾ƒå¤§ã€‚ä¸ºæ­¤ï¼ŒYOLOEæå‡ºäº†LRPCç­–ç•¥ï¼Œå°†æ— æç¤ºåœºæ™¯é‡æ–°å®šä¹‰ä¸ºæ£€ç´¢é—®é¢˜ã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼ŒLRPCé¦–å…ˆé€šè¿‡ä¸€ä¸ªä¸“ç”¨çš„æç¤ºåµŒå…¥æ‰¾åˆ°æ‰€æœ‰å¯¹è±¡çš„é”šç‚¹ã€‚ç„¶åï¼Œä»…å°†è¿™äº›é”šç‚¹ä¸å†…ç½®çš„å¤§è¯æ±‡è¡¨è¿›è¡ŒåŒ¹é…ï¼Œæ£€ç´¢ç±»åˆ«åç§°ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒLRPCé¿å…äº†å¤„ç†å¤§é‡æ— å…³é”šç‚¹çš„è®¡ç®—å¼€é”€ï¼Œæ˜¾è‘—æå‡äº†æ•ˆç‡ã€‚</p>
<h1 id="2ç»“æ„åˆ†æ"><a class="markdownIt-Anchor" href="#2ç»“æ„åˆ†æ"></a> 2.ç»“æ„åˆ†æ</h1>
<h2 id="3-æ£€æµ‹å¤´"><a class="markdownIt-Anchor" href="#3-æ£€æµ‹å¤´"></a> 3 æ£€æµ‹å¤´</h2>
<p>è§£è€¦å¤´</p>
<blockquote>
<p>å³åˆ†å¼€è®¡ç®—BboxLosså’ŒClsLoss</p>
</blockquote>
<p><strong>reg_max</strong></p>
<p>å®šä¹‰:</p>
<blockquote>
<p>ä½œç”¨</p>
</blockquote>
<h1 id="ç»“æœåˆ†æ"><a class="markdownIt-Anchor" href="#ç»“æœåˆ†æ"></a> ç»“æœåˆ†æ</h1>
<h2 id="0-labels"><a class="markdownIt-Anchor" href="#0-labels"></a> 0 labels</h2>
<p><strong>labels</strong></p>
<p>å®šä¹‰: æ··æ·†çŸ©é˜µã€‚çŸ©é˜µçš„æ¯ä¸€åˆ—ä»£è¡¨ä¸€ä¸ªç±»çš„å®ä¾‹é¢„æµ‹ï¼Œè€Œæ¯ä¸€è¡Œè¡¨ç¤ºä¸€ä¸ªå®é™…çš„ç±»çš„å®ä¾‹ã€‚</p>
<blockquote>
<p>ä½œç”¨: æ˜¯å¦å°†ä¸¤ä¸ªä¸åŒçš„ç±»æ··æ·†äº†</p>
<p>åˆ†æ:</p>
<ol>
<li>ç¬¬ä¸€ä¸ªå›¾æ˜¯è®­ç»ƒé›†å¾—æ•°æ®é‡ï¼Œæ¯ä¸ªç±»åˆ«æœ‰å¤šå°‘ä¸ª</li>
<li>ç¬¬äºŒä¸ªæ˜¯æ¡†çš„å°ºå¯¸å’Œæ•°é‡</li>
<li>ç¬¬ä¸‰ä¸ªæ¡†çš„centerç‚¹çš„ä½ç½®ã€‚</li>
<li>ç¬¬å››ä¸ªæ˜¯labeldçš„é«˜å®½ç›¸æ¯”äºæ•´ä¸ªå›¾ç‰‡</li>
</ol>
</blockquote>
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/labels.jpg" alt="labels" style="zoom:25%;">   
<p><strong>labels_correlogram</strong></p>
<p>å®šä¹‰: <strong>ç±»åˆ«ç›¸å…³æ€§çƒ­åŠ›å›¾ï¼ˆcorrelation heatmapï¼‰</strong>ã€‚</p>
<blockquote>
<p>ä½œç”¨: æ˜¯å¦å°†ä¸¤ä¸ªä¸åŒçš„ç±»æ··æ·†äº†</p>
<p>åˆ†æ: é¢œè‰²è¶Šæ·±ï¼Œè¡¨ç¤ºå¯¹åº”æ ‡ç­¾ä¹‹é—´çš„ç›¸å…³æ€§è¶Šå¼ºï¼›é¢œè‰²è¶Šæµ…ï¼Œè¡¨ç¤ºç›¸å…³æ€§è¶Šå¼±</p>
<ol>
<li>å“ªäº›<strong>æ ‡ç­¾ä¹‹é—´å…·æœ‰è¾ƒå¼ºçš„ç›¸å…³æ€§</strong></li>
<li>å¦‚æœæˆ‘ä»¬å‘ç°æŸäº›æ ‡ç­¾ä¹‹é—´çš„ç›¸å…³æ€§è¿‡å¼ºï¼Œå¯ä»¥è€ƒè™‘å°†å®ƒä»¬åˆå¹¶æˆä¸€ä¸ªæ ‡ç­¾ï¼Œä»è€Œç®€åŒ–æ¨¡å‹å¹¶æé«˜æ•ˆç‡ã€‚</li>
</ol>
</blockquote>
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/labels_correlogram.jpg" alt="labels_correlogram" style="zoom:25%;">  
<h2 id="1-confusion_matrix"><a class="markdownIt-Anchor" href="#1-confusion_matrix"></a> 1 confusion_matrix</h2>
<p>å®šä¹‰: æ··æ·†çŸ©é˜µã€‚çŸ©é˜µçš„æ¯ä¸€åˆ—ä»£è¡¨ä¸€ä¸ªç±»çš„å®ä¾‹é¢„æµ‹ï¼Œè€Œæ¯ä¸€è¡Œè¡¨ç¤ºä¸€ä¸ªå®é™…çš„ç±»çš„å®ä¾‹ã€‚</p>
<blockquote>
<p>ä½œç”¨: æ˜¯å¦å°†ä¸¤ä¸ªä¸åŒçš„ç±»æ··æ·†äº†</p>
<p>åˆ†æ:</p>
<ol>
<li>left4 å®¹æ˜“è®¤ä¸ºæ˜¯background</li>
</ol>
</blockquote>
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/confusion_matrix.png" alt="confusion_matrix" style="zoom: 15%;"> 
<h2 id="2-prprf1_curve"><a class="markdownIt-Anchor" href="#2-prprf1_curve"></a> 2  P&amp;R&amp;PR&amp;F1_curve</h2>
<p><strong>2.1 P_curve</strong></p>
<p>å®šä¹‰: å½“æˆ‘è®¾ç½®ç½®ä¿¡åº¦ä¸ºæŸä¸€æ•°å€¼çš„æ—¶å€™ï¼Œå„ä¸ªç±»åˆ«è¯†åˆ«çš„å‡†ç¡®ç‡ã€‚</p>
<blockquote>
<p>ä½œç”¨:</p>
</blockquote>
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/P_curve.png" alt="P_curve" style="zoom:13%;"> 
<p><strong>2.2  R_curve</strong></p>
<p>å®šä¹‰: å½“æˆ‘è®¾ç½®ç½®ä¿¡åº¦ä¸ºæŸä¸€æ•°å€¼çš„æ—¶å€™ï¼Œå„ä¸ªç±»åˆ«è¯†åˆ«çš„å¬å›ç‡ï¼ˆæŸ¥å…¨ç‡ï¼‰å’Œç½®ä¿¡åº¦çš„å…³ç³»å›¾ã€‚</p>
<blockquote>
<p>ä½œç”¨:  è¶Šå…¨é¢</p>
</blockquote>
<p><img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/_%E6%A1%8C%E9%9D%A2/train2/PR_curve.png" alt="PR_curve"></p>
<p><strong>3. PR_curve</strong></p>
<p>å®šä¹‰: ç²¾åº¦ä¸å¬å›ç‡æ›²çº¿</p>
<blockquote>
<p>ä½œç”¨:  ç²¾åº¦ä¸å¬å›ç‡çš„å…³ç³»</p>
<p>åˆ†æ: å¸Œæœ›mAPæ›²çº¿çš„é¢ç§¯å°½å¯èƒ½æ¥è¿‘1</p>
</blockquote>
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/PR_curve.png" alt="PR_curve" style="zoom: 15%;"> 
<p><strong>4 F1_curve</strong></p>
<p>å®šä¹‰: <img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/image-20250508182738579.png" alt="image-20250508182738579" style="zoom:33%;"></p>
<blockquote>
<p>ä½œç”¨: <strong>ç²¾ç¡®ç‡å’Œå¬å›ç‡çš„è°ƒå’Œå¹³å‡æ•°</strong></p>
<p>åˆ†æ:</p>
</blockquote>
<img src="/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/F1_curve.png" alt="F1_curve" style="zoom:15%;"> 
<h2 id="3-other"><a class="markdownIt-Anchor" href="#3-other"></a> 3 other</h2>
<p><strong>3.1 loss functions</strong></p>
<blockquote>
<p>å®šä¹‰: å„ç±»ä¿¡æ¯</p>
</blockquote>
<p><strong>3.2 result.csv</strong></p>
<blockquote>
<p>å®šä¹‰: è®­ç»ƒçš„è¾“å‡º results.txtä¸­æœ€åä¸‰åˆ—æ˜¯éªŒè¯é›†ç»“æœï¼Œå‰é¢çš„æ˜¯è®­ç»ƒé›†ç»“æœ</p>
</blockquote>
<p><strong>3.3 train_batchx|val_batchx_labels|val_batchx_pred</strong></p>
<blockquote>
<p>batchsizeâ€™åˆ†æ</p>
</blockquote>
<p>ok</p>
<h1 id="æ¶ˆèå®éªŒ"><a class="markdownIt-Anchor" href="#æ¶ˆèå®éªŒ"></a> æ¶ˆèå®éªŒ</h1>
<table>
<thead>
<tr>
<th>Model</th>
<th>Layers</th>
<th>Params(M)</th>
<th>GFLOPs</th>
<th>mAP@0.5</th>
<th>mAP@0.5:0.95</th>
<th>Precision</th>
<th>Recall</th>
<th>Val Box</th>
<th>Val Cls</th>
<th>Val DFL</th>
</tr>
</thead>
<tbody>
<tr>
<td>wireï¼ˆYOLOv8sï¼‰</td>
<td>129</td>
<td>11.142</td>
<td>28.7</td>
<td><strong>0.97932</strong></td>
<td><strong>0.61878</strong></td>
<td>0.96333</td>
<td>0.95744</td>
<td>1.34446</td>
<td>0.68130</td>
<td>0.98080</td>
</tr>
<tr>
<td>wire-CBAM2</td>
<td>149</td>
<td>4.461</td>
<td>19.8</td>
<td>0.98499</td>
<td>0.65787</td>
<td>0.96523</td>
<td>0.96764</td>
<td>1.23725</td>
<td>0.60513</td>
<td>0.96018</td>
</tr>
<tr>
<td>wire-ghost</td>
<td>137</td>
<td>2.824</td>
<td>7.8</td>
<td>0.97932</td>
<td>0.61878</td>
<td>0.96333</td>
<td>0.95744</td>
<td>1.34446</td>
<td>0.68130</td>
<td>0.98080</td>
</tr>
<tr>
<td>wire-Ghost-C3ghost-GSCSP</td>
<td>291</td>
<td>5.857</td>
<td>17.4</td>
<td>0.97649</td>
<td>0.61437</td>
<td>0.95304</td>
<td>0.94231</td>
<td>1.34232</td>
<td>0.67661</td>
<td>0.97089</td>
</tr>
<tr>
<td>wire-Ghost-x-x-CBAM</td>
<td>162</td>
<td>3.399</td>
<td>15.5</td>
<td>0.97125</td>
<td>0.63970</td>
<td>0.94271</td>
<td>0.95166</td>
<td>1.28386</td>
<td>0.64999</td>
<td>0.96416</td>
</tr>
<tr>
<td>wire-Ghost-C3ghost-GSCSP-CBAM3</td>
<td>311</td>
<td>7.222</td>
<td>28.8</td>
<td>0.97058</td>
<td>0.61882</td>
<td>0.94713</td>
<td>0.95569</td>
<td>1.34975</td>
<td>0.69796</td>
<td>0.96739</td>
</tr>
<tr>
<td>wire-Ghost-C3ghost</td>
<td>259</td>
<td>3.136</td>
<td>8.9</td>
<td>0.96228</td>
<td>0.58690</td>
<td>0.87856</td>
<td>0.93795</td>
<td>1.43447</td>
<td>0.77993</td>
<td>0.96887</td>
</tr>
<tr>
<td>wire-C2Ghost-o</td>
<td>251</td>
<td>0.999</td>
<td>3.2</td>
<td>0.77162</td>
<td>0.34710</td>
<td>0.63183</td>
<td>0.79332</td>
<td>1.94767</td>
<td>1.21099</td>
<td>1.09901</td>
</tr>
</tbody>
</table>
<p>æ€»ç»“</p>
<table>
<thead>
<tr>
<th>æ¨¡å‹</th>
<th>Params(M)</th>
<th>â†“å‚æ•°å‹ç¼©</th>
<th>GFLOPs</th>
<th>â†“GFLOPs</th>
<th>mAP@0.5</th>
<th>Î”mAP@0.5</th>
<th>mAP@0.5:0.95</th>
<th>Î”mAP@0.5:95</th>
<th>ç»“è®º</th>
</tr>
</thead>
<tbody>
<tr>
<td>wire</td>
<td>11.142</td>
<td>-</td>
<td>28.7</td>
<td>-</td>
<td>0.97932</td>
<td>0</td>
<td>0.61878</td>
<td>0</td>
<td>åŸºå‡†</td>
</tr>
<tr>
<td>wire-ghost</td>
<td>2.824</td>
<td><strong>74.6%â†“</strong></td>
<td>7.8</td>
<td><strong>72.8%â†“</strong></td>
<td>0.97932</td>
<td>+0.00000</td>
<td>0.61878</td>
<td>+0.00000</td>
<td>æä¼˜</td>
</tr>
<tr>
<td>wire-CBAM2</td>
<td>4.461</td>
<td>59.9%â†“</td>
<td>19.8</td>
<td>31.0%â†“</td>
<td><strong>0.98499</strong></td>
<td><strong>+0.00567</strong></td>
<td><strong>0.65787</strong></td>
<td><strong>+0.03909</strong></td>
<td>å‡†ç¡®æ€§æœ€ä¼˜</td>
</tr>
<tr>
<td>wire-Ghost-C3ghost</td>
<td>3.136</td>
<td>71.8%â†“</td>
<td>8.9</td>
<td>69.0%â†“</td>
<td>0.96228</td>
<td>âˆ’0.01704</td>
<td>0.58690</td>
<td>âˆ’0.03188</td>
<td>ç¨³å¥ä½†ç•¥é™</td>
</tr>
<tr>
<td>wire-Ghost-C3ghost-GSCSP</td>
<td>5.857</td>
<td>47.4%â†“</td>
<td>17.4</td>
<td>39.3%â†“</td>
<td>0.97649</td>
<td>âˆ’0.00283</td>
<td>0.61437</td>
<td>âˆ’0.00441</td>
<td>å¹³è¡¡æœ€ä¼˜</td>
</tr>
<tr>
<td>wire-Ghost-C3ghost-GSCSP-CBAM</td>
<td>7.222</td>
<td>35.2%â†“</td>
<td>28.8</td>
<td>â‰ˆæŒå¹³</td>
<td>0.97068</td>
<td>âˆ’0.00864</td>
<td>0.63409</td>
<td>+0.01531</td>
<td>ç²¾åº¦æå‡è½»åº¦è¡¥å¿</td>
</tr>
<tr>
<td>wire-Ghost-x-x-CBAM</td>
<td>3.399</td>
<td>69.5%â†“</td>
<td>15.5</td>
<td>46.0%â†“</td>
<td>0.97125</td>
<td>âˆ’0.00807</td>
<td>0.63970</td>
<td>+0.02092</td>
<td>è½»é‡+CBAM å¹³è¡¡å‹</td>
</tr>
<tr>
<td>wire-C2Ghost-o</td>
<td>0.999</td>
<td><strong>91.0%â†“</strong></td>
<td>3.2</td>
<td><strong>88.9%â†“</strong></td>
<td>0.77162</td>
<td>âˆ’0.20770</td>
<td>0.34710</td>
<td>âˆ’0.27168</td>
<td>æç«¯è½»é‡ï¼ŒæŸå¤±å¤§</td>
</tr>
</tbody>
</table>
<blockquote>
<p>åœ¨ä¿æŒè¾ƒä½å‚æ•°é‡ï¼ˆ&lt;5Mï¼‰å’Œè®¡ç®—å¤æ‚åº¦ï¼ˆ&lt;20 GFLOPsï¼‰å‰æä¸‹ï¼Œ<code>Ghost + C3ghost + GSCSP + CBAM</code> çš„ç»„åˆåœ¨ mAP@0.5 ä¸ŠåŸºæœ¬ä¿æŒåœ¨ <strong>0.97 ä»¥ä¸Š</strong>ï¼Œæ€§èƒ½ä¸åŸå§‹ç»“æ„ç›¸å½“ç”šè‡³æ›´ä¼˜ã€‚</p>
</blockquote>
<blockquote>
<p>å®é™…æ¨ç†é€Ÿåº¦å’Œèµ„æºå ç”¨æ˜¾è‘—ä¼˜äºåŸç‰ˆ YOLOv8ã€‚é‡åŒ–åçš„æ¨¡å‹åœ¨ mAP@0.5 ä¸Šä»…æœ‰ <strong>0.5%-1% å·¦å³çš„ä¸‹é™</strong>ï¼Œä½†å¸¦æ¥äº† <strong>20%-40% çš„åŠ é€Ÿæå‡</strong>ï¼Œæ›´é€‚åˆåœ¨åµŒå…¥å¼æˆ–è¾¹ç¼˜è®¾å¤‡ä¸Šéƒ¨ç½²ã€‚</p>
</blockquote>
<h1 id="ultralytics-åº“"><a class="markdownIt-Anchor" href="#ultralytics-åº“"></a> Ultralytics åº“</h1>
<p>Ultralytics æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ Python åº“ï¼Œä¸»è¦ç”¨äºè®¡ç®—æœºè§†è§‰ä»»åŠ¡ï¼Œå°¤å…¶æ˜¯å¯¹è±¡æ£€æµ‹ã€å®ä¾‹åˆ†å‰²å’Œå›¾åƒåˆ†ç±»ã€‚å®ƒä»¥ YOLOï¼ˆYou Only Look Onceï¼‰ç³»åˆ—æ¨¡å‹ä¸ºæ ¸å¿ƒï¼Œæä¾›ç®€å•æ˜“ç”¨çš„ APIï¼Œé€‚ç”¨äºç ”ç©¶å’Œç”Ÿäº§ç¯å¢ƒã€‚ä»¥ä¸‹æ˜¯å¯¹ YOLO.predict() æ–¹æ³•åŠå…¶è¿”å›ç»“æœ result çš„ä¸­æ–‡ä»‹ç»ã€‚</p>
<h2 id="yolo"><a class="markdownIt-Anchor" href="#yolo"></a> YOLO</h2>
<p>YOLO æ˜¯ Ultralytics åº“çš„æ ¸å¿ƒæ¨¡å‹ï¼ŒåŸºäº YOLOv8 ç­‰å…ˆè¿›æ¶æ„ï¼Œæ”¯æŒé«˜æ•ˆã€å®æ—¶çš„å¯¹è±¡æ£€æµ‹ã€åˆ†å‰²å’Œå…³é”®ç‚¹æ£€æµ‹ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡é¢„è®­ç»ƒæ¨¡å‹æˆ–è‡ªå®šä¹‰è®­ç»ƒæ¨¡å‹æ¥å¤„ç†å›¾åƒæˆ–è§†é¢‘ä¸­çš„ç›®æ ‡æ£€æµ‹ä»»åŠ¡ã€‚</p>
<h2 id="yolopredict"><a class="markdownIt-Anchor" href="#yolopredict"></a> YOLO.predict()</h2>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.ultralytics.com/modes/predict/#inference-arguments">https://docs.ultralytics.com/modes/predict/#inference-arguments</a></p>
</blockquote>
<p>YOLO.predict() æ˜¯ Ultralytics YOLO æ¨¡å‹çš„ä¸»è¦æ¨ç†æ–¹æ³•ï¼Œç”¨äºå¯¹è¾“å…¥æ•°æ®ï¼ˆå›¾åƒã€è§†é¢‘æˆ–æ•°æ®æµï¼‰è¿›è¡Œé¢„æµ‹</p>
<h3 id="1-ç”¨æ³•å‚æ•°è¯´æ˜"><a class="markdownIt-Anchor" href="#1-ç”¨æ³•å‚æ•°è¯´æ˜"></a> 1 ç”¨æ³•/å‚æ•°è¯´æ˜</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> ultralytics <span class="keyword">import</span> YOLO</span><br><span class="line">model = YOLO(<span class="string">&quot;yolov8n.pt&quot;</span>)  <span class="comment"># ä½¿ç”¨é¢„è®­ç»ƒæ¨¡å‹ï¼ˆå¦‚ yolov8n.ptï¼‰</span></span><br><span class="line">result = model.predict(source=<span class="string">&quot;image.jpg&quot;</span>,  save=<span class="literal">True</span>, conf=<span class="number">0.25</span>, iou=<span class="number">0.45</span>)</span><br></pre></td></tr></table></figure>
<p><strong>æ¨ç†å‚æ•°è¯´æ˜</strong>ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:left">Argument</th>
<th style="text-align:left">Type</th>
<th style="text-align:left">Default</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>source</code></td>
<td style="text-align:left"><code>str</code></td>
<td style="text-align:left"><code>'ultralytics/assets'</code></td>
<td style="text-align:left">Specifies the data source for inference. Can be an image path, video file, directory, URL, or device ID for live feeds. Supports a wide range of formats and sources, enabling flexible application across <a target="_blank" rel="noopener" href="https://docs.ultralytics.com/modes/predict/#inference-sources">different types of input</a>.</td>
</tr>
<tr>
<td style="text-align:left"><code>conf</code></td>
<td style="text-align:left"><code>float</code></td>
<td style="text-align:left"><code>0.25</code></td>
<td style="text-align:left">Sets the minimum confidence threshold for detections. Objects detected with confidence below this threshold will be disregarded. Adjusting this value can help reduce false positives.</td>
</tr>
<tr>
<td style="text-align:left"><code>iou</code></td>
<td style="text-align:left"><code>float</code></td>
<td style="text-align:left"><code>0.7</code></td>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://www.ultralytics.com/glossary/intersection-over-union-iou">Intersection Over Union</a> (IoU) threshold for Non-Maximum Suppression (NMS). Lower values result in fewer detections by eliminating overlapping boxes, useful for reducing duplicates.</td>
</tr>
<tr>
<td style="text-align:left"><code>imgsz</code></td>
<td style="text-align:left"><code>int</code> or <code>tuple</code></td>
<td style="text-align:left"><code>640</code></td>
<td style="text-align:left">Defines the image size for inference. Can be a single integer <code>640</code> for square resizing or a (height, width) tuple. Proper sizing can improve detection <a target="_blank" rel="noopener" href="https://www.ultralytics.com/glossary/accuracy">accuracy</a> and processing speed.</td>
</tr>
<tr>
<td style="text-align:left"><code>rect</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left"><code>True</code></td>
<td style="text-align:left">If enabled, <strong>minimally</strong> pads the shorter side of the image until itâ€™s divisible by stride to improve inference speed. If disabled, pads the image to a square during inference.</td>
</tr>
<tr>
<td style="text-align:left"><code>half</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left"><code>False</code></td>
<td style="text-align:left">Enables half-<a target="_blank" rel="noopener" href="https://www.ultralytics.com/glossary/precision">precision</a> (FP16) inference, which can speed up model inference on supported GPUs with minimal impact on accuracy.</td>
</tr>
<tr>
<td style="text-align:left"><code>device</code></td>
<td style="text-align:left"><code>str</code></td>
<td style="text-align:left"><code>None</code></td>
<td style="text-align:left">Specifies the device for inference (e.g., <code>cpu</code>, <code>cuda:0</code> or <code>0</code>). Allows users to select between CPU, a specific GPU, or other compute devices for model execution.</td>
</tr>
<tr>
<td style="text-align:left"><code>batch</code></td>
<td style="text-align:left"><code>int</code></td>
<td style="text-align:left"><code>1</code></td>
<td style="text-align:left">Specifies the batch size for inference (only works when the source is <a target="_blank" rel="noopener" href="https://docs.ultralytics.com/modes/predict/#inference-sources">a directory, video file or <code>.txt</code> file</a>). A larger batch size can provide higher throughput, shortening the total amount of time required for inference.</td>
</tr>
<tr>
<td style="text-align:left"><code>max_det</code></td>
<td style="text-align:left"><code>int</code></td>
<td style="text-align:left"><code>300</code></td>
<td style="text-align:left"><strong>Maximum number of detections allowed per image.</strong> Limits the total number of objects the model can detect in a single inference, preventing excessive outputs in dense scenes.</td>
</tr>
<tr>
<td style="text-align:left"><code>vid_stride</code></td>
<td style="text-align:left"><code>int</code></td>
<td style="text-align:left"><code>1</code></td>
<td style="text-align:left">Frame stride for video inputs. <strong>Allows skipping frames in videos</strong> to speed up processing at the cost of temporal resolution. A value of 1 processes every frame, higher values skip frames.</td>
</tr>
<tr>
<td style="text-align:left"><code>stream_buffer</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left"><code>False</code></td>
<td style="text-align:left">Determines whether to queue incoming frames for video streams. If <code>False</code>, old frames get dropped to accommodate new frames (optimized for real-time applications). If <code>True</code>, queues new frames in a buffer, ensuring no frames get skipped, but will cause latency if inference FPS is lower than stream FPS.</td>
</tr>
<tr>
<td style="text-align:left"><code>visualize</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left"><code>False</code></td>
<td style="text-align:left">Activates visualization of model features during inference, providing insights into <strong>what the model is â€œseeingâ€.</strong> Useful for debugging and model interpretation.</td>
</tr>
<tr>
<td style="text-align:left"><code>augment</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left"><code>False</code></td>
<td style="text-align:left">Enables test-time augmentation (TTA) for predictions, potentially improving detection robustness at the cost of inference speed.</td>
</tr>
<tr>
<td style="text-align:left"><code>agnostic_nms</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left"><code>False</code></td>
<td style="text-align:left">Enables class-agnostic Non-Maximum Suppression (NMS), which merges overlapping boxes of different classes. Useful in multi-class detection scenarios where <strong>class overlap</strong> is common.</td>
</tr>
<tr>
<td style="text-align:left"><code>classes</code></td>
<td style="text-align:left"><code>list[int]</code></td>
<td style="text-align:left"><code>None</code></td>
<td style="text-align:left">Filters predictions to a set of class IDs. <strong>Only detections belonging to the specified classes will be returned.</strong> Useful for focusing on relevant objects in multi-class detection tasks.</td>
</tr>
<tr>
<td style="text-align:left"><code>retina_masks</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left"><code>False</code></td>
<td style="text-align:left">Returns high-resolution segmentation masks. The returned masks (<code>masks.data</code>) will match the original image size if enabled. If disabled, they have the image size used during inference.</td>
</tr>
<tr>
<td style="text-align:left"><code>embed</code></td>
<td style="text-align:left"><code>list[int]</code></td>
<td style="text-align:left"><code>None</code></td>
<td style="text-align:left">Specifies the layers from which to extract feature vectors or <a target="_blank" rel="noopener" href="https://www.ultralytics.com/glossary/embeddings">embeddings</a>. Useful for downstream tasks like clustering or similarity search.</td>
</tr>
<tr>
<td style="text-align:left"><code>project</code></td>
<td style="text-align:left"><code>str</code></td>
<td style="text-align:left"><code>None</code></td>
<td style="text-align:left"><strong>Name of the project</strong> directory where prediction outputs are saved if <code>save</code> is enabled.</td>
</tr>
<tr>
<td style="text-align:left"><code>name</code></td>
<td style="text-align:left"><code>str</code></td>
<td style="text-align:left"><code>None</code></td>
<td style="text-align:left"><strong>Name of the prediction run.</strong> Used for creating a subdirectory within the project folder, where prediction outputs are stored if <code>save</code> is enabled.</td>
</tr>
<tr>
<td style="text-align:left"><code>stream</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left"><code>False</code></td>
<td style="text-align:left">Enables memory-efficient processing for long videos or numerous images by returning a generator of Results objects instead of loading all frames into memory at once.</td>
</tr>
<tr>
<td style="text-align:left"><code>verbose</code></td>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left"><code>True</code></td>
<td style="text-align:left">Controls whether to display detailed inference logs in the terminal, providing real-time feedback on the prediction process.</td>
</tr>
</tbody>
</table>
<p><strong>å¯è§†åŒ–å‚æ•°</strong></p>
<table>
<thead>
<tr>
<th><code>save_crop</code></th>
<th><code>bool</code></th>
<th><code>False</code></th>
<th>Saves cropped images of detections. Useful for dataset augmentation, analysis, or creating focused datasets for specific objects.</th>
</tr>
</thead>
<tbody>
<tr>
<td>â€¦</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="2-result"><a class="markdownIt-Anchor" href="#2-result"></a> 2 result</h3>
<p>All Ultralytics <code>predict()</code> calls will return a list of <code>Results</code> objects:</p>
<h4 id="ä¸»è¦å±æ€§"><a class="markdownIt-Anchor" href="#ä¸»è¦å±æ€§"></a> ä¸»è¦å±æ€§</h4>
<table>
<thead>
<tr>
<th style="text-align:left">Attribute</th>
<th style="text-align:left">Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>orig_img</code></td>
<td style="text-align:left"><code>np.ndarray</code></td>
<td style="text-align:left">The original image as a numpy array.</td>
</tr>
<tr>
<td style="text-align:left"><code>orig_shape</code></td>
<td style="text-align:left"><code>tuple</code></td>
<td style="text-align:left">The original image shape in (height, width) format.</td>
</tr>
<tr>
<td style="text-align:left"><code>boxes</code></td>
<td style="text-align:left"><code>Boxes, optional</code></td>
<td style="text-align:left">A Boxes object containing the detection bounding boxes.</td>
</tr>
<tr>
<td style="text-align:left"><code>masks</code></td>
<td style="text-align:left"><code>Masks, optional</code></td>
<td style="text-align:left">A Masks object containing the detection masks.</td>
</tr>
<tr>
<td style="text-align:left"><code>probs</code></td>
<td style="text-align:left"><code>Probs, optional</code></td>
<td style="text-align:left">A Probs object containing probabilities of each class for classification task.</td>
</tr>
<tr>
<td style="text-align:left"><code>keypoints</code></td>
<td style="text-align:left"><code>Keypoints, optional</code></td>
<td style="text-align:left">A Keypoints object containing detected keypoints for each object.</td>
</tr>
<tr>
<td style="text-align:left"><code>obb</code></td>
<td style="text-align:left"><code>OBB, optional</code></td>
<td style="text-align:left">An OBB object containing oriented bounding boxes.</td>
</tr>
<tr>
<td style="text-align:left"><code>speed</code></td>
<td style="text-align:left"><code>dict</code></td>
<td style="text-align:left">A dictionary of preprocess, inference, and postprocess speeds in milliseconds per image.</td>
</tr>
<tr>
<td style="text-align:left"><code>names</code></td>
<td style="text-align:left"><code>dict</code></td>
<td style="text-align:left">A dictionary mapping class indices to class names.</td>
</tr>
<tr>
<td style="text-align:left"><code>path</code></td>
<td style="text-align:left"><code>str</code></td>
<td style="text-align:left">The path to the image file.</td>
</tr>
<tr>
<td style="text-align:left"><code>save_dir</code></td>
<td style="text-align:left"><code>str, optional</code></td>
<td style="text-align:left">Directory to save results.</td>
</tr>
</tbody>
</table>
<h3 id="3-boxes"><a class="markdownIt-Anchor" href="#3-boxes"></a> 3 Boxes</h3>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.ultralytics.com/reference/engine/results/#ultralytics.engine.results.Boxes"><code>Boxes</code> class documentation</a>.</p>
</blockquote>
<p><code>result[i].boxes</code></p>
<h4 id="è¯´æ˜"><a class="markdownIt-Anchor" href="#è¯´æ˜"></a> è¯´æ˜</h4>
<p><strong>Boxes(boxes: Union[Tensor, ndarray], orig_shape: Tuple[int, int])</strong></p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">Name</th>
<th style="text-align:left">Type</th>
<th style="text-align:left">Description</th>
<th style="text-align:left">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>boxes</code></td>
<td style="text-align:left">`Tensor</td>
<td style="text-align:left">ndarray`</td>
<td style="text-align:left">A tensor or numpy array with detection boxes of shape (num_boxes, 6) or (num_boxes, 7). Columns should contain [x1, y1, x2, y2, confidence, class, (optional) track_id].</td>
</tr>
<tr>
<td style="text-align:left"><code>orig_shape</code></td>
<td style="text-align:left"><code>Tuple[int, int]</code></td>
<td style="text-align:left">The original image shape as (height, width). Used for normalization.</td>
<td style="text-align:left"><em>required</em></td>
</tr>
</tbody>
</table>
<h4 id="æ–¹æ³•å’ŒåŠŸèƒ½"><a class="markdownIt-Anchor" href="#æ–¹æ³•å’ŒåŠŸèƒ½"></a> æ–¹æ³•å’ŒåŠŸèƒ½</h4>
<table>
<thead>
<tr>
<th style="text-align:left">Name</th>
<th style="text-align:left">Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>cpu()</code></td>
<td style="text-align:left">Method</td>
<td style="text-align:left">Move the object to CPU memory.</td>
</tr>
<tr>
<td style="text-align:left"><code>numpy()</code></td>
<td style="text-align:left">Method</td>
<td style="text-align:left">Convert the object to a numpy array.</td>
</tr>
<tr>
<td style="text-align:left"><code>cuda()</code></td>
<td style="text-align:left">Method</td>
<td style="text-align:left">Move the object to CUDA memory.</td>
</tr>
<tr>
<td style="text-align:left"><code>to()</code></td>
<td style="text-align:left">Method</td>
<td style="text-align:left">Move the object to the specified device.</td>
</tr>
<tr>
<td style="text-align:left"><code>xyxy</code></td>
<td style="text-align:left">Property (<code>torch.Tensor</code>)</td>
<td style="text-align:left">Return the boxes in xyxy format.</td>
</tr>
<tr>
<td style="text-align:left"><code>conf</code></td>
<td style="text-align:left">Property (<code>torch.Tensor</code>)</td>
<td style="text-align:left">Return the confidence values of the boxes.</td>
</tr>
<tr>
<td style="text-align:left"><code>cls</code></td>
<td style="text-align:left">Property (<code>torch.Tensor</code>)</td>
<td style="text-align:left">Return the class values of the boxes.</td>
</tr>
<tr>
<td style="text-align:left"><code>id</code></td>
<td style="text-align:left">Property (<code>torch.Tensor</code>)</td>
<td style="text-align:left">Return the track IDs of the boxes (if available).</td>
</tr>
<tr>
<td style="text-align:left"><code>xywh</code></td>
<td style="text-align:left">Property (<code>torch.Tensor</code>)</td>
<td style="text-align:left">Return the boxes in xywh format.</td>
</tr>
<tr>
<td style="text-align:left"><code>xyxyn</code></td>
<td style="text-align:left">Property (<code>torch.Tensor</code>)</td>
<td style="text-align:left">Return the boxes in xyxy format normalized by original image size.</td>
</tr>
<tr>
<td style="text-align:left"><code>xywhn</code></td>
<td style="text-align:left">Property (<code>torch.Tensor</code>)</td>
<td style="text-align:left">Return the boxes in xywh format normalized by original image size.</td>
</tr>
</tbody>
</table>
<h3 id="4-plot"><a class="markdownIt-Anchor" href="#4-plot"></a> 4 plot()</h3>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shakewely.github.io/2025/05/04/2025%E5%B9%B45%E6%9C%884%E6%97%A5-yolo%E6%B1%87%E6%80%BB/" data-id="cmanj8o28000ylcv48vhi5odp" class="article-share-link">åˆ†äº«</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/YOLO/" rel="tag">YOLO</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-2025å¹´4æœˆ24æ—¥-è®­ç»ƒä¼˜åŒ–" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2025/04/24/2025%E5%B9%B44%E6%9C%8824%E6%97%A5-%E8%AE%AD%E7%BB%83%E4%BC%98%E5%8C%96/" class="article-date">
  <time class="post-time" datetime="2025-04-24T05:39:41.000Z" itemprop="datePublished">
    <span class="post-month">4æœˆ</span><br/>
    <span class="post-day">24</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2025/04/24/2025%E5%B9%B44%E6%9C%8824%E6%97%A5-%E8%AE%AD%E7%BB%83%E4%BC%98%E5%8C%96/">2025å¹´4æœˆ24æ—¥ è®­ç»ƒä¼˜åŒ–</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="æ•°æ®"><a class="markdownIt-Anchor" href="#æ•°æ®"></a> æ•°æ®</h1>
<h2 id="1-æ ‡æ³¨ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#1-æ ‡æ³¨ä¼˜åŒ–"></a> 1 æ ‡æ³¨ä¼˜åŒ–</h2>
<p>âœ…<strong>1. å¸¸è§é—®é¢˜æ±‡æ€»</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ç›¸è¿çš„ä¸¤ä¸ªæ•°æ®æ˜¯ä¸€èµ·æ ‡è¿˜æ˜¯?</span><br><span class="line">åˆ¶é€ è¿›è¡Œæ ‡å®šæ•°æ®å¯ä»¥æŠŠä¹‹å‰å®Œæˆçš„æš‚æ—¶å…ˆè®¾ç½®ä¸ºæœªå®ŒæˆçŠ¶æ€</span><br><span class="line">æœ‰å¾ˆç›¸ä¼¼çš„ç‰©ä½“ ä½†æ˜¯ç›¸å¯¹ä½ç½®æ˜¯æ˜æ˜¾ä¸åŒçš„</span><br><span class="line">AIè¾…åŠ©æ ‡æ³¨å,è¦çº æ­£ä¸€äº›é”™è¯¯æ ‡æ³¨,AIçš„é”™è¯¯æ ·æœ¬å’Œå¾ˆå¤šç›¸åŒç›¸ä¼¼çš„æ•°æ®è¦åˆ é™¤,åˆ†æå“ªå‡ ä¸ªç±»åˆ«æ¯”è¾ƒå®¹æ˜“å‡ºé”™,ä¿ç•™ä¸€äº›éš¾æ ·æœ¬,å¢åŠ è¿™ç±»çš„æ ·æœ¬,å’Œå°‘è§æ¯”å¦‚æœ‰é®æŒ¡çš„æƒ…æ™¯ï¼Œå‡ºç°é®æŒ¡å¦‚ä½•å¤„ç†?éœ€ä¸éœ€è¦é‡æ–°æ ‡æ³¨å‘¢?</span><br><span class="line">æ¨¡å‹æ•ˆæœæ¯”æˆ‘æƒ³è±¡çš„è¦å¥½å¾ˆå¤šå•Š,å¾ˆå¤šæƒ³ä¸åˆ°çš„éƒ½èƒ½è¯†åˆ«æ­£ç¡®,å…³é”®æ˜¯åˆ«æ ‡é”™æ•°æ®äº†</span><br><span class="line">å¯¹äºå˜åŒ–ä¸å¤§,æ³›åŒ–èƒ½åŠ›è¦æ±‚ä¸é«˜çš„åœºæ™¯,å°†valçš„æ¯”ä¾‹æé«˜æ˜¯å¦æœ‰æ•ˆ?</span><br><span class="line">å¦‚æœå‘ç°ç¼ºæ¼çš„æ ‡ç­¾éœ€è¦å†æ·»åŠ ï¼Œå¯ä»¥è®­ç»ƒåªæ ‡å®šæ–°æ ‡ç­¾çš„å°modelè¾…åŠ©åç»­æ ‡æ³¨è€Œä¸ç”¨å…¨éƒ¨æ ‡ç­¾</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>é—®é¢˜</th>
<th>å»ºè®®</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç›¸è¿ç‰©ä½“ä¸€èµ·æ ‡ or åˆ†å¼€æ ‡ï¼Ÿ</td>
<td>æ ¹æ®ä»»åŠ¡éœ€æ±‚ï¼ŒåŒºåˆ† instance åˆ™åˆ†å¼€ï¼Œä¸åŒºåˆ†åˆ™åˆå¹¶æ ‡</td>
</tr>
<tr>
<td>æ ‡å®šæ•°æ®çŠ¶æ€ç®¡ç†</td>
<td>å·²å®Œæˆæ•°æ®å¯åˆ‡æ¢ä¸ºæœªå®Œæˆï¼Œç”¨çŠ¶æ€æ ‡è®°åšå¤æŸ¥</td>
</tr>
<tr>
<td>ç›¸ä¼¼ç‰©ä½“ä¸åŒä½ç½® â†’ class è®¾è®¡</td>
<td>æ¨èç”¨ä¸åŒ classï¼Œå¦‚æœ‰åå¤„ç†èƒ½åŠ›ä¹Ÿå¯ç»Ÿä¸€ class ååŒºåˆ†</td>
</tr>
<tr>
<td>AI æ ‡æ³¨åçº é”™ä¸å›°éš¾æ ·æœ¬é‡‡é›†</td>
<td>åˆ†æé«˜è¯¯å·®ç±»åˆ«ã€ä¿ç•™éš¾æ ·æœ¬ã€å¢åŠ å°‘è§æƒ…æ™¯ã€é®æŒ¡éœ€é‡æ–°æ ‡æ³¨</td>
</tr>
<tr>
<td>é®æŒ¡æ ·æœ¬æ ‡æ³¨</td>
<td>æ ‡å¯è§éƒ¨åˆ†å¹¶åŠ  occluded å±æ€§ï¼Œå®Œå…¨é®æŒ¡åˆ™ä¸æ ‡</td>
</tr>
<tr>
<td>val å æ¯”è°ƒæ•´</td>
<td>å˜åŒ–å°çš„åœºæ™¯å¯é€‚å½“å¢å¤§ val æ¯”ä¾‹ï¼ˆ<s>20</s>30%ï¼‰ï¼Œæ³¨æ„åˆ«å¤ªé«˜</td>
</tr>
</tbody>
</table>
<h1 id="è®­ç»ƒç›¸å…³"><a class="markdownIt-Anchor" href="#è®­ç»ƒç›¸å…³"></a> è®­ç»ƒç›¸å…³</h1>
<h2 id="1-è®­ç»ƒæ•°æ®æŒ‡æ ‡"><a class="markdownIt-Anchor" href="#1-è®­ç»ƒæ•°æ®æŒ‡æ ‡"></a> 1 è®­ç»ƒæ•°æ®æŒ‡æ ‡</h2>
<p>âœ… <strong>1. layersï¼ˆå±‚æ•°ï¼‰</strong></p>
<ul>
<li>è¡¨ç¤ºç½‘ç»œä¸­åŒ…å«çš„å±‚çš„æ•°é‡ï¼ˆå·ç§¯å±‚ã€BNå±‚ã€æ¿€æ´»å±‚ã€C3ghost æ¨¡å—ç­‰ï¼‰ã€‚</li>
<li><strong>å’Œæ˜¾å­˜å…³ç³»ï¼š</strong><br>
â†’ å±‚æ•°æœ¬èº«ä¸ç›´æ¥å†³å®šæ˜¾å­˜å ç”¨ï¼Œä½†æ›´æ·±çš„ç½‘ç»œå¾€å¾€éœ€è¦æ›´å¤šå‚æ•°å’Œä¸­é—´ç‰¹å¾ï¼Œè¿™ä¼šå¢åŠ æ˜¾å­˜éœ€æ±‚ã€‚</li>
</ul>
<hr>
<p>âœ… <strong>2. parametersï¼ˆå‚æ•°é‡ï¼‰</strong></p>
<ul>
<li>ç½‘ç»œä¸­çš„æ€»å‚æ•°æ•°é‡ï¼Œæ¯”å¦‚å·ç§¯æ ¸çš„æƒé‡ã€åç½®ç­‰ã€‚</li>
<li><strong>å’Œæ˜¾å­˜å…³ç³»ï¼š</strong><br>
â†’ éœ€è¦æ˜¾å­˜å­˜å‚¨è¿™äº›å‚æ•°ï¼Œé€šå¸¸å‚æ•°é‡è¾ƒå°ï¼ˆç™¾ä¸‡çº§ï¼‰æ—¶ï¼Œè¿™éƒ¨åˆ†æ˜¾å­˜å ç”¨è¾ƒä½ï¼ˆå‡ å MBï¼‰ã€‚<br>
â†’ ä¸»è¦å½±å“æ¨¡å‹åŠ è½½åˆ° GPU åçš„é™æ€æ˜¾å­˜å ç”¨ã€‚</li>
</ul>
<hr>
<p>âœ… <strong>3. gradientsï¼ˆæ¢¯åº¦æ•°ï¼‰</strong></p>
<ul>
<li>è®­ç»ƒæ—¶éœ€è¦ä¿å­˜æ¯ä¸ªå‚æ•°çš„æ¢¯åº¦ï¼Œç”¨äºåå‘ä¼ æ’­ã€‚</li>
<li><strong>å’Œæ˜¾å­˜å…³ç³»ï¼š</strong><br>
â†’ åœ¨è®­ç»ƒæ—¶ä¼šé¢å¤–å ç”¨å’Œå‚æ•°é‡å‡ ä¹ç›¸åŒçš„æ˜¾å­˜ã€‚<br>
â†’ å¦‚æœåªæ¨ç†ï¼ˆinferenceï¼‰ï¼Œæ¢¯åº¦ä¸è®¡ç®—ï¼Œä¸å ç”¨æ˜¾å­˜ã€‚</li>
</ul>
<hr>
<p>âœ… <strong>4. GFLOPsï¼ˆæ¯ç§’åäº¿æ¬¡æµ®ç‚¹è¿ç®—ï¼‰</strong></p>
<ul>
<li>æ¯æ¬¡å‰å‘æ¨ç†æ‰€éœ€çš„å¤§çº¦è®¡ç®—é‡ã€‚</li>
<li><strong>å’Œæ˜¾å­˜å…³ç³»ï¼š</strong><br>
â†’ ä¸ç›´æ¥å†³å®šæ˜¾å­˜å ç”¨ï¼Œä½†é€šå¸¸ GFLOPs é«˜çš„æ¨¡å‹ä¹Ÿä¼šæœ‰æ›´å¤§ä¸­é—´ç‰¹å¾å›¾ï¼ˆfeature mapï¼‰ï¼Œå¯¼è‡´æ›´é«˜çš„æ˜¾å­˜å ç”¨ã€‚</li>
</ul>
<hr>
<h3 id="æ€»ç»“å’Œ-gpu-æ˜¾å­˜ç›¸å…³çš„éƒ¨åˆ†"><a class="markdownIt-Anchor" href="#æ€»ç»“å’Œ-gpu-æ˜¾å­˜ç›¸å…³çš„éƒ¨åˆ†"></a> ğŸ“Œ æ€»ç»“ï¼šå’Œ GPU æ˜¾å­˜ç›¸å…³çš„éƒ¨åˆ†</h3>
<table>
<thead>
<tr>
<th>ç»„ä»¶</th>
<th>è®­ç»ƒæ—¶æ˜¾å­˜å ç”¨</th>
<th>æ¨ç†æ—¶æ˜¾å­˜å ç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>parameters</td>
<td>æ˜¯</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>gradients</td>
<td>æ˜¯ï¼ˆä¸»è¦æ˜¯è®­ç»ƒæ—¶ï¼‰</td>
<td>å¦</td>
</tr>
<tr>
<td>feature mapsï¼ˆä¸­é—´ç‰¹å¾å›¾ï¼Œæœªåœ¨ summary ä¸­åˆ—å‡ºï¼Œä½†ç”± layers ç»“æ„å’Œè¾“å…¥å¤§å°å†³å®šï¼‰</td>
<td>æ˜¯ï¼Œä¸»è¦å ç”¨</td>
<td>æ˜¯ï¼Œä¸»è¦å ç”¨</td>
</tr>
<tr>
<td>GFLOPs</td>
<td>é—´æ¥ç›¸å…³ï¼ˆé«˜ GFLOPs æ¨¡å‹é€šå¸¸ç‰¹å¾å›¾ä¹Ÿå¤§ï¼‰</td>
<td>é—´æ¥ç›¸å…³</td>
</tr>
</tbody>
</table>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shakewely.github.io/2025/04/24/2025%E5%B9%B44%E6%9C%8824%E6%97%A5-%E8%AE%AD%E7%BB%83%E4%BC%98%E5%8C%96/" data-id="cmanj8o26000mlcv4fgg5hrf3" class="article-share-link">åˆ†äº«</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dl/" rel="tag">dl</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-2025å¹´4æœˆ19æ—¥-dockerè®°å½•" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2025/04/19/2025%E5%B9%B44%E6%9C%8819%E6%97%A5-docker%E8%AE%B0%E5%BD%95/" class="article-date">
  <time class="post-time" datetime="2025-04-19T01:41:50.000Z" itemprop="datePublished">
    <span class="post-month">4æœˆ</span><br/>
    <span class="post-day">19</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2025/04/19/2025%E5%B9%B44%E6%9C%8819%E6%97%A5-docker%E8%AE%B0%E5%BD%95/">2025å¹´4æœˆ19æ—¥ dockerè®°å½•</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="docker"><a class="markdownIt-Anchor" href="#docker"></a> Docker</h1>
<h2 id="1-ä»‹ç»"><a class="markdownIt-Anchor" href="#1-ä»‹ç»"></a> 1 ä»‹ç»</h2>
<h3 id="11-dockerfile"><a class="markdownIt-Anchor" href="#11-dockerfile"></a> 1.1 dockerfile</h3>
<p>åŒ…å«äº†æ„å»º Docker é•œåƒçš„æ‰€æœ‰æŒ‡ä»¤</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker build -t opencv-detection5 .</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="12-compose"><a class="markdownIt-Anchor" href="#12-compose"></a> 1.2 compose</h3>
<p>ä» YML æ–‡ä»¶é…ç½®ä¸­åˆ›å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up -d # 	åå°æ‰§è¡Œ</span><br></pre></td></tr></table></figure>
<h3 id="13-å‚æ•°"><a class="markdownIt-Anchor" href="#13-å‚æ•°"></a> 1.3 å‚æ•°</h3>
<ul>
<li>
<p>ä½¿ç”¨gpu</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --gpus all xx</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>ç‰ˆæœ¬</p>
</li>
<li>
<p>å®¹å™¨é€€å‡ºåè‡ªåŠ¨åˆ é™¤ï¼Œä¸ä¿ç•™ä»»ä½•æ•°æ®æˆ–æ–‡ä»¶ç³»ç»Ÿã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run  --rm xx</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="2-éƒ¨ç½²"><a class="markdownIt-Anchor" href="#2-éƒ¨ç½²"></a> 2 éƒ¨ç½²</h2>
<h3 id="21-éƒ¨ç½²æŠ¥é”™"><a class="markdownIt-Anchor" href="#21-éƒ¨ç½²æŠ¥é”™"></a> 2.1 éƒ¨ç½²æŠ¥é”™</h3>
<h4 id="1-å°è¯•ä½¿ç”¨pytorch-ä½†æ˜¯ä¸æ”¯æŒpython312"><a class="markdownIt-Anchor" href="#1-å°è¯•ä½¿ç”¨pytorch-ä½†æ˜¯ä¸æ”¯æŒpython312"></a> 1 å°è¯•ä½¿ç”¨pytorch ä½†æ˜¯ä¸æ”¯æŒpython312</h4>
<h4 id="2-å°è¯•ä½¿ç”¨åŸå§‹pythoncuda-ä½†æ˜¯cudaå®‰è£…è¶…æ—¶"><a class="markdownIt-Anchor" href="#2-å°è¯•ä½¿ç”¨åŸå§‹pythoncuda-ä½†æ˜¯cudaå®‰è£…è¶…æ—¶"></a> 2 å°è¯•ä½¿ç”¨åŸå§‹python+cuda ä½†æ˜¯cudaå®‰è£…è¶…æ—¶</h4>
<h4 id="3-å°è¯•ä½¿ç”¨pytorch-è‡ªå·±å†å®‰è£…python312-ä½†æ˜¯é‡åˆ°å¥½å¤šé—®é¢˜"><a class="markdownIt-Anchor" href="#3-å°è¯•ä½¿ç”¨pytorch-è‡ªå·±å†å®‰è£…python312-ä½†æ˜¯é‡åˆ°å¥½å¤šé—®é¢˜"></a> 3 å°è¯•ä½¿ç”¨pytorch è‡ªå·±å†å®‰è£…python312 ä½†æ˜¯é‡åˆ°å¥½å¤šé—®é¢˜ã€‚</h4>
<p>â€‹	å¤šäº†ä¸ªæ—¶åŒºé€‰æ‹©ï¼Œè¿è¡Œçš„é€‰æ‹©pythonç‰ˆæœ¬ï¼Œpython 3.12æ²¡æœ‰æ­£ç¡®å®‰è£…pipï¼Œåœ¨Ubuntu 22.04ä¸Šå®‰è£…Python 3.12æœ‰é—®é¢˜ç­‰ç­‰</p>
<h4 id="4-ä¿®æ”¹é¡¹ç›®ä»£ç -ä½¿ä¹‹æ”¯æŒpython311"><a class="markdownIt-Anchor" href="#4-ä¿®æ”¹é¡¹ç›®ä»£ç -ä½¿ä¹‹æ”¯æŒpython311"></a> 4 ä¿®æ”¹é¡¹ç›®ä»£ç  ä½¿ä¹‹æ”¯æŒpython311</h4>
<p>â€‹	æ”¹å†™override</p>
<h4 id="5-é¡¹ç›®ä»£ç å‡ºç°é—®é¢˜-linuxå¤§å°å†™æ•æ„Ÿ"><a class="markdownIt-Anchor" href="#5-é¡¹ç›®ä»£ç å‡ºç°é—®é¢˜-linuxå¤§å°å†™æ•æ„Ÿ"></a> 5 é¡¹ç›®ä»£ç å‡ºç°é—®é¢˜ linuxå¤§å°å†™æ•æ„Ÿ</h4>
<h4 id="6-æ¸…ç©ºç»™ç¼“å­˜-é¿å…å ç”¨ç©ºé—´"><a class="markdownIt-Anchor" href="#6-æ¸…ç©ºç»™ç¼“å­˜-é¿å…å ç”¨ç©ºé—´"></a> 6 æ¸…ç©ºç»™ç¼“å­˜ é¿å…å ç”¨ç©ºé—´</h4>
<p>â€‹	åˆ é™¤æœªä½¿ç”¨çš„å®¹å™¨ã€é•œåƒã€å·</p>
<p>â€‹	 æŸ¥çœ‹ Docker ç©ºé—´ä½¿ç”¨æƒ…å†µ</p>
<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ Docker å„éƒ¨åˆ†å ç”¨çš„ç©ºé—´ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker system df</span><br></pre></td></tr></table></figure>
<p>æ¸…ç† Docker é•œåƒç¼“å­˜</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker builder prune</span><br></pre></td></tr></table></figure>
<h3 id="22-å‘å¸ƒ-hub"><a class="markdownIt-Anchor" href="#22-å‘å¸ƒ-hub"></a> 2.2  å‘å¸ƒ hub</h3>
<h4 id="push"><a class="markdownIt-Anchor" href="#push"></a> push</h4>
<p>docker login</p>
<p>docker tag opencv-detection8.1:latest weakliy/opencv-detection-gaotie:latest<br>
docker push weakliy/opencv-detection-gaotie:latest</p>
<h4 id="pull"><a class="markdownIt-Anchor" href="#pull"></a> pull</h4>
<blockquote>
<p>å…¶ä»–æœºå™¨ä¸Š</p>
</blockquote>
<p>docker pull weakliy/opencv-detection-gaotie2:latest<br>
docker-compose up -d</p>
<h3 id="23-æ‰“åŒ…åˆ°æœ¬åœ°"><a class="markdownIt-Anchor" href="#23-æ‰“åŒ…åˆ°æœ¬åœ°"></a> 2.3 æ‰“åŒ…åˆ°æœ¬åœ°</h3>
<p>docker save -o detection.tar opencv-detection7.1:latest</p>
<p>docker load -i ./detection-gaotie.tar</p>
<p>docker-compose up</p>
<h2 id="3-ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#3-ä¼˜åŒ–"></a> 3 ä¼˜åŒ–</h2>
<h3 id="31-imageå±‚ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#31-imageå±‚ä¼˜åŒ–"></a> 3.1 imageå±‚ä¼˜åŒ–</h3>
<h4 id="1-å±‚ä¼˜åŒ–å‡å°‘ä¸å¿…è¦çš„å±‚å‘½ä»¤å’Œå¹¶"><a class="markdownIt-Anchor" href="#1-å±‚ä¼˜åŒ–å‡å°‘ä¸å¿…è¦çš„å±‚å‘½ä»¤å’Œå¹¶"></a> 1 å±‚ä¼˜åŒ–å‡å°‘ä¸å¿…è¦çš„å±‚+å‘½ä»¤å’Œå¹¶</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># ä¸æ¨èï¼šæ¯ä¸ªå‘½ä»¤éƒ½ä¼šåˆ›å»ºæ–°å±‚</span><br><span class="line">RUN apt-get update</span><br><span class="line">RUN apt-get install -y python3</span><br><span class="line">RUN pip install numpy</span><br><span class="line">RUN pip install opencv-python</span><br><span class="line"></span><br><span class="line"># æ¨èï¼šåˆå¹¶RUNå‘½ä»¤</span><br><span class="line">RUN apt-get update &amp;&amp; \</span><br><span class="line">    apt-get install -y python3 &amp;&amp; \</span><br><span class="line">    pip install numpy opencv-python &amp;&amp; \</span><br><span class="line">    apt-get clean &amp;&amp; \</span><br><span class="line">    rm -rf /var/lib/apt/lists/*</span><br></pre></td></tr></table></figure>
<h4 id="2-dockerignoreæ–‡ä»¶"><a class="markdownIt-Anchor" href="#2-dockerignoreæ–‡ä»¶"></a> 2 .dockerignoreæ–‡ä»¶</h4>
<h4 id="3-åŠæ—¶æ¸…ç†"><a class="markdownIt-Anchor" href="#3-åŠæ—¶æ¸…ç†"></a> 3 åŠæ—¶æ¸…ç†</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id><a class="markdownIt-Anchor" href="#"></a> </h4>
<h4 id="4-ä¼˜åŒ–copyå‘½ä»¤-å…ˆå¤åˆ¶ä¾èµ–æ–‡ä»¶å®‰è£…ä¾èµ–å†å¤åˆ¶ä»£ç "><a class="markdownIt-Anchor" href="#4-ä¼˜åŒ–copyå‘½ä»¤-å…ˆå¤åˆ¶ä¾èµ–æ–‡ä»¶å®‰è£…ä¾èµ–å†å¤åˆ¶ä»£ç "></a> 4 ä¼˜åŒ–COPYå‘½ä»¤+ å…ˆå¤åˆ¶ä¾èµ–æ–‡ä»¶ï¼Œå®‰è£…ä¾èµ–ï¼Œå†å¤åˆ¶ä»£ç </h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># æ¨èï¼šå…ˆå¤åˆ¶ä¾èµ–æ–‡ä»¶ï¼Œå®‰è£…ä¾èµ–ï¼Œå†å¤åˆ¶ä»£ç </span><br><span class="line">COPY requirements.txt .</span><br><span class="line">RUN pip install -r requirements.txt</span><br><span class="line">COPY . .</span><br></pre></td></tr></table></figure>
<h4 id="5-ä¸¤é˜¶æ®µæ„å»º"><a class="markdownIt-Anchor" href="#5-ä¸¤é˜¶æ®µæ„å»º"></a> 5 ä¸¤é˜¶æ®µæ„å»º</h4>
<ol>
<li>å…ˆæ„å»ºç¯å¢ƒ+å·¥å…·</li>
<li>åªcopyç¯å¢ƒ</li>
</ol>
<h3 id="32-æ ‡ç­¾ç®¡ç†"><a class="markdownIt-Anchor" href="#32-æ ‡ç­¾ç®¡ç†"></a> 3.2 æ ‡ç­¾ç®¡ç†</h3>
<p># æ–¹æ³•1ï¼šä½¿ç”¨â€“build-argå‚æ•°</p>
<p>docker build --build-arg VERSION=1.0.0 -t opencv-detection .</p>
<p>docker build --build-arg VERSION=1.1.0 -t opencv-detection .</p>
<h3 id="dockeréƒ½ä¼‘çœ äº†-pipè¿˜åœ¨å®‰è£…å‘¢-æ²¡å†…å­˜äº†"><a class="markdownIt-Anchor" href="#dockeréƒ½ä¼‘çœ äº†-pipè¿˜åœ¨å®‰è£…å‘¢-æ²¡å†…å­˜äº†"></a> <strong>dockeréƒ½ä¼‘çœ äº† pipè¿˜åœ¨å®‰è£…å‘¢ã€‚ã€‚ã€‚ã€‚â€”â€”æ²¡å†…å­˜äº†</strong></h3>
<h2 id="4-æŠ¥é”™"><a class="markdownIt-Anchor" href="#4-æŠ¥é”™"></a> 4 æŠ¥é”™</h2>
<p>docker export å’Œload</p>
<p>open /var/lib/docker/tmp/docker-import-929897693/blobs/json: no such file or directory</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shakewely.github.io/2025/04/19/2025%E5%B9%B44%E6%9C%8819%E6%97%A5-docker%E8%AE%B0%E5%BD%95/" data-id="cmanj8o25000klcv45461flou" class="article-share-link">åˆ†äº«</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%9D%82/" rel="tag">æ‚</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-2025å¹´4æœˆ4æ—¥-triton" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2025/04/02/2025%E5%B9%B44%E6%9C%884%E6%97%A5-triton/" class="article-date">
  <time class="post-time" datetime="2025-04-02T13:45:53.000Z" itemprop="datePublished">
    <span class="post-month">4æœˆ</span><br/>
    <span class="post-day">02</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2025/04/02/2025%E5%B9%B44%E6%9C%884%E6%97%A5-triton/">2025å¹´4æœˆ4æ—¥ triton</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/684473453">https://zhuanlan.zhihu.com/p/684473453</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/703256080">https://zhuanlan.zhihu.com/p/703256080</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shakewely.github.io/2025/04/02/2025%E5%B9%B44%E6%9C%884%E6%97%A5-triton/" data-id="cmanj8o26000nlcv4hdsi2bjg" class="article-share-link">åˆ†äº«</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dl%E3%80%81infer/" rel="tag">dlã€infer</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-ç®—æ³•è®¾è®¡" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2025/03/31/%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1/" class="article-date">
  <time class="post-time" datetime="2025-03-31T13:50:35.913Z" itemprop="datePublished">
    <span class="post-month">3æœˆ</span><br/>
    <span class="post-day">31</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="åŠ¨æ€è§„åˆ’"><a class="markdownIt-Anchor" href="#åŠ¨æ€è§„åˆ’"></a> åŠ¨æ€è§„åˆ’</h2>
<ul>
<li>æš´åŠ›ç©·ä¸¾
<ul>
<li>è®°å½•é¿å…é‡å¤</li>
<li>
<img src="/2025/03/31/%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1/image-20250331215153891.png" alt="image-20250331215153891" style="zoom:33%;">
</li>
</ul>
</li>
<li>æ–¹å‘è¿›è¡Œ
<ul>
<li>
<img src="/2025/03/31/%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1/image-20250331215203800.png" alt="image-20250331215203800" style="zoom:33%;">
</li>
</ul>
</li>
</ul>
<h2 id="åˆ†å­æ³•"><a class="markdownIt-Anchor" href="#åˆ†å­æ³•"></a> åˆ†å­æ³•</h2>
<img src="/2025/03/31/%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1/image-20250331215909614.png" alt="image-20250331215909614" style="zoom:50%;">
<ul>
<li>åˆ† äºŒåˆ†</li>
<li>æ²» é€’å½’</li>
<li>å¤„ç† å­é—®é¢˜åˆå¹¶</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shakewely.github.io/2025/03/31/%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1/" data-id="cmc9s779y00022ov4bcfddpu2" class="article-share-link">åˆ†äº«</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-2025å¹´4æœˆ16æ—¥-TensorRT2exportæ±‡æ€»" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2025/03/16/2025%E5%B9%B44%E6%9C%8816%E6%97%A5-TensorRT2export%E6%B1%87%E6%80%BB/" class="article-date">
  <time class="post-time" datetime="2025-03-16T09:30:04.000Z" itemprop="datePublished">
    <span class="post-month">3æœˆ</span><br/>
    <span class="post-day">16</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2025/03/16/2025%E5%B9%B44%E6%9C%8816%E6%97%A5-TensorRT2export%E6%B1%87%E6%80%BB/">2023å¹´11æœˆ16æ—¥ TensorRTæ¨ç†æ±‡æ€»</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>å»</p>
<h3 id><a class="markdownIt-Anchor" href="#"></a> </h3>
<h1 id="æµç¨‹"><a class="markdownIt-Anchor" href="#æµç¨‹"></a> æµç¨‹</h1>
<p><strong>â€œONNX â†’ TensorRT Engine â†’ åŠ è½½å¼•æ“æ–‡ä»¶å¹¶ååºåˆ—åŒ–ä¸ºå¯æ‰§è¡Œæ¨¡å‹ â†’ åˆ†é…è¾“å…¥è¾“å‡º â†’ æ¨ç†æ‰§è¡Œ â†’ æ‹·å‡ºç»“æœ â†’ åå¤„ç†â€</strong></p>
<blockquote>
<ol>
<li>ï¼Ÿååºåˆ—åŒ–ä¸ºå¯æ‰§è¡Œæ¨¡å‹</li>
<li>ï¼Ÿï¼Ÿ åˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆIExecutionContextï¼‰</li>
</ol>
</blockquote>
<h2 id="1-exe-å¯¼å‡º"><a class="markdownIt-Anchor" href="#1-exe-å¯¼å‡º"></a> 1 Exe å¯¼å‡º</h2>
<p><strong>åŠ ä¸Š <code>--verbose</code></strong> è¿è¡Œ <code>trtexec</code></p>
<p>æ¨¡å‹æ±‡æ€»</p>
<table>
<thead>
<tr>
<th>æ ¼å¼</th>
<th>æ–‡ä»¶æ‰©å±•å</th>
<th>å†…å®¹</th>
<th>ç”¨é€”</th>
<th>ç”Ÿæˆæ–¹å¼</th>
<th>å¯ç›´æ¥æ¨ç†ï¼Ÿ</th>
</tr>
</thead>
<tbody>
<tr>
<td>WTS</td>
<td><code>.wts</code></td>
<td>ç½‘ç»œç»“æ„å„å±‚çš„æƒé‡ï¼ˆæ–‡æœ¬æˆ–äºŒè¿›åˆ¶ï¼‰</td>
<td>é€šå¸¸ç”¨äºä» PyTorch åˆ° TensorRT çš„è‡ªå®šä¹‰è½¬æ¢æµç¨‹ï¼Œå¦‚é€šè¿‡ C++ çš„ API åŠ è½½</td>
<td>é€šå¸¸é€šè¿‡ PyTorch è„šæœ¬å¯¼å‡º</td>
<td>âŒ</td>
</tr>
<tr>
<td>TRT Engine</td>
<td><code>.trt</code> / <code>.engine</code></td>
<td>å·²ä¼˜åŒ–çš„æ¨ç†å¼•æ“ï¼ˆå«ç½‘ç»œç»“æ„ + æƒé‡ + TensorRT ä¼˜åŒ–ï¼‰</td>
<td>TensorRT çš„æœ€ç»ˆéƒ¨ç½²æ ¼å¼</td>
<td>ä½¿ç”¨ <code>trtexec</code> æˆ– TensorRT API ç¼–è¯‘ <code>.onnx</code> æˆ– <code>.wts</code> æ¨¡å‹ç”Ÿæˆ</td>
<td>âœ…</td>
</tr>
</tbody>
</table>
<h1 id="é—®é¢˜æ±‡æ€»"><a class="markdownIt-Anchor" href="#é—®é¢˜æ±‡æ€»"></a> é—®é¢˜æ±‡æ€»</h1>
<h3 id="ï¸-è‡ªå®šä¹‰å±‚é—®é¢˜"><a class="markdownIt-Anchor" href="#ï¸-è‡ªå®šä¹‰å±‚é—®é¢˜"></a> âš ï¸ è‡ªå®šä¹‰å±‚é—®é¢˜</h3>
<h4 id="1-eyelikeåŠ¨æ€å½¢çŠ¶"><a class="markdownIt-Anchor" href="#1-eyelikeåŠ¨æ€å½¢çŠ¶"></a> 1 EyeLikeåŠ¨æ€å½¢çŠ¶</h4>
<p><code>EyeLike</code> æ˜¯ ONNX ä¸­ä¸€ä¸ªç”¨äºç”Ÿæˆå•ä½çŸ©é˜µçš„æ“ä½œã€‚è¯¥é”™è¯¯è¯´æ˜ï¼š</p>
<ul>
<li>ä½ æ¨¡å‹ä¸­çš„æŸä¸ªèŠ‚ç‚¹ä½¿ç”¨äº† <code>EyeLike</code> æ“ä½œï¼›</li>
<li>ä½†è¿™ä¸ªæ“ä½œçš„è¾“å…¥å¼ é‡æ˜¯åŠ¨æ€ç»´åº¦ï¼ˆå³ç»´åº¦åœ¨æ¨ç†æ—¶ä¸å›ºå®šï¼‰ï¼›</li>
<li>è€Œ TensorRT <strong>ä¸æ”¯æŒå¯¹åŠ¨æ€ç»´åº¦ä½¿ç”¨ EyeLike</strong>ã€‚</li>
</ul>
<p><strong>EyeLike æ“ä½œ</strong>ï¼šè¿™æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰å±‚æˆ–ç‰¹æ®Šå±‚ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼ŒTensorRT ä¸æ”¯æŒåŠ¨æ€å½¢çŠ¶ã€‚</p>
<p><strong>åŠ¨æ€å½¢çŠ¶é—®é¢˜</strong>ï¼šTensorRT ä¸æ”¯æŒåŠ¨æ€å½¢çŠ¶çš„è¾“å…¥ï¼ˆ<code>EyeLike</code> æ“ä½œçš„è¾“å…¥æ˜¯åŠ¨æ€å½¢çŠ¶ï¼‰ï¼Œè¿™å¯¼è‡´äº†é”™è¯¯ã€‚</p>
<blockquote>
<p>ä½¿ç”¨batch å¤§å°ä¸éœ€è¦å˜åŒ–çš„minShapesæ—¶æ²¡ç”¨çš„ï¼</p>
</blockquote>
<h3 id="ï¸-åŠ¨æ€è¾“å…¥å°ºå¯¸é—®é¢˜"><a class="markdownIt-Anchor" href="#ï¸-åŠ¨æ€è¾“å…¥å°ºå¯¸é—®é¢˜"></a> âš ï¸ åŠ¨æ€è¾“å…¥å°ºå¯¸é—®é¢˜ï¼š</h3>
<h4 id="1-onnxå‚æ•°dynamictrue"><a class="markdownIt-Anchor" href="#1-onnxå‚æ•°dynamictrue"></a> 1 ONNXå‚æ•°dynamic=True</h4>
<p>ä½ å¯¼å‡ºçš„ ONNX æ¨¡å‹ä½¿ç”¨äº† <strong>åŠ¨æ€è¾“å…¥å°ºå¯¸</strong>ï¼ˆ<code>dynamic=True</code>ï¼‰ï¼Œå¯¼è‡´ <code>trtexec</code> åœ¨æ„å»º TensorRT å¼•æ“æ—¶éœ€è¦ä½ <strong>æ˜ç¡®åœ°æŒ‡å®šè¾“å…¥å°ºå¯¸ profile</strong>ï¼Œå¦åˆ™å°±ä¼šæŠ¥é”™ã€‚</p>
<p>è§£å†³ï¼š</p>
<blockquote>
<p>trtexec <br>
â€“onnx=best_dynamic.onnx <br>
â€“saveEngine=best.engine <br>
â€“fp16 <br>
â€“minShapes=images:1x3x640x640 <br>
â€“optShapes=images:8x3x640x640 <br>
â€“maxShapes=images:16x3x640x640</p>
</blockquote>
<h3 id="ï¸-é‡åŒ–é—®é¢˜"><a class="markdownIt-Anchor" href="#ï¸-é‡åŒ–é—®é¢˜"></a> âš ï¸  é‡åŒ–é—®é¢˜</h3>
<h4 id="1-int64æ•°æ®"><a class="markdownIt-Anchor" href="#1-int64æ•°æ®"></a> 1 INT64æ•°æ®</h4>
<p>ä½ çš„ ONNX æ¨¡å‹ä¸­åŒ…å«äº†ä¸€äº› <strong><code>INT64</code> ç±»å‹çš„æƒé‡æˆ–å¸¸é‡</strong>ï¼Œè€Œ TensorRT <strong>åŸç”Ÿåªæ”¯æŒ <code>INT32</code> åŠä»¥ä¸‹çš„æ•´æ•°ç±»å‹</strong>ï¼Œå› æ­¤å®ƒå°è¯•<strong>è‡ªåŠ¨å°† <code>INT64</code> è½¬æ¢ä¸º <code>INT32</code></strong>ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">onnx2trt_utils.cpp:374: Your ONNX model has been generated with INT64 weights, while TensorRT does not natively support INT64. Attempting to cast down to INT32.</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="ï¸é”™è¯¯"><a class="markdownIt-Anchor" href="#ï¸é”™è¯¯"></a> âš ï¸é”™è¯¯</h3>
<p>[05/13/2025-15:25:59] [TRT] [E] 1: [defaultAllocator.cpp::nvinfer1::internal::DefaultAllocator::deallocate::61] Error Code 1: Cuda Runtime (invalid argument)</p>
<h1 id="success"><a class="markdownIt-Anchor" href="#success"></a> successï¼</h1>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">trtexec --onnx=F:\Pydata\DL_NEW\fuxian\ultralytics\runs\detect\wire-Ghost-C3ghost-GSCSP-CBAM3\weights\best_simplify_dynamic=False.onnx --saveEngine=best_int8.trt --int8 --verbose  --minShapes=images:1x3x640x640 --optShapes=images:8x3x640x640 --maxShapes=images:16x3x640x640trtexec ^</span><br><span class="line">--onnx=F:\Pydata\DL_NEW\fuxian\ultralytics\runs\detect\wire-Ghost-C3ghost-GSCSP-CBAM3\weights\best_simplify_dynamic.onnx ^</span><br><span class="line">--saveEngine=best_int8.trt ^</span><br><span class="line">--int8 ^</span><br><span class="line">--verbose ^</span><br><span class="line">--minShapes=images:1x3x640x640 ^</span><br><span class="line">--optShapes=images:8x3x640x640 ^</span><br><span class="line">--maxShapes=images:16x3x640x640</span><br></pre></td></tr></table></figure>
<p><img src="/2025/03/16/2025%E5%B9%B44%E6%9C%8816%E6%97%A5-TensorRT2export%E6%B1%87%E6%80%BB/C:%5CUsers%5Cadmin%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20250513135551397.png" alt="image-20250513135551397"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shakewely.github.io/2025/03/16/2025%E5%B9%B44%E6%9C%8816%E6%97%A5-TensorRT2export%E6%B1%87%E6%80%BB/" data-id="cmanj8o27000plcv44xiw84f2" class="article-share-link">åˆ†äº«</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/TensorRT/" rel="tag">TensorRT</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-2025å¹´3æœˆ16æ—¥-DLå…«è‚¡æ–‡" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2025/03/14/2025%E5%B9%B43%E6%9C%8816%E6%97%A5-DL%E5%85%AB%E8%82%A1%E6%96%87/" class="article-date">
  <time class="post-time" datetime="2025-03-14T06:44:16.000Z" itemprop="datePublished">
    <span class="post-month">3æœˆ</span><br/>
    <span class="post-day">14</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2025/03/14/2025%E5%B9%B43%E6%9C%8816%E6%97%A5-DL%E5%85%AB%E8%82%A1%E6%96%87/">2025å¹´3æœˆ16æ—¥ DLå…«è‚¡æ–‡</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>è®°å½•ä¸€äº›å­¦äº†åˆå¿˜æˆ–æ˜¯æ²¡å­¦çš„DLå…«è‚¡æ–‡çŸ¥è¯†</p>
</blockquote>
<h1 id="dlå…«è‚¡æ–‡"><a class="markdownIt-Anchor" href="#dlå…«è‚¡æ–‡"></a> DLå…«è‚¡æ–‡</h1>
<h1 id="åŸç†"><a class="markdownIt-Anchor" href="#åŸç†"></a> åŸç†</h1>
<p>ä¸€ç§åŸºäºæ·±å±‚ç¥ç»ç½‘ç»œçš„æœºå™¨å­¦ä¹ æ–¹æ³•ï¼Œé€šè¿‡å¤šå±‚æ¬¡çš„éçº¿æ€§å˜æ¢è‡ªåŠ¨æå–æ•°æ®ç‰¹å¾ï¼Œå®ç°å¤æ‚æ¨¡å¼çš„è¯†åˆ«ä¸é¢„æµ‹ã€‚æ ¸å¿ƒæ˜¯æ¨¡ä»¿äººè„‘ç¥ç»å…ƒçš„è¿æ¥æ–¹å¼ï¼Œæ„å»ºâ€œè¾“å…¥-éšè—-è¾“å‡ºâ€å±‚çº§çš„è®¡ç®—æ¨¡å‹ï¼Œä»æ•°æ®ä¸­å­¦ä¹ ä»ç®€å•åˆ°æŠ½è±¡çš„ç‰¹å¾è¡¨ç¤º</p>
<h1 id="è®­ç»ƒ"><a class="markdownIt-Anchor" href="#è®­ç»ƒ"></a> è®­ç»ƒ</h1>
<blockquote>
<p>æ¨¡å‹è®­ç»ƒçš„æ ¸å¿ƒæ˜¯é€šè¿‡è°ƒæ•´å‚æ•°ï¼ˆå¦‚æƒé‡ <em>w</em> å’Œåç½® <em>b</em>ï¼‰ æœ€å°åŒ–æŸå¤±å‡½æ•° L</p>
</blockquote>
<h2 id="è¿‡æ‹Ÿåˆ"><a class="markdownIt-Anchor" href="#è¿‡æ‹Ÿåˆ"></a> è¿‡æ‹Ÿåˆ</h2>
<h3 id="1-ä»€ä¹ˆæ˜¯è¿‡æ‹Ÿåˆ"><a class="markdownIt-Anchor" href="#1-ä»€ä¹ˆæ˜¯è¿‡æ‹Ÿåˆ"></a> 1 ä»€ä¹ˆæ˜¯è¿‡æ‹Ÿåˆ</h3>
<p>æŒ‡æ¨¡å‹åœ¨è®­ç»ƒé›†ä¸Šè¡¨ç°ä¼˜å¼‚ï¼Œä½†åœ¨æµ‹è¯•é›†æˆ–æ–°æ•°æ®ä¸Šæ³›åŒ–èƒ½åŠ›æ˜¾è‘—ä¸‹é™çš„ç°è±¡ã€‚å…¶æ ¸å¿ƒçŸ›ç›¾æ˜¯æ¨¡å‹è¿‡åº¦<strong>å­¦ä¹ äº†è®­ç»ƒæ•°æ®ä¸­çš„å™ªå£°å’Œéå…¨å±€æ€§ç‰¹å¾</strong>ï¼Œè€Œéæ•°æ®èƒŒåçš„çœŸå®è§„å¾‹ ã€‚</p>
<h3 id="2-åŸå› "><a class="markdownIt-Anchor" href="#2-åŸå› "></a> 2 åŸå› </h3>
<ol>
<li>æ•°æ®å±‚é¢ï¼š<strong>æ•°æ®é‡ä¸è¶³</strong>ï¼Œå¯¼è‡´æ²¡æœ‰å­¦åˆ°å…¨å±€ç‰¹å¾ã€‚<strong>å™ªå£°å¹²æ‰°</strong>ï¼Œæ•°æ®ä¸­å­˜åœ¨å¼‚å¸¸å€¼æˆ–é”™è¯¯æ ‡ç­¾ï¼Œæ¨¡å‹è¯¯å°†å…¶ä½œä¸ºå­¦ä¹ ç›®æ ‡</li>
<li>æ¨¡å‹å±‚é¢ï¼šæ¨¡å‹è¿‡äºå¤æ‚ï¼Œ<strong>è¿‡åº¦é€‚åº”è®­ç»ƒæ•°æ®ç»†èŠ‚</strong></li>
<li>è®­ç»ƒå±‚é¢ï¼šè¿­ä»£æ¬¡æ•°è¿‡å¤šï¼ˆæœªæ—©åœï¼‰æˆ–å­¦ä¹ ç‡æœªä¼˜åŒ–/</li>
</ol>
<h3 id="3-å¦‚ä½•è§£å†³"><a class="markdownIt-Anchor" href="#3-å¦‚ä½•è§£å†³"></a> 3 å¦‚ä½•è§£å†³</h3>
<ol>
<li>
<p>ï¼šæ•°æ®å¢å¼ºä¸æ•°æ®æ¸…æ´—</p>
</li>
<li>
<p>ï¼šé€‰ç”¨ç®€å•æ¨¡å‹ã€‚æ·»åŠ æ­£åˆ™åŒ–ç­–ç•¥ï¼Œ<strong>Dropout</strong>ã€<strong>æ‰¹é‡å½’ä¸€åŒ–</strong>BatchNormã€<strong>æ± åŒ–</strong></p>
</li>
<li>
<p>ï¼šæ—©åœæ³•ã€åŠ¨æ€å­¦ä¹ ç‡ã€</p>
</li>
<li>
<p><strong>é›†æˆæ–¹æ³•</strong>ï¼šç»“åˆå¤šä¸ªæ¨¡å‹çš„é¢„æµ‹ç»“æœï¼ˆå¦‚éšæœºæ£®æ—æŠ•ç¥¨ï¼‰ï¼Œå‡å°‘å•ä¸ªæ¨¡å‹æ–¹å·®</p>
<p><strong>è¿ç§»å­¦ä¹ ç­‰</strong></p>
</li>
</ol>
<h3 id="4-æ¬ æ‹Ÿåˆå‘¢"><a class="markdownIt-Anchor" href="#4-æ¬ æ‹Ÿåˆå‘¢"></a> 4 æ¬ æ‹Ÿåˆå‘¢ï¼Ÿ</h3>
<h2 id="è®­ç»ƒæ–¹æ³•"><a class="markdownIt-Anchor" href="#è®­ç»ƒæ–¹æ³•"></a> è®­ç»ƒæ–¹æ³•</h2>
<p>è®­ç»ƒæ–¹æ³•</p>
<h3 id="1-ç›‘ç£å­¦ä¹ "><a class="markdownIt-Anchor" href="#1-ç›‘ç£å­¦ä¹ "></a> 1 ç›‘ç£å­¦ä¹ </h3>
<h3 id="3-è‡ªç›‘ç£å­¦ä¹ "><a class="markdownIt-Anchor" href="#3-è‡ªç›‘ç£å­¦ä¹ "></a> 3 è‡ªç›‘ç£å­¦ä¹ </h3>
<blockquote>
<p>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://developer.aliyun.com/article/1257862?spm=a2c6h.24874632.expert-profile.15.45a63181v37e02%5C">https://developer.aliyun.com/article/1257862?spm=a2c6h.24874632.expert-profile.15.45a63181v37e02\</a></p>
</blockquote>
<h4 id="å®šä¹‰"><a class="markdownIt-Anchor" href="#å®šä¹‰"></a> å®šä¹‰</h4>
<p>â€‹	å®ƒåˆ©ç”¨æœªæ ‡è®°çš„æ•°æ®æ¥è®­ç»ƒæ¨¡å‹ï¼Œè€Œæ— éœ€äººå·¥æ ‡æ³¨çš„æ ‡ç­¾</p>
<p>â€‹	åˆ©ç”¨æ•°æ®ä¸­çš„è‡ªåŠ¨ç”Ÿæˆçš„æ ‡ç­¾æˆ–ä»»åŠ¡æ¥è®­ç»ƒæ¨¡å‹</p>
<h4 id="è‡ªç›‘ç£å­¦ä¹ æ–¹æ³•"><a class="markdownIt-Anchor" href="#è‡ªç›‘ç£å­¦ä¹ æ–¹æ³•"></a> è‡ªç›‘ç£å­¦ä¹ æ–¹æ³•</h4>
<h3 id="4-zero-shot-one-shot-and-few-shot-learningæ¦‚å¿µ"><a class="markdownIt-Anchor" href="#4-zero-shot-one-shot-and-few-shot-learningæ¦‚å¿µ"></a> 4 Zero-Shot, One-Shot, and Few-Shot Learningæ¦‚å¿µ</h3>
<ol>
<li>Zero-Shotæ˜¯æŒ‡è®­ç»ƒä¸€ä¸ªæ¨¡å‹æ¥å¯¹å…¶ä»æœªè§è¿‡çš„å¯¹è±¡è¿›è¡Œåˆ†ç±»ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯åˆ©ç”¨å¦ä¸€ä¸ªæ¨¡å‹çš„ç°æœ‰çŸ¥è¯†ï¼Œä»¥è·å¾—æ–°ç±»åˆ«çš„æœ‰æ„ä¹‰çš„è¡¨ç¤ºã€‚</li>
<li>One-Shotæ˜¯ç¡®å®šå›¾åƒAæ˜¯å¦ç­‰åŒäºå›¾åƒBã€‚è¿™æ˜¯é€šè¿‡å°†æ¨¡å‹ä»å…ˆå‰ä»»åŠ¡çš„ç»éªŒä¸­è·å¾—çš„ä¿¡æ¯è¿›è¡Œæ¦‚æ‹¬æ¥å®ç°çš„ã€‚</li>
<li>Few-Shot Learningå®ƒæ˜¯å…ƒå­¦ä¹ çš„ä¸€ä¸ªå­é¢†åŸŸï¼Œæ—¨åœ¨å¼€å‘èƒ½å¤Ÿä»å°‘é‡æœ‰æ ‡ç­¾ç¤ºä¾‹ä¸­å­¦ä¹ çš„ç®—æ³•</li>
</ol>
<h2 id="è¿ç§»å­¦ä¹ å¾®è°ƒ-ï¸"><a class="markdownIt-Anchor" href="#è¿ç§»å­¦ä¹ å¾®è°ƒ-ï¸"></a> è¿ç§»å­¦ä¹ +å¾®è°ƒ â˜‘ï¸</h2>
<h3 id="1-è¿ç§»å­¦ä¹ "><a class="markdownIt-Anchor" href="#1-è¿ç§»å­¦ä¹ "></a> 1 è¿ç§»å­¦ä¹ </h3>
<p>åœ¨å¤§å‹æ•°æ®é›†ä¸Šè®­ç»ƒå¥½çš„æ¨¡å‹å¯ä»¥è¢«â€œè¿ç§»â€åˆ°æ–°çš„ä»»åŠ¡ä¸­ï¼Œä»è€Œé¿å…ä»é›¶å¼€å§‹è®­ç»ƒã€‚å¤§åœ°ç¼©çŸ­è®­ç»ƒæ—¶é—´ï¼Œå¹¶æ˜¾è‘—æé«˜æ€§èƒ½</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŠ è½½é¢„è®­ç»ƒçš„ResNetæ¨¡å‹</span></span><br><span class="line">resnet = models.resnet50(pretrained=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<h3 id="2-å¾®è°ƒ"><a class="markdownIt-Anchor" href="#2-å¾®è°ƒ"></a> 2 å¾®è°ƒ</h3>
<ul>
<li>é€šè¿‡å¯¹é¢„è®­ç»ƒæ¨¡å‹<strong>è¿›è¡Œéƒ¨åˆ†æˆ–å…¨éƒ¨å‚æ•°çš„å¾®è°ƒ</strong>ï¼Œæ¨¡å‹å¯ä»¥é€‚åº”æ–°ä»»åŠ¡ä¸­çš„ç‰¹å®šæ•°æ®ã€‚å¾®è°ƒçš„ç¨‹åº¦å–å†³äºæ–°ä»»åŠ¡çš„ç›¸ä¼¼æ€§å’Œç›®æ ‡ã€‚</li>
<li>é€šå¸¸ä¼šå†»ç»“æ¨¡å‹çš„éƒ¨åˆ†å±‚ï¼Œä»¥ä¿ç•™é€šç”¨çš„ç‰¹å¾æå–èƒ½åŠ›ï¼Œé’ˆå¯¹æ–°ä»»åŠ¡<strong>åªå¯¹é«˜å±‚</strong>è¿›è¡Œå¾®è°ƒã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å†»ç»“æ‰€æœ‰å±‚çš„å‚æ•°ï¼Œä»¥ä¾¿åªå¾®è°ƒæœ€åçš„å…¨è¿æ¥å±‚</span></span><br><span class="line"><span class="keyword">for</span> param <span class="keyword">in</span> resnet.parameters():</span><br><span class="line">    param.requires_grad = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£å†»éƒ¨åˆ†å±‚ï¼Œå…è®¸æ›´å¤šå±‚è¿›è¡Œè®­ç»ƒ</span></span><br><span class="line"><span class="keyword">for</span> name, param <span class="keyword">in</span> resnet.named_parameters():</span><br><span class="line">    <span class="keyword">if</span> <span class="string">&quot;layer4&quot;</span> <span class="keyword">in</span> name:  <span class="comment"># å‡è®¾åªè§£å†»ResNetçš„æœ€åä¸€å±‚</span></span><br><span class="line">        param.requires_grad = <span class="literal">True</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        param.requires_grad = <span class="literal">False</span></span><br></pre></td></tr></table></figure>
<h2 id="æ¢¯åº¦"><a class="markdownIt-Anchor" href="#æ¢¯åº¦"></a> æ¢¯åº¦</h2>
<p><img src="/2025/03/14/2025%E5%B9%B43%E6%9C%8816%E6%97%A5-DL%E5%85%AB%E8%82%A1%E6%96%87/image-20250320184024743.png" alt></p>
<h3 id="2-æ¢¯åº¦ç¨€ç–åŒ–é—®é¢˜"><a class="markdownIt-Anchor" href="#2-æ¢¯åº¦ç¨€ç–åŒ–é—®é¢˜"></a> 2 æ¢¯åº¦ç¨€ç–åŒ–é—®é¢˜</h3>
<h4 id="å®šä¹‰-2"><a class="markdownIt-Anchor" href="#å®šä¹‰-2"></a> å®šä¹‰</h4>
<p>åœ¨æ·±åº¦å­¦ä¹ ä¸­ï¼Œæ¢¯åº¦æ˜¯æŒ‡æŸå¤±å‡½æ•°å¯¹æ¨¡å‹å‚æ•°çš„åå¯¼æ•°ã€‚é€šè¿‡åå‘ä¼ æ’­ç®—æ³•ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—å¾—åˆ°æ¯ä¸ªå‚æ•°çš„æ¢¯åº¦ï¼Œå¹¶ä½¿ç”¨ä¼˜åŒ–ç®—æ³•ï¼ˆå¦‚éšæœºæ¢¯åº¦ä¸‹é™ï¼‰æ¥æ›´æ–°å‚æ•°ã€‚ç„¶è€Œï¼Œåœ¨æ·±å±‚ç¥ç»ç½‘ç»œä¸­ï¼Œæ¢¯åº¦é€šå¸¸å…·æœ‰å¾ˆé«˜çš„ç»´åº¦ï¼Œ<strong>å…¶ä¸­å¤§éƒ¨åˆ†å…ƒç´ éƒ½æ˜¯æ¥è¿‘äºé›¶æˆ–è€…éå¸¸å°çš„å€¼</strong>ã€‚è¿™äº›æ¥è¿‘äºé›¶çš„æ¢¯åº¦å…ƒç´ å¯¹å‚æ•°æ›´æ–°å‡ ä¹æ²¡æœ‰è´¡çŒ®ï¼Œå¹¶ä¸”ä¼šå ç”¨å¤§é‡å†…å­˜ç©ºé—´å’Œè®¡ç®—èµ„æºã€‚</p>
<ul>
<li>
<p>æ¨¡å‹æ›´æ–°åå·®ï¼šä»…éƒ¨åˆ†å‚æ•°è¢«æœ‰æ•ˆæ›´æ–°ï¼Œå¯èƒ½åç¦»å…¨å±€æœ€ä¼˜è§£</p>
</li>
<li>
<p>è®­ç»ƒä¸ç¨³å®šï¼šæ¢¯åº¦åˆ†å¸ƒä¸å‡åŠ å‰§æ”¶æ•›éœ‡è¡</p>
</li>
</ul>
<h4 id="æˆå› "><a class="markdownIt-Anchor" href="#æˆå› "></a> <strong>æˆå› </strong></h4>
<ol>
<li><strong>æ¨¡å‹ç»“æ„ä¸æ¿€æ´»å‡½æ•°</strong>
<ul>
<li>å±€éƒ¨æ¿€æ´»ç¨€ç–æ€§ï¼šReLUç­‰æ¿€æ´»å‡½æ•°åœ¨è¾“å…¥ä¸ºè´Ÿæ—¶è¾“å‡ºé›¶æ¢¯åº¦ï¼Œå¯¼è‡´å¤§é‡ç¥ç»å…ƒå¤„äºâ€œæ­»äº¡â€çŠ¶æ€</li>
<li>æ·±åº¦ç½‘ç»œå±‚é—´ä¾èµ–ï¼šæ·±å±‚ç½‘ç»œä¸­çŸ©é˜µè¿ä¹˜å¯¼è‡´æ¢¯åº¦è¡°å‡æˆ–çˆ†ç‚¸ï¼ŒåŠ å‰§ç¨€ç–æ€§</li>
</ul>
</li>
<li><strong>ä¼˜åŒ–ç­–ç•¥ä¸æ­£åˆ™åŒ–</strong>
<ul>
<li>L1æ­£åˆ™åŒ–ï¼šé€šè¿‡æƒ©ç½šæƒé‡ç»å¯¹å€¼ï¼Œå¼ºåˆ¶ç¨€ç–å‚æ•°åˆ†å¸ƒï¼Œé—´æ¥å¯¼è‡´æ¢¯åº¦ç¨€ç–</li>
<li>æ¢¯åº¦è£å‰ªï¼šé™åˆ¶æ¢¯åº¦å¹…å€¼ï¼ŒæŠ‘åˆ¶å°æ¢¯åº¦æ›´æ–°</li>
</ul>
</li>
<li><strong>è®­ç»ƒæ•°æ®åˆ†å¸ƒ</strong>
<ul>
<li>æ•°æ®ä¸å‡è¡¡ï¼šé•¿å°¾æ•°æ®å¯¼è‡´éƒ¨åˆ†ç±»åˆ«æ¢¯åº¦è´¡çŒ®å¾®å¼±</li>
<li>ç‰¹å¾å†—ä½™ï¼šè¾“å…¥æ•°æ®ä¸­å­˜åœ¨å¤§é‡æ— å…³ç‰¹å¾ï¼Œç›¸å…³æ¢¯åº¦è¶‹è¿‘äºé›¶</li>
</ul>
</li>
</ol>
<h4 id="å¤„ç†æ–¹æ³•"><a class="markdownIt-Anchor" href="#å¤„ç†æ–¹æ³•"></a> <strong>å¤„ç†æ–¹æ³•</strong></h4>
<p><strong>ä¼˜åŒ–ç®—æ³•æ”¹è¿›</strong></p>
<ul>
<li><strong>åŠ¨é‡ä¿®æ­£ä¸è¯¯å·®è¡¥å¿</strong>ï¼šå¦‚DGCä¸­çš„Momentum Correctionï¼Œç¼“è§£å› ç¨€ç–åŒ–å¯¼è‡´çš„æ¢¯åº¦æ»åé—®é¢˜</li>
<li><strong>è‡ªé€‚åº”ä¼˜åŒ–å™¨</strong>ï¼šAdamç­‰ç®—æ³•åŠ¨æ€è°ƒæ•´å­¦ä¹ ç‡ï¼Œé¿å…å°æ¢¯åº¦å‚æ•°è¢«å®Œå…¨æŠ‘åˆ¶</li>
</ul>
<p><strong>æ•°æ®ä¸è®­ç»ƒç­–ç•¥è°ƒæ•´</strong></p>
<ul>
<li><strong>æ•°æ®å¢å¼ºä¸é‡é‡‡æ ·</strong>ï¼šå¹³è¡¡ç±»åˆ«åˆ†å¸ƒï¼Œæå‡å°¾éƒ¨æ•°æ®çš„æ¢¯åº¦è´¡çŒ®</li>
<li><strong>æ¸è¿›å¼ç¨€ç–è®­ç»ƒ</strong>ï¼šåˆæœŸä¿ç•™æ›´å¤šæ¢¯åº¦ï¼Œé€æ­¥å¢åŠ ç¨€ç–ç‡ä»¥é¿å…è¿‡æ—©ä¿¡æ¯ä¸¢å¤±</li>
</ul>
<h4 id="åº”ç”¨"><a class="markdownIt-Anchor" href="#åº”ç”¨"></a> åº”ç”¨</h4>
<ol>
<li>å‰ªæä¸æ¢¯åº¦é‡åŒ–</li>
<li></li>
</ol>
<h2 id="æ¿€æ´»å‡½æ•°"><a class="markdownIt-Anchor" href="#æ¿€æ´»å‡½æ•°"></a> æ¿€æ´»å‡½æ•°</h2>
<h3 id="1-å®šä¹‰"><a class="markdownIt-Anchor" href="#1-å®šä¹‰"></a> 1 å®šä¹‰</h3>
<p>å¼•å…¥<strong>éçº¿æ€§å› ç´ </strong>,å¤„ç†å¤æ‚çš„é—®é¢˜</p>
<h3 id="2-å¸¸è§æ¿€æ´»å‡½æ•°"><a class="markdownIt-Anchor" href="#2-å¸¸è§æ¿€æ´»å‡½æ•°"></a> 2 å¸¸è§æ¿€æ´»å‡½æ•°</h3>
<h4 id="1-sigmoid"><a class="markdownIt-Anchor" href="#1-sigmoid"></a> 1 Sigmoid</h4>
<img src="/2025/03/14/2025%E5%B9%B43%E6%9C%8816%E6%97%A5-DL%E5%85%AB%E8%82%A1%E6%96%87/image-20250320185054836.png" alt="image-20250320185054836" style="zoom:33%;"> 
<h4 id="2-tanh"><a class="markdownIt-Anchor" href="#2-tanh"></a> 2 Tanh</h4>
<img src="/2025/03/14/2025%E5%B9%B43%E6%9C%8816%E6%97%A5-DL%E5%85%AB%E8%82%A1%E6%96%87/image-20250320185034344.png" alt="image-20250320185034344" style="zoom: 33%;">  
<blockquote>
<p>å­˜åœ¨æ¢¯åº¦æ¶ˆå¤±çš„é—®é¢˜ï¼Œå› ä¸ºå®ƒä»¬çš„å¯¼æ•°ï¼ˆè¿ä¹˜ï¼‰åœ¨ä¸¤ç«¯ä¼šè¶‹è¿‘äºé›¶ï¼Œå¯¼è‡´æ·±å±‚ç½‘ç»œè®­ç»ƒå›°éš¾</p>
</blockquote>
<h4 id="3-relu"><a class="markdownIt-Anchor" href="#3-relu"></a> 3 relu</h4>
<img src="/2025/03/14/2025%E5%B9%B43%E6%9C%8816%E6%97%A5-DL%E5%85%AB%E8%82%A1%E6%96%87/image-20250320184950902.png" alt="image-20250320184950902" style="zoom: 67%;"> 
<h5 id="ä¼˜åŠ¿"><a class="markdownIt-Anchor" href="#ä¼˜åŠ¿"></a> ä¼˜åŠ¿</h5>
<ol>
<li><strong>ç¼“è§£æ¢¯åº¦æ¶ˆå¤±</strong>ï¼š
<ul>
<li>Sigmoid/Tanhçš„é¥±å’ŒåŒºï¼šå¯¼æ•°åœ¨è¾“å…¥ç»å¯¹å€¼è¾ƒå¤§æ—¶è¶‹è¿‘äº0ï¼ˆå¦‚Sigmoidå¯¼æ•°å€¼æœ€å¤§ä»…0.25ï¼‰ï¼Œå¯¼è‡´æ·±å±‚ç½‘ç»œæ¢¯åº¦é“¾å¼ç›¸ä¹˜åæŒ‡æ•°çº§è¡°å‡</li>
<li>ReLUçš„éé¥±å’Œæ€§ï¼š<strong>æ­£åŒºé—´çš„å¯¼æ•°ä¸º1</strong>ï¼Œä¿è¯æ¢¯åº¦ç¨³å®šä¼ é€’ï¼Œæ”¯æŒæ·±å±‚ç½‘ç»œè®­ç»ƒ</li>
</ul>
</li>
<li><strong>è®¡ç®—é«˜æ•ˆ</strong>ï¼šReLUä»…éœ€åˆ¤æ–­è¾“å…¥æ˜¯å¦å¤§äº0ï¼ˆ<strong>æ— æŒ‡æ•°è¿ç®—</strong>ï¼‰ï¼Œæ¯”Sigmoid/Tanhå¿«6å€ä»¥ä¸Šï¼Œé€‚åˆå¤§è§„æ¨¡æ•°æ®å’Œå¤æ‚æ¨¡å‹</li>
<li><strong>ç¨€ç–æ¿€æ´»</strong>ï¼šReLUå°†è´Ÿè¾“å…¥å¼ºåˆ¶ç½®é›¶ï¼Œä½¿ç½‘ç»œ<strong>ç¨€ç–åŒ–</strong>ï¼ˆçº¦50%ç¥ç»å…ƒæ¿€æ´»ï¼‰ï¼Œé™ä½å‚æ•°ä¾èµ–æ€§å’Œè¿‡æ‹Ÿåˆé£é™©ï¼Œå¢å¼ºæ¨¡å‹é²æ£’æ€§</li>
</ol>
<h5 id="ä¸è¶³"><a class="markdownIt-Anchor" href="#ä¸è¶³"></a> ä¸è¶³</h5>
<ol>
<li>ä¸ºè´Ÿæ—¶ï¼ŒReLUè¾“å‡ºæ’ä¸º0ï¼Œæ¢¯åº¦ä¸º0ï¼Œå¯¼è‡´å¯¹åº”æƒé‡æ— æ³•æ›´æ–°ï¼ˆâ€œ<strong>æ­»äº¡</strong>â€ï¼‰</li>
</ol>
<h5 id="æ”¹è¿›"><a class="markdownIt-Anchor" href="#æ”¹è¿›"></a> æ”¹è¿›</h5>
<blockquote>
<p>æ”¹è¿›ReLUçš„æ–¹æ³•ï¼Œæ¯”å¦‚Leaky ReLUã€Parametric ReLUï¼ˆPReLUï¼‰å’ŒELUï¼Œ</p>
</blockquote>
<h2 id="æŸå¤±å‡½æ•°"><a class="markdownIt-Anchor" href="#æŸå¤±å‡½æ•°"></a> æŸå¤±å‡½æ•°</h2>
<blockquote>
<p>è§£é‡Šä»€ä¹ˆæ˜¯æŸå¤±å‡½æ•°ï¼Œå®ƒçš„ä½œç”¨ï¼Œå¸¸è§çš„æŸå¤±å‡½æ•°ç±»å‹ï¼Œä»¥åŠå¦‚ä½•æ ¹æ®ä¸åŒçš„ä»»åŠ¡é€‰æ‹©åˆé€‚çš„æŸå¤±å‡½æ•°ï¼Œè¿˜æœ‰åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å¦‚ä½•ä¼˜åŒ–æŸå¤±ã€‚</p>
</blockquote>
<h3 id="1-å®šä¹‰-2"><a class="markdownIt-Anchor" href="#1-å®šä¹‰-2"></a> <strong>1 å®šä¹‰</strong>ï¼š</h3>
<p>æŸå¤±å‡½æ•°æ˜¯è¡¡é‡æ¨¡å‹é¢„æµ‹å€¼ä¸çœŸå®å€¼<strong>å·®å¼‚çš„é‡åŒ–æŒ‡æ ‡</strong>ï¼Œ</p>
<p><strong>ç”¨äºæŒ‡å¯¼æ¨¡å‹å‚æ•°ä¼˜åŒ–</strong>ã€‚åå‘ä¼ æ’­æ›´æ–°æ¢¯åº¦</p>
<p><img src="/2025/03/14/2025%E5%B9%B43%E6%9C%8816%E6%97%A5-DL%E5%85%AB%E8%82%A1%E6%96%87/image-20250320182842833.png" alt="image-20250320182842833"></p>
<h3 id="2-å¸¸è§"><a class="markdownIt-Anchor" href="#2-å¸¸è§"></a> 2 å¸¸è§</h3>
<ol>
<li><strong>å‡æ–¹è¯¯å·®</strong> ç»å¯¹è¯¯å·®ç­‰ç­‰</li>
<li>äº¤å‰ç†µ</li>
</ol>
<h1 id="æ¨¡å‹"><a class="markdownIt-Anchor" href="#æ¨¡å‹"></a> æ¨¡å‹</h1>
<h2 id="cnn"><a class="markdownIt-Anchor" href="#cnn"></a> CNN</h2>
<h3 id="0-å›¾åƒæ€§è´¨"><a class="markdownIt-Anchor" href="#0-å›¾åƒæ€§è´¨"></a> 0 å›¾åƒæ€§è´¨</h3>
<ol>
<li><strong>å¹³ç§»ä¸å˜æ€§</strong>ï¼šæ± åŒ–ä¸å·ç§¯æ ¸æ»‘åŠ¨ä½¿æ¨¡å‹å¯¹ç›®æ ‡ä½ç½®å˜åŒ–ä¸æ•æ„Ÿã€‚</li>
</ol>
<h3 id="1-å®šä¹‰-3"><a class="markdownIt-Anchor" href="#1-å®šä¹‰-3"></a> 1 å®šä¹‰</h3>
<p>æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡<strong>å±€éƒ¨æ„Ÿå—é‡</strong>å’Œ<strong>å‚æ•°å…±äº«</strong>ï¼Œé«˜æ•ˆæå–ç©ºé—´æˆ–æ—¶åºç‰¹å¾ã€‚<br>
ä»åŸå§‹åƒç´ ä¸­å­¦ä¹ åˆ°â€œè¾¹ç¼˜â†’çº¹ç†â†’ç‰©ä½“éƒ¨ä»¶â†’å®Œæ•´ç‰©ä½“â€çš„å±‚æ¬¡åŒ–ç‰¹å¾è¡¨ç¤º</p>
<h3 id="2-ç»„æˆ"><a class="markdownIt-Anchor" href="#2-ç»„æˆ"></a> 2 ç»„æˆ</h3>
<h4 id="å·ç§¯å±‚"><a class="markdownIt-Anchor" href="#å·ç§¯å±‚"></a> <strong>å·ç§¯å±‚</strong></h4>
<p><strong>å·ç§¯å±‚å †å </strong>ï¼š</p>
<ul>
<li>æµ…å±‚å·ç§¯æ ¸æå–è¾¹ç¼˜ã€é¢œè‰²ç­‰ä½çº§ç‰¹å¾ã€‚</li>
<li>æ·±å±‚å·ç§¯æ ¸ç»„åˆä½çº§ç‰¹å¾ï¼Œå½¢æˆé«˜çº§è¯­ä¹‰ï¼ˆå¦‚è½¦è½®ã€è½¦çª—</li>
</ul>
<h4 id="æ± åŒ–å±‚"><a class="markdownIt-Anchor" href="#æ± åŒ–å±‚"></a> <strong>æ± åŒ–å±‚</strong></h4>
<blockquote>
<p>å‡å°‘è®¡ç®—é‡å¹¶å¢å¼ºå¹³ç§»ä¸å˜æ€§ã€‚</p>
</blockquote>
<h2 id="resnet"><a class="markdownIt-Anchor" href="#resnet"></a> resnet</h2>
<h3 id="1æ€æƒ³"><a class="markdownIt-Anchor" href="#1æ€æƒ³"></a> 1<strong>æ€æƒ³</strong></h3>
<blockquote>
<p><strong>å­¦ä¹ æ®‹å·®è€Œéç›´æ¥å­¦ä¹ ç›®æ ‡æ˜ å°„</strong>   é€šè¿‡ï¼ˆè·³è·ƒè¿æ¥ï¼‰å®ç°æ®‹å·®å­¦ä¹ </p>
</blockquote>
<h3 id="2-è§£å†³é—®é¢˜"><a class="markdownIt-Anchor" href="#2-è§£å†³é—®é¢˜"></a> 2 è§£å†³é—®é¢˜</h3>
<h5 id="1-æ·±å±‚ç½‘ç»œé€€åŒ–degradation"><a class="markdownIt-Anchor" href="#1-æ·±å±‚ç½‘ç»œé€€åŒ–degradation"></a> 1. <strong>æ·±å±‚ç½‘ç»œé€€åŒ–ï¼ˆDegradationï¼‰</strong></h5>
<ul>
<li><strong>ç°è±¡</strong>ï¼šä¼ ç»ŸCNNï¼ˆå¦‚VGGï¼‰éšç€å±‚æ•°å¢åŠ ï¼ˆå¦‚20å±‚ä»¥ä¸Šï¼‰ï¼Œè®­ç»ƒè¯¯å·®å’Œæµ‹è¯•è¯¯å·®åè€Œä¸Šå‡ï¼Œ<strong>è¿™ä¸æ˜¯è¿‡æ‹Ÿåˆï¼Œè€Œæ˜¯æ¨¡å‹éš¾ä»¥ä¼˜åŒ–</strong>ã€‚</li>
<li><strong>åŸå› </strong>ï¼šå åŠ éçº¿æ€§å±‚å¯¼è‡´ä¿¡æ¯ä¼ é€’æ•ˆç‡ä¸‹é™ï¼Œæ·±å±‚ç½‘ç»œéš¾ä»¥å­¦ä¹ æœ‰æ•ˆçš„æ’ç­‰æ˜ å°„ï¼ˆIdentity Mappingï¼‰ã€‚</li>
<li><strong>è§£å†³</strong>ï¼šè·³è·ƒè¿æ¥å¼ºåˆ¶ç½‘ç»œå­¦ä¹ æ®‹å·® F(x)<em>F</em>(<em>x</em>)ï¼Œå½“æœ€ä¼˜è§£æ¥è¿‘æ’ç­‰æ˜ å°„æ—¶ï¼ŒF(x)<em>F</em>(<em>x</em>) åªéœ€é€¼è¿‘0ï¼Œæ¯”ç›´æ¥æ‹Ÿåˆ H(x)=x<em>H</em>(<em>x</em>)=<em>x</em> æ›´ç®€å•ã€‚</li>
</ul>
<h5 id="2-æ¢¯åº¦æ¶ˆå¤±vanishing-gradient"><a class="markdownIt-Anchor" href="#2-æ¢¯åº¦æ¶ˆå¤±vanishing-gradient"></a> 2. <strong>æ¢¯åº¦æ¶ˆå¤±ï¼ˆVanishing Gradientï¼‰</strong></h5>
<ul>
<li><strong>ç°è±¡</strong>ï¼šåå‘ä¼ æ’­æ—¶ï¼Œæ¢¯åº¦åœ¨æ·±å±‚ç½‘ç»œä¸­é€å±‚è¿ä¹˜ï¼Œå¯¼è‡´æµ…å±‚æƒé‡æ›´æ–°ç¼“æ…¢ç”šè‡³åœæ»ã€‚</li>
<li><strong>è§£å†³</strong>ï¼šè·³è·ƒè¿æ¥æä¾›<strong>æ¢¯åº¦é«˜é€Ÿå…¬è·¯</strong>ï¼Œæ¢¯åº¦å¯é€šè¿‡åŠ æ³•æ“ä½œç›´æ¥å›ä¼ è‡³æµ…å±‚ï¼ˆå¦‚å…¬å¼ âˆ‚Lâˆ‚x=âˆ‚Lâˆ‚H(x)â‹…(1+âˆ‚F(x)âˆ‚x)âˆ‚<em>x</em>âˆ‚<em>L</em>=âˆ‚<em>H</em>(<em>x</em>)âˆ‚<em>L</em>â‹…(1+âˆ‚<em>x</em>âˆ‚<em>F</em>(<em>x</em>))ï¼‰ï¼Œé¿å…æ¢¯åº¦è¢«å¤šæ¬¡éçº¿æ€§å˜æ¢ç¨€é‡Šã€‚</li>
</ul>
<h2 id="æ¨¡å‹éš¾ä»¥ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#æ¨¡å‹éš¾ä»¥ä¼˜åŒ–"></a> <strong>æ¨¡å‹éš¾ä»¥ä¼˜åŒ–</strong></h2>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shakewely.github.io/2025/03/14/2025%E5%B9%B43%E6%9C%8816%E6%97%A5-DL%E5%85%AB%E8%82%A1%E6%96%87/" data-id="cm8q1tfhq0011pcv41q1mcut5" class="article-share-link">åˆ†äº«</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dl/" rel="tag">dl</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-2025å¹´3æœˆ14æ—¥-æ®å¢å¼ºæ–¹æ³•" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2025/03/14/2025%E5%B9%B43%E6%9C%8814%E6%97%A5-%E6%8D%AE%E5%A2%9E%E5%BC%BA%E6%96%B9%E6%B3%95/" class="article-date">
  <time class="post-time" datetime="2025-03-14T05:34:43.000Z" itemprop="datePublished">
    <span class="post-month">3æœˆ</span><br/>
    <span class="post-day">14</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2025/03/14/2025%E5%B9%B43%E6%9C%8814%E6%97%A5-%E6%8D%AE%E5%A2%9E%E5%BC%BA%E6%96%B9%E6%B3%95/">2025å¹´3æœˆ14æ—¥ æ•°æ®å¢å¼ºæ–¹æ³•</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="æ•°æ®é¢„å¤„ç†"><a class="markdownIt-Anchor" href="#æ•°æ®é¢„å¤„ç†"></a> æ•°æ®é¢„å¤„ç†</h1>
<h2 id="æ•°æ®å¢å¼ºæ–¹æ³•"><a class="markdownIt-Anchor" href="#æ•°æ®å¢å¼ºæ–¹æ³•"></a> æ•°æ®å¢å¼ºæ–¹æ³•</h2>
<h3 id="1-æ•°æ®å¢å¼ºçš„ä½œç”¨"><a class="markdownIt-Anchor" href="#1-æ•°æ®å¢å¼ºçš„ä½œç”¨"></a> 1 æ•°æ®å¢å¼ºçš„ä½œç”¨</h3>
<p>1ï¼‰ é¿å…è¿‡æ‹Ÿåˆã€‚å½“æ•°æ®é›†å…·æœ‰æŸç§æ˜æ˜¾çš„ç‰¹å¾ï¼Œä¾‹å¦‚æ•°æ®é›†ä¸­å›¾ç‰‡åŸºæœ¬åœ¨åŒä¸€ä¸ªåœºæ™¯ä¸­æ‹æ‘„ï¼Œä½¿ç”¨Cutoutæ–¹æ³•å’Œé£æ ¼è¿ç§»å˜åŒ–ç­‰ç›¸å…³æ–¹æ³•å¯é¿å…æ¨¡å‹å­¦åˆ°è·Ÿç›®æ ‡æ— å…³çš„ä¿¡æ¯ã€‚</p>
<p>2ï¼‰æå‡æ¨¡å‹é²æ£’æ€§ï¼Œé™ä½æ¨¡å‹å¯¹å›¾åƒçš„æ•æ„Ÿåº¦ã€‚å½“è®­ç»ƒæ•°æ®éƒ½å±äºæ¯”è¾ƒç†æƒ³çš„çŠ¶æ€ï¼Œç¢°åˆ°ä¸€äº›ç‰¹æ®Šæƒ…å†µï¼Œå¦‚é®æŒ¡ï¼Œäº®åº¦ï¼Œæ¨¡ç³Šç­‰æƒ…å†µå®¹æ˜“è¯†åˆ«é”™è¯¯ï¼Œå¯¹è®­ç»ƒæ•°æ®åŠ ä¸Šå™ªå£°ï¼Œæ©ç ç­‰æ–¹æ³•å¯æå‡æ¨¡å‹é²æ£’æ€§ã€‚</p>
<p>3ï¼‰å¢åŠ è®­ç»ƒæ•°æ®ï¼Œæé«˜æ¨¡å‹æ³›åŒ–èƒ½åŠ›ã€‚</p>
<p>4ï¼‰é¿å…æ ·æœ¬ä¸å‡è¡¡ã€‚åœ¨å·¥ä¸šç¼ºé™·æ£€æµ‹æ–¹é¢ï¼ŒåŒ»ç–—ç–¾ç—…è¯†åˆ«æ–¹é¢ï¼Œå®¹æ˜“å‡ºç°æ­£è´Ÿæ ·æœ¬æåº¦ä¸å¹³è¡¡çš„æƒ…å†µï¼Œé€šè¿‡å¯¹å°‘æ ·æœ¬è¿›è¡Œä¸€äº›æ•°æ®å¢å¼ºæ–¹æ³•ï¼Œé™ä½æ ·æœ¬ä¸å‡è¡¡æ¯”ä¾‹ã€‚</p>
<p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>
<h3 id="2-å“ªäº›æ•°æ®å¢å¼ºæ–¹æ³•"><a class="markdownIt-Anchor" href="#2-å“ªäº›æ•°æ®å¢å¼ºæ–¹æ³•"></a> 2 å“ªäº›æ•°æ®å¢å¼ºæ–¹æ³•</h3>
<h4 id="å‡ ä½•å˜æ¢"><a class="markdownIt-Anchor" href="#å‡ ä½•å˜æ¢"></a> å‡ ä½•å˜æ¢</h4>
<p>éšæœºæ—‹è½¬ï¼ˆÂ±15Â°ï¼‰ã€</p>
<p>ç¿»è½¬</p>
<p>è£å‰ªï¼Œ</p>
<p>ç¼©æ”¾ï¼Œ</p>
<p>å¹³ç§»ï¼Œ</p>
<h4 id="åƒç´ å˜æ¢"><a class="markdownIt-Anchor" href="#åƒç´ å˜æ¢"></a> åƒç´ å˜æ¢</h4>
<p>é«˜æ–¯å™ªå£°ã€</p>
<p>è¿åŠ¨æ¨¡ç³Šæ¨¡æ‹Ÿ</p>
<p>è°ƒæ•´HSVå¯¹æ¯”åº¦</p>
<p>è°ƒèŠ‚äº®åº¦ï¼Œé¥±å’Œåº¦ï¼Œç›´æ–¹å›¾å‡è¡¡åŒ–ï¼Œè°ƒæ•´ç™½å¹³è¡¡</p>
<h3 id="3-ç‰¹æ®Šä»»åŠ¡"><a class="markdownIt-Anchor" href="#3-ç‰¹æ®Šä»»åŠ¡"></a> 3 ç‰¹æ®Šä»»åŠ¡</h3>
<h4 id="é€‚åˆåˆ†ç±»ä»»åŠ¡"><a class="markdownIt-Anchor" href="#é€‚åˆåˆ†ç±»ä»»åŠ¡"></a> é€‚åˆåˆ†ç±»ä»»åŠ¡</h4>
<p><img src="/2025/03/14/2025%E5%B9%B43%E6%9C%8814%E6%97%A5-%E6%8D%AE%E5%A2%9E%E5%BC%BA%E6%96%B9%E6%B3%95/image-20250314143616191.png" alt="image-20250314143616191"></p>
<blockquote>
<p>Mixup, Cutmixåªç”¨äºåˆ†ç±»ä»»åŠ¡</p>
</blockquote>
<h4 id="é€‚åˆæ£€æµ‹ä»»åŠ¡"><a class="markdownIt-Anchor" href="#é€‚åˆæ£€æµ‹ä»»åŠ¡"></a> é€‚åˆæ£€æµ‹ä»»åŠ¡</h4>
<p>GridMask</p>
<img src="/2025/03/14/2025%E5%B9%B43%E6%9C%8814%E6%97%A5-%E6%8D%AE%E5%A2%9E%E5%BC%BA%E6%96%B9%E6%B3%95/image-20250314143710300.png" alt="image-20250314143710300" style="zoom: 33%;"> 
<h4 id="mosaicæ•°æ®å¢å¼º"><a class="markdownIt-Anchor" href="#mosaicæ•°æ®å¢å¼º"></a> mosaicæ•°æ®å¢å¼º</h4>
<img src="/2025/03/14/2025%E5%B9%B43%E6%9C%8814%E6%97%A5-%E6%8D%AE%E5%A2%9E%E5%BC%BA%E6%96%B9%E6%B3%95/image-20250314143803362.png" alt="image-20250314143803362" style="zoom: 43%;"> 
<h2 id="4-transformscompose"><a class="markdownIt-Anchor" href="#4-transformscompose"></a> 4 Transforms.Compose</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">transform = transforms.Compose([</span><br><span class="line">    transforms.Resize(<span class="number">256</span>),          <span class="comment"># è°ƒæ•´å›¾åƒå°ºå¯¸</span></span><br><span class="line">    transforms.RandomCrop(<span class="number">224</span>),      <span class="comment"># éšæœºè£å‰ªä¸º224x224</span></span><br><span class="line">    transforms.RandomHorizontalFlip(), <span class="comment"># éšæœºæ°´å¹³ç¿»è½¬ï¼ˆæ¦‚ç‡0.5ï¼‰</span></span><br><span class="line">    transforms.ToTensor(),           <span class="comment"># è½¬ä¸ºå¼ é‡å¹¶å½’ä¸€åŒ–è‡³[0,1]</span></span><br><span class="line">    transforms.Normalize(            <span class="comment"># æ ‡å‡†åŒ–ï¼ˆå‡å€¼ã€æ ‡å‡†å·®ï¼‰</span></span><br><span class="line">        mean=[<span class="number">0.485</span>, <span class="number">0.456</span>, <span class="number">0.406</span>], </span><br><span class="line">        std=[<span class="number">0.229</span>, <span class="number">0.224</span>, <span class="number">0.225</span>]</span><br><span class="line">    )</span><br><span class="line">])</span><br></pre></td></tr></table></figure>
<h3 id="5-å¤æ‚åœºæ™¯çš„ç‰¹æ®Šå¤„ç†"><a class="markdownIt-Anchor" href="#5-å¤æ‚åœºæ™¯çš„ç‰¹æ®Šå¤„ç†"></a> 5 å¤æ‚åœºæ™¯çš„ç‰¹æ®Šå¤„ç†</h3>
<p>å¤æ‚åœºæ™¯å¦‚å›¾åƒå¯èƒ½åŒ…å«ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ol>
<li><strong>é®æŒ¡ä¸å±€éƒ¨æ¨¡ç³Š</strong>ï¼ˆå¦‚äº¤é€šç›‘æ§ä¸­çš„è½¦è¾†é®æŒ¡ï¼‰</li>
<li><strong>å…‰ç…§ä¸å‡</strong>ï¼ˆå¦‚å¤œé—´ä½å…‰ç…§æˆ–å¼ºåå…‰åŒºåŸŸï¼‰</li>
<li><strong>åŠ¨æ€æ¨¡ç³Š</strong>ï¼ˆå¦‚å¿«é€Ÿç§»åŠ¨ç›®æ ‡ï¼‰</li>
<li><strong>èƒŒæ™¯å¹²æ‰°</strong>ï¼ˆå¦‚åŒ»ç–—å›¾åƒä¸­å™¨å®˜é‡å </li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">transform = Compose([</span><br><span class="line">    RandomPerspective(distortion_scale=0.5),  # é€è§†å˜å½¢æ¨¡æ‹Ÿé®æŒ¡  </span><br><span class="line">    AdjustGamma(gamma=0.5),                   # è°ƒæ•´ä¼½é©¬å€¼åº”å¯¹ä½å…‰ç…§  </span><br><span class="line">    GaussianBlur(kernel_size=5)               # æ¨¡æ‹Ÿè¿åŠ¨æ¨¡ç³Š  </span><br><span class="line">])</span><br></pre></td></tr></table></figure>
<h2 id="æ•°æ®ä¸å¹³è¡¡é—®é¢˜"><a class="markdownIt-Anchor" href="#æ•°æ®ä¸å¹³è¡¡é—®é¢˜"></a> <strong>æ•°æ®ä¸å¹³è¡¡é—®é¢˜</strong></h2>
<p>å‚è€ƒ:<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/296632599%5C">https://zhuanlan.zhihu.com/p/296632599\</a></p>
<h3 id="1-æ•°æ®ä¸å¹³è¡¡"><a class="markdownIt-Anchor" href="#1-æ•°æ®ä¸å¹³è¡¡"></a> 1 æ•°æ®ä¸å¹³è¡¡</h3>
<p>ä¸åŒç±»åˆ«çš„æ ·æœ¬é‡å·®å¼‚éå¸¸å¤§ï¼Œæˆ–è€…å°‘æ•°æ ·æœ¬ä»£è¡¨äº†ä¸šåŠ¡çš„å…³é”®æ•°æ®</p>
<h3 id="2-å¦‚ä½•å¤„ç†"><a class="markdownIt-Anchor" href="#2-å¦‚ä½•å¤„ç†"></a> 2 <strong>å¦‚ä½•å¤„ç†</strong></h3>
<ol>
<li>
<p>æ¬ é‡‡æ ·ï¼š<strong>åœ¨å°‘é‡æ ·æœ¬æ•°é‡ä¸å½±å“æ¨¡å‹è®­ç»ƒçš„æƒ…å†µä¸‹</strong>ï¼Œå¯é€šè¿‡å¯¹<strong>å¤šæ•°ç±»æ ·æœ¬æ¬ é‡‡æ ·</strong>ï¼Œå®ç°å°‘æ•°æ ·æœ¬å’Œå¤šæ•°æ ·æœ¬å‡è¡¡ã€‚</p>
</li>
<li>
<p>è¿‡é‡‡æ ·ï¼šåœ¨å°‘é‡æ ·æœ¬æ•°é‡<strong>ä¸æ”¯æŒ</strong>æ¨¡å‹è®­ç»ƒçš„æƒ…å†µä¸‹ï¼Œå¯ä»¥é€šè¿‡å¯¹<strong>å°‘æ•°ç±»æ ·æœ¬è¿‡é‡‡æ ·</strong>ï¼Œå®ç°å°‘æ•°æ ·æœ¬å’Œå¤šæ•°æ ·æœ¬çš„å‡è¡¡ã€‚</p>
</li>
<li>
<p>æ¨¡å‹ç®—æ³•ï¼šé€šè¿‡å¼•å…¥æœ‰æƒé‡çš„æ¨¡å‹ç®—æ³•ï¼Œ<strong>é’ˆå¯¹å°‘é‡æ ·æœ¬ç€é‡æ‹Ÿåˆ</strong>ï¼Œä»¥æå‡å¯¹å°‘é‡æ ·æœ¬ç‰¹å¾çš„å­¦ä¹ ã€‚</p>
</li>
</ol>
<h4 id="1æ¬ é‡‡æ ·"><a class="markdownIt-Anchor" href="#1æ¬ é‡‡æ ·"></a> 1.æ¬ é‡‡æ ·</h4>
<p>â€‹	å‡å°‘å¤§æ ·æœ¬æ•°é‡çš„é‡‡é›†</p>
<h5 id="éšæœºæ³•åˆ é™¤"><a class="markdownIt-Anchor" href="#éšæœºæ³•åˆ é™¤"></a> <strong>éšæœºæ³•</strong>åˆ é™¤</h5>
<blockquote>
<p>éšæœºçš„åˆ é™¤ä¸€äº›å¤šæ•°ç±»æ ·æœ¬</p>
</blockquote>
<h4 id="2è¿‡é‡‡æ ·"><a class="markdownIt-Anchor" href="#2è¿‡é‡‡æ ·"></a> 2.è¿‡é‡‡æ ·</h4>
<h5 id="éšæœºå¤åˆ¶"><a class="markdownIt-Anchor" href="#éšæœºå¤åˆ¶"></a> <strong>éšæœºå¤åˆ¶</strong></h5>
<blockquote>
<p>å¯¹å°‘é‡æ ·æœ¬è¿›è¡Œå¤åˆ¶åè¾¾åˆ°æ ·æœ¬å‡è¡¡çš„æ•ˆæœä»¥æå‡æ¨¡å‹çš„æ•ˆæœã€‚</p>
</blockquote>
<p><strong>æ ·æœ¬ç”Ÿæˆ</strong></p>
<blockquote>
<p>SMOTEæ–¹æ³•ä¸ºä¾‹ï¼Œå¯¹äºä»»æ„é€‰å–çš„å°‘ç±»æ ·æœ¬ï¼Œå®ƒç”¨Kè¿‘é‚»é€‰å–ç›¸ä¼¼æ ·æœ¬ï¼Œå¹¶é€šè¿‡å¯¹æ ·æœ¬çº¿æ€§æ’å€¼å¾—åˆ°æ–°æ ·æœ¬ã€‚</p>
</blockquote>
<h4 id="3æ¨¡å‹ç®—æ³•"><a class="markdownIt-Anchor" href="#3æ¨¡å‹ç®—æ³•"></a> 3.æ¨¡å‹ç®—æ³•</h4>
<p>â€‹	ä»ç®—æ³•å±‚é¢</p>
<h5 id="focal-loss"><a class="markdownIt-Anchor" href="#focal-loss"></a> <strong>Focal Loss</strong></h5>
<blockquote>
<p>Focal loss åœ¨æ ‡å‡†äº¤å‰ç†µæŸå¤±çš„åŸºç¡€ä¸Šä¿®æ”¹å¾—åˆ°çš„ï¼Œé€šè¿‡å‡å°‘æ˜“åˆ†ç±»æ ·æœ¬çš„æƒé‡ï¼Œä½¿å¾—æ¨¡å‹åœ¨è®­ç»ƒæ—¶æ›´ä¸“æ³¨äºéš¾åˆ†ç±»çš„æ ·æœ¬</p>
</blockquote>
<p><strong>è§£è€¦ç‰¹å¾å’Œåˆ†ç±»å™¨</strong></p>
<h3 id="3-ç›®æ ‡æ£€æµ‹ä¸­"><a class="markdownIt-Anchor" href="#3-ç›®æ ‡æ£€æµ‹ä¸­"></a> 3 ç›®æ ‡æ£€æµ‹ä¸­</h3>
<p><strong>å®šä¹‰</strong></p>
<ul>
<li>æ­£æ ·æœ¬ï¼š<strong>æ ‡ç­¾åŒºåŸŸå†…</strong>çš„å›¾åƒåŒºåŸŸï¼Œå³ç›®æ ‡å›¾åƒå—</li>
<li>è´Ÿæ ·æœ¬ï¼š<strong>æ ‡ç­¾åŒºåŸŸä»¥å¤–</strong>çš„å›¾åƒåŒºåŸŸï¼Œå³å›¾åƒèƒŒæ™¯åŒºåŸŸ</li>
<li>æ˜“åˆ†æ­£æ ·æœ¬ï¼šå®¹æ˜“æ­£ç¡®åˆ†ç±»çš„æ­£æ ·æœ¬ï¼Œåœ¨å®é™…è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œ<strong>è¯¥ç±»å æ€»ä½“æ ·æœ¬çš„æ¯”é‡éå¸¸é«˜ï¼Œå•ä¸ªæ ·æœ¬çš„æŸå¤±å‡½æ•°è¾ƒå°</strong>ï¼Œä½†æ˜¯ç´¯è®¡çš„æŸå¤±å‡½æ•°ä¼šä¸»å¯¼æŸå¤±å‡½æ•°</li>
<li>æ˜“åˆ†è´Ÿæ ·æœ¬ï¼šå®¹æ˜“æ­£ç¡®åˆ†ç±»çš„è´Ÿæ ·æœ¬ï¼Œåœ¨å®é™…è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œ<strong>è¯¥ç±»å çš„æ¯”é‡éå¸¸é«˜</strong>ï¼Œå•ä¸ªæ ·æœ¬çš„æŸå¤±å‡½æ•°è¾ƒå°ï¼Œä½†æ˜¯ç´¯è®¡çš„æŸå¤±å‡½æ•°ä¼šä¸»å¯¼æŸå¤±å‡½æ•°</li>
<li>éš¾åˆ†æ­£æ ·æœ¬ï¼šé”™åˆ†æˆè´Ÿæ ·æœ¬çš„æ­£æ ·æœ¬ï¼Œè¿™éƒ¨åˆ†æ ·æœ¬åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å•ä¸ªæ ·æœ¬çš„æŸå¤±å‡½æ•°è¾ƒé«˜ï¼Œä½†æ˜¯<strong>è¯¥ç±»å æ€»ä½“æ ·æœ¬çš„æ¯”ä¾‹è¾ƒå°</strong></li>
<li>éš¾åˆ†è´Ÿæ ·æœ¬ï¼šé”™åˆ†æˆæ­£æ ·æœ¬çš„è´Ÿæ ·æœ¬ï¼Œè¿™éƒ¨åˆ†æ ·æœ¬åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å•ä¸ªæ ·æœ¬çš„æŸå¤±å‡½æ•°æ•™é«˜ï¼Œä½†æ˜¯è¯¥ç±»å æ€»ä½“æ ·æœ¬çš„æ¯”ä¾‹æ•™å°</li>
</ul>
<img src="/2025/03/14/2025%E5%B9%B43%E6%9C%8814%E6%97%A5-%E6%8D%AE%E5%A2%9E%E5%BC%BA%E6%96%B9%E6%B3%95/image-20250314152506435.png" alt="image-20250314152506435" style="zoom:50%;">
<blockquote>
<p>å’Œgrand true çš„æ¡†é‡å éƒ¨åˆ†</p>
</blockquote>
<h4 id="1æ­£è´Ÿæ ·æœ¬ä¸å‡è¡¡"><a class="markdownIt-Anchor" href="#1æ­£è´Ÿæ ·æœ¬ä¸å‡è¡¡"></a> <strong>1.æ­£è´Ÿæ ·æœ¬ä¸å‡è¡¡</strong></h4>
<p>ä»¥Faster RCNNä¸ºä¾‹ï¼Œåœ¨RPNéƒ¨åˆ†ä¼šç”Ÿæˆ20000ä¸ªå·¦å³çš„Anchorï¼Œç”±äºä¸€å¼ å›¾ä¸­é€šå¸¸æœ‰10ä¸ªå·¦å³çš„ç‰©ä½“ï¼Œ<strong>å¯¼è‡´å¯èƒ½åªæœ‰100ä¸ªå·¦å³çš„Anchorä¼šæ˜¯æ­£æ ·æœ¬ï¼Œæ­£è´Ÿæ ·æœ¬æ¯”ä¾‹çº¦ä¸º1âˆ¶200ï¼Œå­˜åœ¨ä¸¥é‡çš„ä¸å‡è¡¡ã€‚</strong></p>
<h4 id="2éš¾æ˜“æ ·æœ¬ä¸å‡è¡¡"><a class="markdownIt-Anchor" href="#2éš¾æ˜“æ ·æœ¬ä¸å‡è¡¡"></a> <strong>2.éš¾æ˜“æ ·æœ¬ä¸å‡è¡¡</strong></h4>
<ol>
<li>éš¾æ ·æœ¬æŒ‡çš„æ˜¯<strong>åˆ†ç±»ä¸å¤ªæ˜ç¡®çš„è¾¹æ¡†ï¼Œå¤„åœ¨å‰æ™¯ä¸èƒŒæ™¯çš„è¿‡æ¸¡åŒºåŸŸä¸Š</strong></li>
<li>ç„¶è€Œï¼Œå¤§é‡çš„æ ·æœ¬å¹¶éå¤„åœ¨å‰æ™¯ä¸èƒŒæ™¯çš„è¿‡æ¸¡åŒºï¼Œè€Œæ˜¯**ä¸çœŸå®ç‰©ä½“æ²¡æœ‰é‡å åŒºåŸŸçš„è´Ÿæ ·æœ¬ï¼Œæˆ–è€…ä¸çœŸå®ç‰©ä½“é‡å ç¨‹åº¦å¾ˆé«˜çš„æ­£æ ·æœ¬ï¼Œ<strong>è¿™éƒ¨åˆ†è¢«ç§°ä¸º</strong>ç®€å•æ ·æœ¬ï¼Œ**å•ä¸ªæŸå¤±ä¼šè¾ƒå°ï¼Œå¯¹å‚æ•°æ”¶æ•›çš„ä½œç”¨æœ‰é™ã€‚</li>
</ol>
<h4 id="3ç±»åˆ«é—´æ ·æœ¬ä¸å‡è¡¡"><a class="markdownIt-Anchor" href="#3ç±»åˆ«é—´æ ·æœ¬ä¸å‡è¡¡"></a> <strong>3.ç±»åˆ«é—´æ ·æœ¬ä¸å‡è¡¡</strong></h4>
<p>æœºå™¨å­¦ä¹ ä¸­ï¼Œæ ·æœ¬ä¸å‡è¡¡é—®é¢˜çš„è§£å†³æ–¹æ³•</p>
<h1 id="å¤šè¿›ç¨‹"><a class="markdownIt-Anchor" href="#å¤šè¿›ç¨‹"></a> å¤šè¿›ç¨‹</h1>
<h2 id="å‡ ç§æ–¹æ³•å®ç°"><a class="markdownIt-Anchor" href="#å‡ ç§æ–¹æ³•å®ç°"></a> å‡ ç§æ–¹æ³•å®ç°ï¼š</h2>
<h3 id="å¤šè¿›ç¨‹åˆ›å»ºæ¨¡å‹æ¨ç†"><a class="markdownIt-Anchor" href="#å¤šè¿›ç¨‹åˆ›å»ºæ¨¡å‹æ¨ç†"></a> å¤šè¿›ç¨‹åˆ›å»ºæ¨¡å‹æ¨ç†</h3>
<p><strong>å¤šè¿›ç¨‹å¹¶è¡Œæ¨ç†</strong></p>
<ol>
<li>åˆ›å»ºå¤šä¸ªè¿›ç¨‹ï¼šæ¯ä¸ªè¿›ç¨‹åŠ è½½ä¸€ä¸ªYOLOv8æ¨¡å‹å®ä¾‹ï¼Œå°†å¾…æ¨ç†çš„å›¾åƒæˆ–è§†é¢‘æµåˆ†é…ç»™ä¸åŒçš„è¿›ç¨‹å¹¶è¡Œå¤„ç†ã€‚</li>
<li>è¿›ç¨‹é—´é€šä¿¡ï¼šä½¿ç”¨é˜Ÿåˆ—ã€ç®¡é“ç­‰æœºåˆ¶å®ç°è¿›ç¨‹é—´çš„é€šä¿¡å’Œæ•°æ®äº¤æ¢ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨multiprocessing.Queueæ¥ä¼ é€’å¾…å¤„ç†çš„å›¾åƒæ•°æ®å’Œæ¨ç†ç»“æœã€‚</li>
<li>åˆç†åˆ†é…ä»»åŠ¡ï¼šæ ¹æ®ç¡¬ä»¶èµ„æºå’Œä»»åŠ¡ç‰¹æ€§ï¼Œåˆç†åˆ†é…æ¯ä¸ªè¿›ç¨‹çš„æ¨ç†ä»»åŠ¡é‡ï¼Œé¿å…èµ„æºæµªè´¹å’Œæ€§èƒ½ç“¶é¢ˆã€‚</li>
</ol>
<p><strong>ç¡¬ä»¶åŠ é€Ÿä¸ä¼˜åŒ–</strong></p>
<ol>
<li>ä½¿ç”¨GPUåŠ é€Ÿï¼šå°†YOLOv8æ¨¡å‹éƒ¨ç½²åœ¨GPUä¸Šï¼Œåˆ©ç”¨GPUçš„å¹¶è¡Œè®¡ç®—èƒ½åŠ›åŠ é€Ÿæ¨¡å‹æ¨ç†ã€‚å¯ä»¥ä½¿ç”¨TensorRTç­‰å·¥å…·å¯¹æ¨¡å‹è¿›è¡Œä¼˜åŒ–ï¼Œè¿›ä¸€æ­¥æå‡æ¨ç†æ•ˆç‡ã€‚</li>
<li>æ¨¡å‹ä¼˜åŒ–ï¼šå¯¹YOLOv8æ¨¡å‹è¿›è¡Œé‡åŒ–ã€å‰ªæç­‰ä¼˜åŒ–æ“ä½œï¼Œå‡å°‘æ¨¡å‹çš„è®¡ç®—å¤æ‚åº¦å’Œå‚æ•°é‡ï¼Œä»è€Œæé«˜æ¨ç†é€Ÿåº¦ã€‚</li>
<li>å‰åå¤„ç†åŠ é€Ÿï¼šä¼˜åŒ–å›¾åƒçš„é¢„å¤„ç†å’Œåå¤„ç†æ­¥éª¤ï¼Œä¾‹å¦‚ä½¿ç”¨å†…å­˜0æ‹·è´æŠ€æœ¯ã€å¿«é€Ÿçš„è§£ç å’Œç¼–ç ç®—æ³•ç­‰ï¼Œå‡å°‘æ•°æ®ä¼ è¾“å’Œå¤„ç†çš„æ—¶é—´ã€‚</li>
</ol>
<p><strong>å¤šçº¿ç¨‹è¾…åŠ©</strong></p>
<ol>
<li>å¤šçº¿ç¨‹æ•°æ®è¯»å†™ï¼šåœ¨å¤šè¿›ç¨‹æ¨ç†çš„åŸºç¡€ä¸Šï¼Œå¯ä»¥ä½¿ç”¨å¤šçº¿ç¨‹æ¥è¾…åŠ©æ•°æ®çš„è¯»å†™æ“ä½œï¼Œæé«˜æ•°æ®å¤„ç†çš„æ•ˆç‡ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨çº¿ç¨‹æ± æ¥ç»´æŠ¤å¤šä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹è´Ÿè´£è¯»å–æˆ–å†™å…¥ä¸€éƒ¨åˆ†æ•°æ®ã€‚</li>
<li>ç•Œé¢ä¸æ¨ç†åˆ†ç¦»ï¼šå¦‚æœéœ€è¦åœ¨GUIç•Œé¢ä¸­è¿›è¡ŒYOLOv8æ¨ç†ï¼Œå¯ä»¥å°†æ¨ç†ä»»åŠ¡æ”¾åœ¨å•ç‹¬çš„çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œé¿å…é˜»å¡ç•Œé¢çº¿ç¨‹ï¼Œæé«˜ç”¨æˆ·ä½“éªŒã€‚</li>
</ol>
<p>åŸæ–‡é“¾æ¥ï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/zhiqingAI/article/details/145017566">https://blog.csdn.net/zhiqingAI/article/details/145017566</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Process, Queue</span><br><span class="line"><span class="keyword">from</span> ultralytics <span class="keyword">import</span> YOLO</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">worker</span>(<span class="params">q, model_path</span>):</span><br><span class="line">    model = YOLO(model_path)</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        img = q.get()</span><br><span class="line">        <span class="keyword">if</span> img <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        results = model.predict(source=img)</span><br><span class="line">        <span class="comment"># å¤„ç†æ¨ç†ç»“æœ</span></span><br><span class="line">        <span class="built_in">print</span>(results)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    q = Queue()</span><br><span class="line">    model_path = <span class="string">&#x27;yolov8n.pt&#x27;</span></span><br><span class="line">    num_processes = <span class="number">4</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># åˆ›å»ºå¤šä¸ªè¿›ç¨‹</span></span><br><span class="line">    processes = []</span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(num_processes):</span><br><span class="line">        p = Process(target=worker, args=(q, model_path))</span><br><span class="line">        p.start()</span><br><span class="line">        processes.append(p)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å°†å›¾åƒæ•°æ®æ”¾å…¥é˜Ÿåˆ—</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">        img_path = <span class="string">f&#x27;image_<span class="subst">&#123;i&#125;</span>.jpg&#x27;</span></span><br><span class="line">        img = cv2.imread(img_path)</span><br><span class="line">        q.put(img)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç»“æŸè¿›ç¨‹</span></span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(num_processes):</span><br><span class="line">        q.put(<span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> p <span class="keyword">in</span> processes:</span><br><span class="line">        p.join()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="å¤šçº¿ç¨‹åŒæ—¶è®¿é—®ç›¸åŒæ¨¡å‹"><a class="markdownIt-Anchor" href="#å¤šçº¿ç¨‹åŒæ—¶è®¿é—®ç›¸åŒæ¨¡å‹"></a> å¤šçº¿ç¨‹åŒæ—¶è®¿é—®ç›¸åŒæ¨¡å‹</h3>
<p>å¤šçº¿ç¨‹æ¨ç†å‡½æ•°</p>
<h4 id="1-è§£å†³å›¾åƒæ¥æ”¶ç«¯ä¸æ¨ç†ç«¯é€Ÿåº¦ä¸åŒ¹é…çš„é—®é¢˜"><a class="markdownIt-Anchor" href="#1-è§£å†³å›¾åƒæ¥æ”¶ç«¯ä¸æ¨ç†ç«¯é€Ÿåº¦ä¸åŒ¹é…çš„é—®é¢˜"></a> 1. è§£å†³å›¾åƒæ¥æ”¶ç«¯ä¸æ¨ç†ç«¯é€Ÿåº¦ä¸åŒ¹é…çš„é—®é¢˜</h4>
<p>å½“å‡ºç°ç”Ÿäº§è€…ç”Ÿäº§å¤ªå¿«ï¼Œè€Œæ¶ˆè´¹å¤ªæ…¢æ—¶ï¼šä¼šè®©å›¾ç‰‡å‘ç”Ÿå †ç§¯ï¼Œä¸€å¼ å›¾ç‰‡å¯èƒ½æœ‰2MBï¼Œå¦‚æœé•¿æœŸè¿è¡Œï¼Œå°±ä¼šå‘ç°ï¼Œç¨‹åºå¯èƒ½åœ¨æŸä¸€åˆ»å‘ç”Ÿå´©æºƒï¼ˆå†…å­˜æ¶ˆè€—æ®†å°½ï¼‰</p>
<h3 id="æ£€æµ‹ä¸è¯†åˆ«å¹¶è¡Œ"><a class="markdownIt-Anchor" href="#æ£€æµ‹ä¸è¯†åˆ«å¹¶è¡Œ"></a> æ£€æµ‹ä¸è¯†åˆ«å¹¶è¡Œ</h3>
<h4 id="ä¸€å¼ å›¾ç‰‡ç»å¤šä¸ªæ¨¡å‹æ¨ç†çš„å¼‚æ­¥æ¨¡å¼è®¾è®¡"><a class="markdownIt-Anchor" href="#ä¸€å¼ å›¾ç‰‡ç»å¤šä¸ªæ¨¡å‹æ¨ç†çš„å¼‚æ­¥æ¨¡å¼è®¾è®¡"></a> ä¸€å¼ å›¾ç‰‡ï¼Œç»å¤šä¸ªæ¨¡å‹æ¨ç†çš„å¼‚æ­¥æ¨¡å¼è®¾è®¡</h4>
<p>å‚è€ƒ:<a target="_blank" rel="noopener" href="https://blog.csdn.net/hh1357102/article/details/127586846%5C">https://blog.csdn.net/hh1357102/article/details/127586846\</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shakewely.github.io/2025/03/14/2025%E5%B9%B43%E6%9C%8814%E6%97%A5-%E6%8D%AE%E5%A2%9E%E5%BC%BA%E6%96%B9%E6%B3%95/" data-id="cmanj8o220009lcv41hue4oqi" class="article-share-link">åˆ†äº«</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dl/" rel="tag">dl</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-2025å¹´3æœˆ15æ—¥-æ¨¡å‹è¯„ä»·æŒ‡æ ‡" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2025/03/14/2025%E5%B9%B43%E6%9C%8815%E6%97%A5-%E6%A8%A1%E5%9E%8B%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87/" class="article-date">
  <time class="post-time" datetime="2025-03-13T16:26:50.000Z" itemprop="datePublished">
    <span class="post-month">3æœˆ</span><br/>
    <span class="post-day">14</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2025/03/14/2025%E5%B9%B43%E6%9C%8815%E6%97%A5-%E6%A8%A1%E5%9E%8B%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87/">2025å¹´3æœˆ15æ—¥ æ¨¡å‹è¯„ä»·æŒ‡æ ‡</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="è®¡ç®—é‡ä¸å‚æ•°é‡"><a class="markdownIt-Anchor" href="#è®¡ç®—é‡ä¸å‚æ•°é‡"></a> è®¡ç®—é‡ä¸å‚æ•°é‡</h1>
<h2 id="1-å®šä¹‰"><a class="markdownIt-Anchor" href="#1-å®šä¹‰"></a> 1 å®šä¹‰</h2>
<ol>
<li>è®¡ç®—é‡-æ—¶é—´å¤æ‚åº¦  <strong>ä¹˜æ³•å’ŒåŠ å‘çš„æ“ä½œæ¬¡æ•°</strong></li>
<li>å‚æ•°é‡-ç©ºé—´å¤æ‚åº¦</li>
</ol>
<h3 id="å·ç§¯å±‚"><a class="markdownIt-Anchor" href="#å·ç§¯å±‚"></a> å·ç§¯å±‚</h3>
<p><strong>è®¡ç®—é‡</strong>: (KxKxWxH) x C_in x C_out</p>
<blockquote>
<p>W\H: è¾“å‡ºfeature map çš„size</p>
<p>å›å¿†å·ç§¯æ“ä½œè¿‡ç¨‹</p>
</blockquote>
<p><strong>å‚æ•°é‡</strong>: KxKxC_inxC_out</p>
<blockquote>
<p>å·ç§¯æ ¸çš„weight</p>
</blockquote>
<h3 id="æ± åŒ–å±‚"><a class="markdownIt-Anchor" href="#æ± åŒ–å±‚"></a> æ± åŒ–å±‚</h3>
<p><strong>è®¡ç®—é‡</strong>: ä¸åŒæ± åŒ–æ“ä½œä¸åŒ Cin x Cout x W x H x K xK</p>
<blockquote></blockquote>
<p><strong>å‚æ•°é‡</strong>  æ— </p>
<h3 id="å…¨è¿æ¥å±‚"><a class="markdownIt-Anchor" href="#å…¨è¿æ¥å±‚"></a> å…¨è¿æ¥å±‚</h3>
<p>å‚æ•°é‡ weight_in*weight_out</p>
<p>è®¡ç®—é‡ï¼ 2 x Cin x Cout</p>
<h3 id="batchnorm"><a class="markdownIt-Anchor" href="#batchnorm"></a> BatchNorm</h3>
<p>è®¡ç®—é‡: 4WHC</p>
<blockquote></blockquote>
<p>å‚æ•°é‡: 2C</p>
<blockquote>
<p>(y=ax+b) xC</p>
</blockquote>
<h3 id="æ¿€æ´»å‡½æ•°"><a class="markdownIt-Anchor" href="#æ¿€æ´»å‡½æ•°"></a> æ¿€æ´»å‡½æ•°</h3>
<p>è®¡ç®—é‡: HÃ—WÃ—C</p>
<blockquote>
<p>pathä¸ªæ•°</p>
</blockquote>
<h2 id="ç¡¬ä»¶éœ€æ±‚"><a class="markdownIt-Anchor" href="#ç¡¬ä»¶éœ€æ±‚"></a> ç¡¬ä»¶éœ€æ±‚</h2>
<p>è®¡ç®—é‡çš„è¦æ±‚æ˜¯åœ¨äºèŠ¯ç‰‡çš„__ï¼ˆæŒ‡çš„æ˜¯gpuçš„è¿ç®—èƒ½åŠ›ï¼‰</p>
<p>å‚æ•°é‡å–å†³äº__å¤§å°</p>
<h3 id="è®¡ç®—é‡å’Œå‚æ•°é‡æŸ¥çœ‹"><a class="markdownIt-Anchor" href="#è®¡ç®—é‡å’Œå‚æ•°é‡æŸ¥çœ‹"></a> è®¡ç®—é‡å’Œå‚æ•°é‡æŸ¥çœ‹</h3>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_40507857/article/details/118764782">https://blog.csdn.net/qq_40507857/article/details/118764782</a></p>
<h3 id="è¾“å…¥æ•°æ®å¯¹æ¨¡å‹çš„å‚æ•°é‡å’Œè®¡ç®—é‡çš„å½±å“"><a class="markdownIt-Anchor" href="#è¾“å…¥æ•°æ®å¯¹æ¨¡å‹çš„å‚æ•°é‡å’Œè®¡ç®—é‡çš„å½±å“"></a> è¾“å…¥æ•°æ®å¯¹æ¨¡å‹çš„å‚æ•°é‡å’Œè®¡ç®—é‡çš„å½±å“</h3>
<h1 id="tf-fp-fn-tn"><a class="markdownIt-Anchor" href="#tf-fp-fn-tn"></a> TF FP FN TN</h1>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/wzk4869/article/details/127879761">https://blog.csdn.net/wzk4869/article/details/127879761</a></p>
<img src="https://picx.zhimg.com/70/v2-895d6f8e80c0078c92244158dec97bfc_1440w.image?source=172ae18b&biz_tag=Post" alt="æ·±æŒ–ä¸€ä¸‹F1 score (F-measure, F-score)[æ ¹æ®å…¬å¼åˆ†æ]" style="zoom:50%;">
<h2 id="1-å‡†ç¡®ç‡precision"><a class="markdownIt-Anchor" href="#1-å‡†ç¡®ç‡precision"></a> 1 å‡†ç¡®ç‡ï¼ˆPrecisionï¼‰</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="2-å¬å›ç‡-recall"><a class="markdownIt-Anchor" href="#2-å¬å›ç‡-recall"></a> 2 å¬å›ç‡ (Recall)</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="ç›®æ ‡æ£€æµ‹çš„è¯„ä»·æŒ‡æ ‡"><a class="markdownIt-Anchor" href="#ç›®æ ‡æ£€æµ‹çš„è¯„ä»·æŒ‡æ ‡"></a> ç›®æ ‡æ£€æµ‹çš„è¯„ä»·æŒ‡æ ‡</h1>
<h2 id="1-iou"><a class="markdownIt-Anchor" href="#1-iou"></a> 1: IoU</h2>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="2-f1-score"><a class="markdownIt-Anchor" href="#2-f1-score"></a> 2: F1 Score</h2>
<p><strong>å®šä¹‰</strong>: F Score æ˜¯ Precision å’Œ Recall çš„è°ƒå’Œå¹³å‡æ•° (harmonic mean)</p>
<p><img src="/2025/03/14/2025%E5%B9%B43%E6%9C%8815%E6%97%A5-%E6%A8%A1%E5%9E%8B%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87/image-20250314011150884.png" alt="image-20250314011150884"></p>
<blockquote>
<p>Precision ä¸ Recall çœ‹èµ·æ¥å¾ˆç›¸ä¼¼ï¼Œå®é™…ä¸Šè¿™ä¸¤ä¸ªæ˜¯â€œå†¤å®¶â€ã€‚ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Ÿå› ä¸ºåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™ä¸¤è€…æœ‰ä¸€å®šçš„äº’æ–¥æ€§ã€‚****</p>
</blockquote>
<p><strong>ä½œç”¨:</strong></p>
<h2 id="å¹³å‡å‡†ç¡®åº¦-average-precisionap"><a class="markdownIt-Anchor" href="#å¹³å‡å‡†ç¡®åº¦-average-precisionap"></a> å¹³å‡å‡†ç¡®åº¦ (Average Precisionï¼ŒAP)</h2>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shakewely.github.io/2025/03/14/2025%E5%B9%B43%E6%9C%8815%E6%97%A5-%E6%A8%A1%E5%9E%8B%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87/" data-id="cm8q1tfhp000xpcv44db75i16" class="article-share-link">åˆ†äº«</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dl/" rel="tag">dl</a></li></ul>

    </footer>
  </div>
  
</article>




  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/4/">&amp;laquo; pre</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><a class="extend next" rel="next" href="/page/6/">next &amp;raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    <div class="widget-wrap">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <h1 class="blog-title">Weakliy_Blog</h1>
    <h2 class="blog-subtitle"></h2>
    <ul class="blog-link">
     
          <a href="/" title="Home">
            <li>ä¸»é¡µ</li>
          </a>
        
          <a href="/archives" title="Archives">
            <li>å½’æ¡£</li>
          </a>
        
          <a href="/categories" title="Categories">
            <li>åˆ†ç±»</li>
          </a>
        
          <a href="/tags" title="Tags">
            <li>æ ‡ç­¾</li>
          </a>
        
    </ul>
  </div>
</div>

  
    <div class="widget-wrap">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <img class="avatar" src="https://raw.githubusercontent.com/ShakeWeLy/Weakliy.github.io/main/%E5%A4%B4%E5%83%8F/mmexport1683194148817.png">
    <h2 class="author">Weakliy</h2>
    <h3 class="description"></h3>
    <div class="count-box">
      <a href="/archives"><div><strong>119</strong><br>æ–‡ç« </div></a>
      <a href="/categories"><div><strong>0</strong><br>åˆ†ç±»</div></a>
      <a href="/tags"><div><strong>34</strong><br>æ ‡ç­¾</div></a>
    </div>



    <div class="social-link">
      
        <a class="hvr-bounce-in" href="https://github.com/ShakeWeLy" target="_blank" title="Github">
          Github
        </a>
      
    </div>

    <div class="friend-link">
      <h2>è”ç³»æˆ‘</h2>
      
        <a class="hvr-bounce-in" href="https://github.com/ShakeWeLy" target="_blank" title="ShanaMaid">
          ShanaMaid
        </a>
      
    </div>
  </div>
</div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy;2024 - 2025 Weakliy<br>
      ç”±<a href="http://hexo.io/" target="_blank">Hexo</a>å¼ºåŠ›é©±åŠ¨ | 
      ä¸»é¢˜-<a target="_blank" rel="noopener" href="https://github.com/ShanaMaid/hexo-theme-shana">Shana</a>
      
    </div>
    
  </div>
</footer>
    </div>
    

<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="//apps.bdimg.com/libs/wow/0.1.6/wow.min.js"></script>
<script>
new WOW().init();
</script>   


  
<link rel="stylesheet" href="/plugin/fancybox/jquery.fancybox.css">

  
<script src="/plugin/fancybox/jquery.fancybox.pack.js"></script>




  
<link rel="stylesheet" href="/plugin/galmenu/GalMenu.css">

  
<script src="/plugin/galmenu/GalMenu.js"></script>

  <div class="GalMenu GalDropDown">
      <div class="circle" id="gal">
        <div class="ring">
          
            <a href="/" title="" class="menuItem">é¦–é¡µ</a>
          
            <a href="/tags" title="" class="menuItem">æ ‡ç­¾</a>
          
            <a href="/categories" title="" class="menuItem">åˆ†ç±»</a>
          
            <a href="/archives" title="" class="menuItem">æ€»è§ˆ</a>
          
            <a href="/xxxxxxxxx" title="" class="menuItem">xxx</a>
          
            <a href="/xxxxxxx" title="" class="menuItem">xxxx</a>
          
        </div>
        
          <audio id="audio" src="#"></audio>
        
      </div> 
</div>
<div id="overlay" style="opacity: 1; cursor: pointer;"></div>
  <script type="text/javascript">var items = document.querySelectorAll('.menuItem');
    for (var i = 0,
    l = items.length; i < l; i++) {
      items[i].style.left = (50 - 35 * Math.cos( - 0.5 * Math.PI - 2 * (1 / l) * i * Math.PI)).toFixed(4) + "%";
      items[i].style.top = (50 + 35 * Math.sin( - 0.5 * Math.PI - 2 * (1 / l) * i * Math.PI)).toFixed(4) + "%"
    }</script>
<script type="text/javascript">
  $(document).ready(function() {
    $('body').GalMenu({
      'menu': 'GalDropDown'
    })
  });
</script>

  <section class="hidden-xs"> 
  <ul class="cb-slideshow"> 
    <li><span>è‹Ÿåˆ©</span></li> 
    <li><span>å›½å®¶</span></li> 
    <li><span>ç”Ÿæ­»ä»¥</span></li> 
    <li><span>å²‚èƒ½</span></li> 
    <li><span>ç¥¸ç¦</span></li> 
    <li><span>è¶‹é¿ä¹‹</span></li> 
  </ul>
</section>

<script src="/js/script.js"></script>




  </div>
</body>
</html>