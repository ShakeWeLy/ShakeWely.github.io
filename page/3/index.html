<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Weakliy_Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Weakliy_Blog">
<meta property="og:url" content="https://shakewely.github.io/page/3/index.html">
<meta property="og:site_name" content="Weakliy_Blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Weakliy">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Weakliy_Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

  
<link rel="stylesheet" href="/plugin/bganimation/bg.css">

  

  <link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" rel="stylesheet" type="text/css">
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <div class="outer">
        <div class="widget-wrap mobile-header">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <img class="avatar" src="https://raw.githubusercontent.com/ShakeWeLy/Weakliy.github.io/main/%E5%A4%B4%E5%83%8F/mmexport1683194148817.png">
    <h2 class="author">Weakliy</h2>
    <h3 class="description"></h3>
    <div class="count-box">
      <a href="/archives"><div><strong>92</strong><br>æ–‡ç« </div></a>
      <a href="/categories"><div><strong>0</strong><br>åˆ†ç±»</div></a>
      <a href="/tags"><div><strong>29</strong><br>æ ‡ç­¾</div></a>
    </div>
    <ul class="blog-link">
     
          <a href="/" title="Home">
            <li>ä¸»é¡µ</li>
          </a>
        
          <a href="/archives" title="Archives">
            <li>å½’æ¡£</li>
          </a>
        
          <a href="/categories" title="Categories">
            <li>åˆ†ç±»</li>
          </a>
        
          <a href="/tags" title="Tags">
            <li>æ ‡ç­¾</li>
          </a>
        
    </ul>
  </div>
</div>

        <section id="main">
  
    <article id="post-2025å¹´3æœˆ15æ—¥-æ¨¡å‹è¯„ä»·æŒ‡æ ‡" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2025/03/14/2025%E5%B9%B43%E6%9C%8815%E6%97%A5-%E6%A8%A1%E5%9E%8B%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87/" class="article-date">
  <time class="post-time" datetime="2025-03-13T16:26:50.000Z" itemprop="datePublished">
    <span class="post-month">3æœˆ</span><br/>
    <span class="post-day">14</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2025/03/14/2025%E5%B9%B43%E6%9C%8815%E6%97%A5-%E6%A8%A1%E5%9E%8B%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87/">2025å¹´3æœˆ15æ—¥ æ¨¡å‹è¯„ä»·æŒ‡æ ‡</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="è®¡ç®—é‡ä¸å‚æ•°é‡"><a class="markdownIt-Anchor" href="#è®¡ç®—é‡ä¸å‚æ•°é‡"></a> è®¡ç®—é‡ä¸å‚æ•°é‡</h1>
<h2 id="1-å®šä¹‰"><a class="markdownIt-Anchor" href="#1-å®šä¹‰"></a> 1 å®šä¹‰</h2>
<ol>
<li>è®¡ç®—é‡-æ—¶é—´å¤æ‚åº¦  <strong>ä¹˜æ³•å’ŒåŠ å‘çš„æ“ä½œæ¬¡æ•°</strong></li>
<li>å‚æ•°é‡-ç©ºé—´å¤æ‚åº¦</li>
</ol>
<h3 id="å·ç§¯å±‚"><a class="markdownIt-Anchor" href="#å·ç§¯å±‚"></a> å·ç§¯å±‚</h3>
<p><strong>è®¡ç®—é‡</strong>: (KxKxWxH) x C_in x C_out</p>
<blockquote>
<p>W\H: è¾“å‡ºfeature map çš„size</p>
<p>å›å¿†å·ç§¯æ“ä½œè¿‡ç¨‹</p>
</blockquote>
<p><strong>å‚æ•°é‡</strong>: KxKxC_inxC_out</p>
<blockquote>
<p>å·ç§¯æ ¸çš„weight</p>
</blockquote>
<h3 id="æ± åŒ–å±‚"><a class="markdownIt-Anchor" href="#æ± åŒ–å±‚"></a> æ± åŒ–å±‚</h3>
<p><strong>è®¡ç®—é‡</strong>: ä¸åŒæ± åŒ–æ“ä½œä¸åŒ Cin x Cout x W x H x K xK</p>
<blockquote></blockquote>
<p><strong>å‚æ•°é‡</strong>  æ— </p>
<h3 id="å…¨è¿æ¥å±‚"><a class="markdownIt-Anchor" href="#å…¨è¿æ¥å±‚"></a> å…¨è¿æ¥å±‚</h3>
<p>å‚æ•°é‡ weight_in*weight_out</p>
<p>è®¡ç®—é‡ï¼ 2 x Cin x Cout</p>
<h3 id="batchnorm"><a class="markdownIt-Anchor" href="#batchnorm"></a> BatchNorm</h3>
<p>è®¡ç®—é‡: 4WHC</p>
<blockquote></blockquote>
<p>å‚æ•°é‡: 2C</p>
<blockquote>
<p>(y=ax+b) xC</p>
</blockquote>
<h3 id="æ¿€æ´»å‡½æ•°"><a class="markdownIt-Anchor" href="#æ¿€æ´»å‡½æ•°"></a> æ¿€æ´»å‡½æ•°</h3>
<p>è®¡ç®—é‡: HÃ—WÃ—C</p>
<blockquote>
<p>pathä¸ªæ•°</p>
</blockquote>
<h2 id="ç¡¬ä»¶éœ€æ±‚"><a class="markdownIt-Anchor" href="#ç¡¬ä»¶éœ€æ±‚"></a> ç¡¬ä»¶éœ€æ±‚</h2>
<p>è®¡ç®—é‡çš„è¦æ±‚æ˜¯åœ¨äºèŠ¯ç‰‡çš„__ï¼ˆæŒ‡çš„æ˜¯gpuçš„è¿ç®—èƒ½åŠ›ï¼‰</p>
<p>å‚æ•°é‡å–å†³äº__å¤§å°</p>
<h3 id="è®¡ç®—é‡å’Œå‚æ•°é‡æŸ¥çœ‹"><a class="markdownIt-Anchor" href="#è®¡ç®—é‡å’Œå‚æ•°é‡æŸ¥çœ‹"></a> è®¡ç®—é‡å’Œå‚æ•°é‡æŸ¥çœ‹</h3>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_40507857/article/details/118764782">https://blog.csdn.net/qq_40507857/article/details/118764782</a></p>
<h3 id="è¾“å…¥æ•°æ®å¯¹æ¨¡å‹çš„å‚æ•°é‡å’Œè®¡ç®—é‡çš„å½±å“"><a class="markdownIt-Anchor" href="#è¾“å…¥æ•°æ®å¯¹æ¨¡å‹çš„å‚æ•°é‡å’Œè®¡ç®—é‡çš„å½±å“"></a> è¾“å…¥æ•°æ®å¯¹æ¨¡å‹çš„å‚æ•°é‡å’Œè®¡ç®—é‡çš„å½±å“</h3>
<h1 id="tf-fp-fn-tn"><a class="markdownIt-Anchor" href="#tf-fp-fn-tn"></a> TF FP FN TN</h1>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/wzk4869/article/details/127879761">https://blog.csdn.net/wzk4869/article/details/127879761</a></p>
<img src="https://picx.zhimg.com/70/v2-895d6f8e80c0078c92244158dec97bfc_1440w.image?source=172ae18b&biz_tag=Post" alt="æ·±æŒ–ä¸€ä¸‹F1 score (F-measure, F-score)[æ ¹æ®å…¬å¼åˆ†æ]" style="zoom:50%;">
<h2 id="1-å‡†ç¡®ç‡precision"><a class="markdownIt-Anchor" href="#1-å‡†ç¡®ç‡precision"></a> 1 å‡†ç¡®ç‡ï¼ˆPrecisionï¼‰</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="2-å¬å›ç‡-recall"><a class="markdownIt-Anchor" href="#2-å¬å›ç‡-recall"></a> 2 å¬å›ç‡ (Recall)</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="ç›®æ ‡æ£€æµ‹çš„è¯„ä»·æŒ‡æ ‡"><a class="markdownIt-Anchor" href="#ç›®æ ‡æ£€æµ‹çš„è¯„ä»·æŒ‡æ ‡"></a> ç›®æ ‡æ£€æµ‹çš„è¯„ä»·æŒ‡æ ‡</h1>
<h2 id="1-iou"><a class="markdownIt-Anchor" href="#1-iou"></a> 1: IoU</h2>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="2-f1-score"><a class="markdownIt-Anchor" href="#2-f1-score"></a> 2: F1 Score</h2>
<p><strong>å®šä¹‰</strong>: F Score æ˜¯ Precision å’Œ Recall çš„è°ƒå’Œå¹³å‡æ•° (harmonic mean)</p>
<p><img src="/2025/03/14/2025%E5%B9%B43%E6%9C%8815%E6%97%A5-%E6%A8%A1%E5%9E%8B%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87/image-20250314011150884.png" alt="image-20250314011150884"></p>
<blockquote>
<p>Precision ä¸ Recall çœ‹èµ·æ¥å¾ˆç›¸ä¼¼ï¼Œå®é™…ä¸Šè¿™ä¸¤ä¸ªæ˜¯â€œå†¤å®¶â€ã€‚ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Ÿå› ä¸ºåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™ä¸¤è€…æœ‰ä¸€å®šçš„äº’æ–¥æ€§ã€‚****</p>
</blockquote>
<p><strong>ä½œç”¨:</strong></p>
<h2 id="å¹³å‡å‡†ç¡®åº¦-average-precisionap"><a class="markdownIt-Anchor" href="#å¹³å‡å‡†ç¡®åº¦-average-precisionap"></a> å¹³å‡å‡†ç¡®åº¦ (Average Precisionï¼ŒAP)</h2>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shakewely.github.io/2025/03/14/2025%E5%B9%B43%E6%9C%8815%E6%97%A5-%E6%A8%A1%E5%9E%8B%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87/" data-id="cm8q1tfhp000xpcv44db75i16" class="article-share-link">åˆ†äº«</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dl/" rel="tag">dl</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-2025å¹´3æœˆ12æ—¥-onnx5-ç®—å­" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2025/03/12/2025%E5%B9%B43%E6%9C%8812%E6%97%A5-onnx5-%E7%AE%97%E5%AD%90/" class="article-date">
  <time class="post-time" datetime="2025-03-12T14:42:57.000Z" itemprop="datePublished">
    <span class="post-month">3æœˆ</span><br/>
    <span class="post-day">12</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2025/03/12/2025%E5%B9%B43%E6%9C%8812%E6%97%A5-onnx5-%E7%AE%97%E5%AD%90/">2025å¹´3æœˆ12æ—¥ onnxé—®ç­”</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/zhaoyqcsdn/article/details/135512992%E3%80%81">https://blog.csdn.net/zhaoyqcsdn/article/details/135512992ã€</a></p>
<h1 id="1-ç®—å­ä¸å…¼å®¹"><a class="markdownIt-Anchor" href="#1-ç®—å­ä¸å…¼å®¹"></a> 1 ç®—å­ä¸å…¼å®¹</h1>
<p>onnxç®—å­æ˜¯å¦æ”¯æŒ<br>
<a target="_blank" rel="noopener" href="https://github.com/onnx/onnx/blob/main/docs/Operators.md">https://github.com/onnx/onnx/blob/main/docs/Operators.md</a></p>
<h2 id="11-pytorchä¸­æœ‰onnxä¸­ä¹Ÿæœ‰çš„ç®—å­"><a class="markdownIt-Anchor" href="#11-pytorchä¸­æœ‰onnxä¸­ä¹Ÿæœ‰çš„ç®—å­"></a> 1.1 pytorchä¸­æœ‰ï¼Œonnxä¸­ä¹Ÿæœ‰çš„ç®—å­</h2>
<h2 id="12-pytorchä¸­æœ‰onnxä¸­æ— çš„ç®—å­"><a class="markdownIt-Anchor" href="#12-pytorchä¸­æœ‰onnxä¸­æ— çš„ç®—å­"></a> 1.2 pytorchä¸­æœ‰ï¼Œonnxä¸­æ— çš„ç®—å­</h2>
<p>ç»§æ‰¿<code>torch.autograd.Function</code>å®ç°è‡ªå®šä¹‰ç®—å­</p>
<h3 id="1-æ¡ˆä¾‹ç¤ºä¾‹-focuså±‚çš„åˆ‡ç‰‡æ“ä½œ"><a class="markdownIt-Anchor" href="#1-æ¡ˆä¾‹ç¤ºä¾‹-focuså±‚çš„åˆ‡ç‰‡æ“ä½œ"></a> <strong>1 æ¡ˆä¾‹ç¤ºä¾‹</strong>ï¼š <code>Focus</code>å±‚çš„åˆ‡ç‰‡æ“ä½œ</h3>
<blockquote>
<p>é€šè¿‡å…¶ä»–å˜æ¢æ¥æ”¹æˆå…¼å®¹çš„ç®—å­</p>
</blockquote>
<p>åœ¨ç›®æ ‡æ£€æµ‹é¡¹ç›®ä¸­ï¼Œå°†PyTorchè®­ç»ƒçš„YOLOv5æ¨¡å‹è½¬æ¢ä¸ºONNXæ—¶ï¼Œéœ€å¤„ç†<code>Focus</code>å±‚çš„åˆ‡ç‰‡æ“ä½œå…¼å®¹æ€§é—®é¢˜ï¼Œé€šè¿‡é‡æ„ä¸º<code>Conv</code>å±‚è§£å†³ï¼Œå°†sizeå‡å°‘ä¸€åŠé€šé“æ•°å¢åŠ ä¸€å€</p>
<h3 id="2-å®é™…æ¡ˆä¾‹åŠ¨æ€åˆ‡ç‰‡é—®é¢˜"><a class="markdownIt-Anchor" href="#2-å®é™…æ¡ˆä¾‹åŠ¨æ€åˆ‡ç‰‡é—®é¢˜"></a> 2 <strong>å®é™…æ¡ˆä¾‹ï¼šåŠ¨æ€åˆ‡ç‰‡é—®é¢˜</strong></h3>
<p>é™æ€å›¾æ— æ³•å¤„ç†éšæœºæ€§</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># åŸå§‹PyTorchä»£ç ï¼ˆæ— æ³•å¯¼å‡ºï¼‰</span><br><span class="line">x_slice = x[:, :, start_idx:start_idx+10]</span><br><span class="line"></span><br><span class="line"># ä¿®æ”¹ä¸ºONNXå…¼å®¹æ–¹å¼</span><br><span class="line">indices = torch.arange(start_idx, start_idx+10, device=x.device)</span><br><span class="line">x_slice = torch.index_select(x, dim=2, index=indices)</span><br></pre></td></tr></table></figure>
<h3 id="3-æ¡ˆä¾‹ç¤ºä¾‹åˆ›å»ºæ–°çš„ç®—å­-æ‰‹åŠ¨å®ç°"><a class="markdownIt-Anchor" href="#3-æ¡ˆä¾‹ç¤ºä¾‹åˆ›å»ºæ–°çš„ç®—å­-æ‰‹åŠ¨å®ç°"></a> 3 æ¡ˆä¾‹ç¤ºä¾‹ï¼šåˆ›å»ºæ–°çš„ç®—å­ æ‰‹åŠ¨å®ç°</h3>
<blockquote>
<p>ä½¿ç”¨æ”¯æŒçš„æ“ä½œæ¥æ‰‹åŠ¨å®ç°ç®—å­</p>
</blockquote>
<ul>
<li>
<p>****ï¼šéƒ¨åˆ†æ¡†æ¶ç‰¹å®šæ“ä½œï¼ˆå¦‚PyTorchè‡ªå®šä¹‰å±‚ï¼‰éœ€æ›¿æ¢ä¸ºONNXæ ‡å‡†ç®—å­æˆ–è‡ªå®šä¹‰å®ç°ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.onnx</span><br><span class="line"><span class="keyword">from</span> torch.onnx <span class="keyword">import</span> register_custom_op_symbolic</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. å®šä¹‰è‡ªå®šä¹‰ç®—å­</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CustomRelu</span>(torch.autograd.Function):</span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">ctx, <span class="built_in">input</span></span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;å‰å‘ä¼ æ’­ï¼šè‡ªå®šä¹‰çš„ReLUæ“ä½œ&quot;&quot;&quot;</span></span><br><span class="line">        ctx.save_for_backward(<span class="built_in">input</span>)</span><br><span class="line">        <span class="keyword">return</span> torch.maximum(<span class="built_in">input</span>, torch.tensor(<span class="number">0.5</span>))  <span class="comment"># æ¯”æ™®é€šReLUå¤šäº†ä¸€ä¸ªåç§»</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">backward</span>(<span class="params">ctx, grad_output</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;åå‘ä¼ æ’­ï¼šReLUçš„æ¢¯åº¦è®¡ç®—&quot;&quot;&quot;</span></span><br><span class="line">        <span class="built_in">input</span>, = ctx.saved_tensors</span><br><span class="line">        grad_input = grad_output.clone()</span><br><span class="line">        grad_input[<span class="built_in">input</span> &lt; <span class="number">0.5</span>] = <span class="number">0</span>  <span class="comment"># ä½äº0.5çš„éƒ¨åˆ†æ¢¯åº¦ç½®é›¶</span></span><br><span class="line">        <span class="keyword">return</span> grad_input</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. åˆ›å»º ONNX è®¡ç®—å›¾ä¸­çš„ç®—å­</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">symbolic_custom_relu</span>(<span class="params">g, <span class="built_in">input</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;å®šä¹‰ ONNX è®¡ç®—å›¾ä¸­çš„ custom_relu&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> g.op(<span class="string">&quot;custom_domain::CustomRelu&quot;</span>, <span class="built_in">input</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. ç»‘å®š ONNX å¯¼å‡º</span></span><br><span class="line">register_custom_op_symbolic(<span class="string">&quot;::CustomRelu&quot;</span>, symbolic_custom_relu, <span class="number">11</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. ä½¿ç”¨è‡ªå®šä¹‰ç®—å­</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CustomModel</span>(torch.nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        <span class="keyword">return</span> CustomRelu.apply(x)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5. å®ä¾‹åŒ–æ¨¡å‹</span></span><br><span class="line">model = CustomModel()</span><br><span class="line">x = torch.randn(<span class="number">1</span>, <span class="number">3</span>, <span class="number">224</span>, <span class="number">224</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 6. å¯¼å‡ºä¸º ONNXï¼ˆç¡®ä¿ opset ç‰ˆæœ¬æ”¯æŒï¼‰</span></span><br><span class="line">torch.onnx.export(</span><br><span class="line">    model, x, <span class="string">&quot;custom_relu.onnx&quot;</span>,</span><br><span class="line">    opset_version=<span class="number">11</span>,</span><br><span class="line">    verbose=<span class="literal">True</span>,</span><br><span class="line">    operator_export_type=torch.onnx.OperatorExportTypes.ONNX</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="é—®é¢˜åŠ¨æ€batchæˆ–å¯å˜è¾“å…¥å°ºå¯¸å¯¼è‡´è½¬æ¢å¤±è´¥"><a class="markdownIt-Anchor" href="#é—®é¢˜åŠ¨æ€batchæˆ–å¯å˜è¾“å…¥å°ºå¯¸å¯¼è‡´è½¬æ¢å¤±è´¥"></a> <strong>é—®é¢˜</strong>ï¼šåŠ¨æ€Batchæˆ–å¯å˜è¾“å…¥å°ºå¯¸å¯¼è‡´è½¬æ¢å¤±è´¥ã€‚</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">torch.onnx.export(</span><br><span class="line">    model, dummy_input, &quot;yolov5_dynamic.onnx&quot;,</span><br><span class="line">    opset_version=11,</span><br><span class="line">    input_names=[&quot;input&quot;], output_names=[&quot;output&quot;],</span><br><span class="line">    dynamic_axes=&#123;</span><br><span class="line">        &quot;input&quot;: &#123;0: &quot;batch_size&quot;&#125;,   # è®© input çš„ batch ç»´åº¦ (dim=0) å˜ä¸ºåŠ¨æ€</span><br><span class="line">        &quot;output&quot;: &#123;0: &quot;batch_size&quot;&#125;   # è®© output çš„ batch ç»´åº¦ (dim=0) å˜ä¸ºåŠ¨æ€</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h1 id="2-å†™å ä½ç¬¦å·æ›¿æ¢ä¹±ä¸ƒå…«ç³Ÿçš„ç®—å­"><a class="markdownIt-Anchor" href="#2-å†™å ä½ç¬¦å·æ›¿æ¢ä¹±ä¸ƒå…«ç³Ÿçš„ç®—å­"></a> 2 å†™å ä½ç¬¦å·æ›¿æ¢ä¹±ä¸ƒå…«ç³Ÿçš„ç®—å­</h1>
<p><img src="/2025/03/12/2025%E5%B9%B43%E6%9C%8812%E6%97%A5-onnx5-%E7%AE%97%E5%AD%90/image-20250315101551480.png" alt="image-20250315101551480" style="zoom: 50%;"> <img src="/2025/03/12/2025%E5%B9%B43%E6%9C%8812%E6%97%A5-onnx5-%E7%AE%97%E5%AD%90/image-20250315101542696.png"></p>
<h2 id="ä»£ç æ€ä¹ˆå†™"><a class="markdownIt-Anchor" href="#ä»£ç æ€ä¹ˆå†™"></a> ä»£ç æ€ä¹ˆå†™</h2>
<h3 id="todo"><a class="markdownIt-Anchor" href="#todo"></a> TODO</h3>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shakewely.github.io/2025/03/12/2025%E5%B9%B43%E6%9C%8812%E6%97%A5-onnx5-%E7%AE%97%E5%AD%90/" data-id="cmanj8o23000dlcv4dnxrcuh0" class="article-share-link">åˆ†äº«</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/onnx/" rel="tag">onnx</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-2025å¹´3æœˆ12æ—¥-onnx4-å›¾ä¼˜åŒ–" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2025/03/12/2025%E5%B9%B43%E6%9C%8812%E6%97%A5-onnx4-%E5%9B%BE%E4%BC%98%E5%8C%96/" class="article-date">
  <time class="post-time" datetime="2025-03-12T14:14:32.000Z" itemprop="datePublished">
    <span class="post-month">3æœˆ</span><br/>
    <span class="post-day">12</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2025/03/12/2025%E5%B9%B43%E6%9C%8812%E6%97%A5-onnx4-%E5%9B%BE%E4%BC%98%E5%8C%96/">2025å¹´3æœˆ12æ—¥ onnx3</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="å›¾ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#å›¾ä¼˜åŒ–"></a> å›¾ä¼˜åŒ–</h1>
<h3 id="1"><a class="markdownIt-Anchor" href="#1"></a> 1</h3>
<p><img src="/2025/03/12/2025%E5%B9%B43%E6%9C%8812%E6%97%A5-onnx4-%E5%9B%BE%E4%BC%98%E5%8C%96/image-20250312222559294.png" alt="image-20250312222559294"></p>
<p><strong>å¼•æ“èƒ½å¤Ÿé’ˆå¯¹ç‰¹å®šç¡¬ä»¶è¿›è¡Œæ·±åº¦ä¼˜åŒ–ï¼Œå®ç°æœ€ä½³çš„æ€§èƒ½å’Œæ•ˆç‡</strong></p>
<p><img src="/2025/03/12/2025%E5%B9%B43%E6%9C%8812%E6%97%A5-onnx4-%E5%9B%BE%E4%BC%98%E5%8C%96/image-20250312224327684.png" alt="image-20250312224327684"></p>
<h3 id="3-æŸ¥çœ‹netronèŠ‚ç‚¹"><a class="markdownIt-Anchor" href="#3-æŸ¥çœ‹netronèŠ‚ç‚¹"></a> 3 æŸ¥çœ‹netronèŠ‚ç‚¹</h3>
<p>ONNXçš„optimizeræ¨¡å—æä¾›éƒ¨åˆ†å›¾ä¼˜åŒ–çš„åŠŸèƒ½ï¼Œä¾‹å¦‚æœ€å¸¸ç”¨çš„ï¼šfuse_bn_into_convï¼Œfuse_pad_into_convç­‰ç­‰ã€‚</p>
<p><img src="/2025/03/12/2025%E5%B9%B43%E6%9C%8812%E6%97%A5-onnx4-%E5%9B%BE%E4%BC%98%E5%8C%96/image-20250312232520596.png" alt="image-20250312232520596"></p>
<h3 id="2-ä¸ºä»€ä¹ˆéœ€è¦forward_fuse"><a class="markdownIt-Anchor" href="#2-ä¸ºä»€ä¹ˆéœ€è¦forward_fuse"></a> 2. ä¸ºä»€ä¹ˆéœ€è¦forward_fuseï¼Ÿ</h3>
<ul>
<li>
<p>forward_fuseé€šå¸¸ç”¨äºæŠŠå·ç§¯å’ŒBNå±‚åˆå¹¶ï¼Œæˆ–è€…æŠŠå¤šä¸ªå·ç§¯åˆ†æ”¯åˆå¹¶ï¼Œå‡å°‘è®¡ç®—é‡ï¼Œæé«˜æ¨ç†é€Ÿåº¦ã€‚</p>
</li>
<li>
<p>å¦‚æœä½ çš„æ¨¡å—æ²¡æœ‰BNå±‚ï¼Œæˆ–è€…ç»“æ„å¾ˆç®€å•ï¼Œä¸éœ€è¦åˆå¹¶ï¼Œä¹Ÿåº”è¯¥å®šä¹‰ä¸€ä¸ªforward_fuseï¼Œè®©å®ƒå’Œforwardä¸€æ ·ã€‚</p>
</li>
</ul>
<h3 id="4-onnxslim-æ¨¡å—æœªå®‰è£…ç®€åŒ–å¤±è´¥"><a class="markdownIt-Anchor" href="#4-onnxslim-æ¨¡å—æœªå®‰è£…ç®€åŒ–å¤±è´¥"></a> <code>4 onnxslim</code> æ¨¡å—æœªå®‰è£…ï¼Œç®€åŒ–å¤±è´¥</h3>
<h4 id="ç®€åŒ–-onnx-çš„ä¸»è¦ä½œç”¨"><a class="markdownIt-Anchor" href="#ç®€åŒ–-onnx-çš„ä¸»è¦ä½œç”¨"></a> âœ… ç®€åŒ– ONNX çš„ä¸»è¦ä½œç”¨ï¼š</h4>
<table>
<thead>
<tr>
<th>å¥½å¤„</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>ğŸ“¦ å‡å°‘æ¨¡å‹å¤§å°</td>
<td>å»é™¤å†—ä½™ç®—å­ä¸ä¸­é—´å˜é‡ï¼Œå‡å° <code>.onnx</code> æ–‡ä»¶å¤§å°</td>
</tr>
<tr>
<td>ğŸš€ åŠ é€Ÿæ¨ç†é€Ÿåº¦</td>
<td>ç®€åŒ–è®¡ç®—å›¾åï¼ŒONNX Runtime / TensorRT æ¨ç†æ›´å¿«</td>
</tr>
<tr>
<td>ğŸ”§ æé«˜å…¼å®¹æ€§</td>
<td>æŸäº›éƒ¨ç½²å¹³å°ï¼ˆå¦‚ OpenVINOã€MNNï¼‰å¯¹ç®€åŒ–åçš„æ¨¡å‹å…¼å®¹æ€§æ›´å¼º</td>
</tr>
<tr>
<td>ğŸ§© æ˜“äºå¯è§†åŒ–åˆ†æ</td>
<td>æ¨¡å‹ç»“æ„æ›´æ¸…æ™°ï¼Œåˆ©äºåœ¨ Netron ä¸­æŸ¥çœ‹å’Œç†è§£</td>
</tr>
</tbody>
</table>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shakewely.github.io/2025/03/12/2025%E5%B9%B43%E6%9C%8812%E6%97%A5-onnx4-%E5%9B%BE%E4%BC%98%E5%8C%96/" data-id="cmanj8o210008lcv42fxu34el" class="article-share-link">åˆ†äº«</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/onnx/" rel="tag">onnx</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-2025å¹´3æœˆ11æ—¥-yolov5-5-0è®­ç»ƒ" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2025/03/11/2025%E5%B9%B43%E6%9C%8811%E6%97%A5-yolov5-5-0%E8%AE%AD%E7%BB%83/" class="article-date">
  <time class="post-time" datetime="2025-03-11T03:59:58.000Z" itemprop="datePublished">
    <span class="post-month">3æœˆ</span><br/>
    <span class="post-day">11</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2025/03/11/2025%E5%B9%B43%E6%9C%8811%E6%97%A5-yolov5-5-0%E8%AE%AD%E7%BB%83/">2025å¹´3æœˆ11æ—¥ yolov5 5.0è®­ç»ƒ</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="sad"><a class="markdownIt-Anchor" href="#sad"></a> sad</h2>
<h2 id="æŠ¥é”™"><a class="markdownIt-Anchor" href="#æŠ¥é”™"></a> æŠ¥é”™</h2>
<p>åº“çš„ç‰ˆæœ¬è¦åŒ¹é…ä¸Š å¦åˆ™ä¼šå‡ºç°ä¸ç¡®å®šé”™è¯¯</p>
<ol>
<li>
<p>pydantic_core._pydantic_core.ValidationError: 1 validation error for Settings<br>
anonymous<br>
Input should be â€˜allowâ€™, â€˜mustâ€™ or â€˜neverâ€™ [type=literal_error, input_value=â€˜trueâ€™, input_type=str]<br>
For further information visit <a target="_blank" rel="noopener" href="https://errors.pydantic.dev/2.10/v/literal_error">https://errors.pydantic.dev/2.10/v/literal_error</a></p>
<p>å»ºè®®ï¼šwandb ä¸‹é™ç‰ˆæœ¬<code>pip install wandb==0.12.10</code></p>
</li>
<li>
<p>You are using <code>torch.load</code> with <code>weights_only=False</code> (the current default value), which uses the default pickle module implicitly. It is possible to construct malicious pickle data which will execute arbitrary code during unpickling</p>
<p>ä¿®æ”¹ä»£ç ä¸­åŠ è½½æ¨¡å‹æƒé‡çš„éƒ¨åˆ†</p>
<p><code> run_id = torch.load(weights, weights_only=True).get('wandb_id')  # æ·»åŠ weights_only=True</code></p>
</li>
<li>
<p>File â€œF:\Pydata\DL_NEW\YOLO\yolov5-5.0\utils\datasets.pyâ€, line 411, in <strong>init</strong><br>
bi = np.floor(np.arange(n) / batch_size).astype(np.int)  # batch index</p>
</li>
</ol>
<p><code>pip install numpy==1.22.4       # éƒ¨åˆ†æ–°åº“å…¼å®¹çš„ä¸­é—´ç‰ˆæœ¬</code></p>
<ol start="4">
<li>
<p>TypeError: Descriptors cannot be created directly.<br>
If this call came from a _pb2.py file, your generated code is out of date and must be regenerated with protoc &gt;= 3.19.0.<br>
If you cannot immediately regenerate your protos, some other possible workarounds are:</p>
<ol>
<li>Downgrade the protobuf package to 3.20.x or lower.</li>
<li>Set PROTOCOL_BUFFERS_PYTHON_IMPLEMENTATION=python (but this will use pure-Python parsing and will be much slower).</li>
</ol>
<p><code>pip install protobuf==3.20.1 </code></p>
</li>
<li>
<p>æ˜¯</p>
</li>
</ol>
<p>ä»£ç å‡ºç°çš„é—®é¢˜:</p>
<ol>
<li>
<p>æ‰‹åŠ¨æ·»åŠ SSFå±‚</p>
</li>
<li>
<p>ç¼ºå°‘logger</p>
<p>æ‰‹åŠ¨æ·»åŠ  <code>logger = logging.getLogger(__name__)</code></p>
</li>
<li></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shakewely.github.io/2025/03/11/2025%E5%B9%B43%E6%9C%8811%E6%97%A5-yolov5-5-0%E8%AE%AD%E7%BB%83/" data-id="cm8q1tfhp000upcv4f52t1sn8" class="article-share-link">åˆ†äº«</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/yolo/" rel="tag">yolo</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-2025å¹´3æœˆ10æ—¥-onnx3è¿›é˜¶ä½¿ç”¨ä¸å¸¸è§é—®é¢˜" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2025/03/10/2025%E5%B9%B43%E6%9C%8810%E6%97%A5-onnx3%E8%BF%9B%E9%98%B6%E4%BD%BF%E7%94%A8%E4%B8%8E%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/" class="article-date">
  <time class="post-time" datetime="2025-03-10T13:15:13.000Z" itemprop="datePublished">
    <span class="post-month">3æœˆ</span><br/>
    <span class="post-day">10</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2025/03/10/2025%E5%B9%B43%E6%9C%8810%E6%97%A5-onnx3%E8%BF%9B%E9%98%B6%E4%BD%BF%E7%94%A8%E4%B8%8E%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/">2025å¹´3æœˆ10æ—¥ onnx2</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li></li>
</ul>
<h2 id="å¯¼å‡ºæŠ¥é”™"><a class="markdownIt-Anchor" href="#å¯¼å‡ºæŠ¥é”™"></a> å¯¼å‡ºæŠ¥é”™</h2>
<p>Unsupported: ONNX export of convolution for kernel of unknown shapeâ€ï¼Œè¿™é€šå¸¸ä¸åŠ¨æ€å½¢çŠ¶æˆ–æ— æ³•æ¨æ–­çš„å·ç§¯æ ¸å°ºå¯¸æœ‰</p>
<ol>
<li>
<p>é™æ€åŒ–Reshapeæ“ä½œ</p>
</li>
<li>
<p>ä¿®å¤å¤šçº§èåˆçš„TracerWarning fused_cls = sum(w * c for w, c in zip(weights_cls, preds_cls))</p>
<p><code>sum(w * c for w, c in zip(...))</code>ä¸­çš„è¿­ä»£æ“ä½œä¼šè¢«PyTorchçš„JIT Tracerè¯†åˆ«ä¸ºåŠ¨æ€æ§åˆ¶æµï¼Œå¯¼è‡´ONNXå¯¼å‡ºæ—¶æ— æ³•ç”Ÿæˆé™æ€è®¡ç®—å›¾ã€‚è¿™ç§Pythonå±‚çš„è¿­ä»£æ“ä½œåœ¨æ¨¡å‹è·Ÿè¸ªé˜¶æ®µä¼šè¢«è§†ä¸ºæ½œåœ¨åŠ¨æ€è¡Œä¸ºï¼Œä»è€Œè§¦å‘TracerWarning</p>
</li>
</ol>
<h3 id="2-importerror-dll-load-failed-while-importing-onnx_cpp2py_export-åŠ¨æ€é“¾æ¥åº“dllåˆå§‹åŒ–ä¾‹ç¨‹å¤±è´¥"><a class="markdownIt-Anchor" href="#2-importerror-dll-load-failed-while-importing-onnx_cpp2py_export-åŠ¨æ€é“¾æ¥åº“dllåˆå§‹åŒ–ä¾‹ç¨‹å¤±è´¥"></a> 2 ImportError: DLL load failed while importing onnx_cpp2py_export: åŠ¨æ€é“¾æ¥åº“(DLL)åˆå§‹åŒ–ä¾‹ç¨‹å¤±è´¥ã€‚</h3>
<blockquote>
<p>é‡æ–°å®‰è£… onnx</p>
</blockquote>
<h2 id="ç»“æ„æŠ¥é”™"><a class="markdownIt-Anchor" href="#ç»“æ„æŠ¥é”™"></a> ç»“æ„æŠ¥é”™</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="1-ä¸ºä»€ä¹ˆå¯¼å‡ºçš„onnxä¼šæœ‰é‚£ä¹ˆå¤šidentityè¿™æ˜¯ä»€ä¹ˆæ€ä¹ˆæ¶ˆé™¤"><a class="markdownIt-Anchor" href="#1-ä¸ºä»€ä¹ˆå¯¼å‡ºçš„onnxä¼šæœ‰é‚£ä¹ˆå¤šidentityè¿™æ˜¯ä»€ä¹ˆæ€ä¹ˆæ¶ˆé™¤"></a> 1 ä¸ºä»€ä¹ˆå¯¼å‡ºçš„onnxä¼šæœ‰é‚£ä¹ˆå¤šIdentityï¼Œè¿™æ˜¯ä»€ä¹ˆï¼Œæ€ä¹ˆæ¶ˆé™¤</h3>
<p><img src="/2025/03/10/2025%E5%B9%B43%E6%9C%8810%E6%97%A5-onnx3%E8%BF%9B%E9%98%B6%E4%BD%BF%E7%94%A8%E4%B8%8E%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/image-20250310215555781.png" alt="image-20250310215555781"></p>
<ol>
<li><strong>æ•°æ®ä¼ é€’å ä½ç¬¦</strong> IdentityèŠ‚ç‚¹çš„æ ¸å¿ƒåŠŸèƒ½æ˜¯å°†è¾“å…¥å¼ é‡åŸæ ·è¾“å‡ºï¼Œä¸è¿›è¡Œä»»ä½•è®¡ç®—</li>
<li><strong>æ¡†æ¶è½¬æ¢æœºåˆ¶ç¼ºé™·</strong></li>
<li><strong>è‡ªå®šä¹‰ç®—å­å‰¯ä½œç”¨</strong></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shakewely.github.io/2025/03/10/2025%E5%B9%B43%E6%9C%8810%E6%97%A5-onnx3%E8%BF%9B%E9%98%B6%E4%BD%BF%E7%94%A8%E4%B8%8E%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/" data-id="cmanj8o1s0006lcv45hyj3669" class="article-share-link">åˆ†äº«</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/onnx/" rel="tag">onnx</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-2025å¹´3æœˆ10æ—¥-C-è®°å½•" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2025/03/10/2025%E5%B9%B43%E6%9C%8810%E6%97%A5-C-%E8%AE%B0%E5%BD%95/" class="article-date">
  <time class="post-time" datetime="2025-03-10T05:29:15.000Z" itemprop="datePublished">
    <span class="post-month">3æœˆ</span><br/>
    <span class="post-day">10</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2025/03/10/2025%E5%B9%B43%E6%9C%8810%E6%97%A5-C-%E8%AE%B0%E5%BD%95/">2025å¹´3æœˆ10æ—¥ C++è®°å½•</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="c"><a class="markdownIt-Anchor" href="#c"></a> âœ¨C++</h1>
<h2 id="åŸºç¡€çŸ¥è¯†"><a class="markdownIt-Anchor" href="#åŸºç¡€çŸ¥è¯†"></a> åŸºç¡€çŸ¥è¯†</h2>
<h3 id="1-å˜é‡ä½œç”¨åŸŸ"><a class="markdownIt-Anchor" href="#1-å˜é‡ä½œç”¨åŸŸ"></a> 1 å˜é‡ä½œç”¨åŸŸ</h3>
<ol>
<li>ä»€ä¹ˆæ˜¯å±€éƒ¨å˜é‡ â˜‘ï¸</li>
<li>ä»€ä¹ˆæ˜¯å…¨å±€å˜é‡ â˜‘ï¸</li>
<li>ä»€ä¹ˆæ˜¯å—ä½œç”¨åŸŸï¼Œå¦‚ä½•å®ç°ï¼Ÿ</li>
<li>ç±»ï¼Ÿ</li>
</ol>
<h3 id="2-å¸¸é‡"><a class="markdownIt-Anchor" href="#2-å¸¸é‡"></a> 2 å¸¸é‡ï¼Ÿ</h3>
<ol>
<li>å®šä¹‰ï¼Ÿ</li>
<li>å¦‚ä½•å®šä¹‰å¸¸é‡</li>
</ol>
<h3 id="3-ä¿®é¥°ç¬¦"><a class="markdownIt-Anchor" href="#3-ä¿®é¥°ç¬¦"></a> 3 ä¿®é¥°ç¬¦</h3>
<ol>
<li>
<p>ä¿®é¥°ç¬¦ç±»å‹</p>
</li>
<li>
<p>ç±»å‹é™å®šç¬¦ï¼šæ˜¯ä»€ä¹ˆï¼Ÿ</p>
<table>
<thead>
<tr>
<th>static</th>
<th>ç”¨äºå®šä¹‰é™æ€å˜é‡ï¼Œè¡¨ç¤ºè¯¥å˜é‡çš„ä½œç”¨åŸŸä»…é™äºå½“å‰æ–‡ä»¶æˆ–å½“å‰å‡½æ•°å†…ï¼Œä¸ä¼šè¢«å…¶ä»–æ–‡ä»¶æˆ–å‡½æ•°è®¿é—®ã€‚</th>
</tr>
</thead>
<tbody>
<tr>
<td>const</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</li>
<li></li>
</ol>
<h3 id="4-c-å­˜å‚¨ç±»"><a class="markdownIt-Anchor" href="#4-c-å­˜å‚¨ç±»"></a> 4 C++ å­˜å‚¨ç±»</h3>
<p>æ§åˆ¶å˜é‡å’Œå‡½æ•°ç”Ÿå‘½å‘¨æœŸåŠå¯è§æ€§çš„æ‰‹æ®µã€‚ï¼Ÿï¼Ÿï¼Ÿ</p>
<ul>
<li><strong>extern</strong> éƒ½æœ‰ä»€ä¹ˆç”¨ï¼Ÿå…¨å±€å˜é‡ï¼Œå…·æœ‰å¤–éƒ¨é“¾æ¥ï¼Œé»˜è®¤å­˜å‚¨ç±»ä¸ºextern</li>
<li><strong>auto</strong></li>
<li><strong>static</strong></li>
</ul>
<h3 id="5-è¿ç®—ç¬¦"><a class="markdownIt-Anchor" href="#5-è¿ç®—ç¬¦"></a> 5 è¿ç®—ç¬¦</h3>
<ul>
<li>
<p>é€»è¾‘è¿ç®—ç¬¦</p>
</li>
<li>
<h4 id="è¿ç®—ç¬¦ä¼˜å…ˆçº§"><a class="markdownIt-Anchor" href="#è¿ç®—ç¬¦ä¼˜å…ˆçº§"></a> è¿ç®—ç¬¦ä¼˜å…ˆçº§</h4>
</li>
</ul>
<h3 id="6-lambda-å‡½æ•°ä¸è¡¨è¾¾å¼"><a class="markdownIt-Anchor" href="#6-lambda-å‡½æ•°ä¸è¡¨è¾¾å¼"></a> 6 Lambda å‡½æ•°ä¸è¡¨è¾¾å¼</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[](int x, int y) -&gt; int &#123; int z = x + y; return z + x; &#125;</span><br></pre></td></tr></table></figure>
<p>é€’å½’+lamda</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">auto dfs = [&amp;](this auto&amp;&amp; dfs, int i, int j) -&gt; int &#123;   // é€’å½’é€»è¾‘  &#125;;</span><br></pre></td></tr></table></figure>
<h3 id="7-c-å¼•ç”¨"><a class="markdownIt-Anchor" href="#7-c-å¼•ç”¨"></a> 7 C++ å¼•ç”¨</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">int a = 10;</span><br><span class="line">int &amp;ref = a;  // ref æ˜¯ a çš„å¼•ç”¨</span><br></pre></td></tr></table></figure>
<ul>
<li><code>int &amp;ref</code> è¡¨ç¤º <code>ref</code> æ˜¯ä¸€ä¸ª <code>int</code> ç±»å‹çš„å¼•ç”¨ã€‚</li>
<li><code>ref</code> æ˜¯ <code>a</code> çš„åˆ«åï¼Œå¯¹ <code>ref</code> çš„æ“ä½œä¼šç›´æ¥ä½œç”¨äº <code>a</code>ã€‚</li>
</ul>
<h2 id="code-ç»†èŠ‚"><a class="markdownIt-Anchor" href="#code-ç»†èŠ‚"></a> code ç»†èŠ‚</h2>
<h4 id="1-è¶Šç•Œ"><a class="markdownIt-Anchor" href="#1-è¶Šç•Œ"></a> 1 è¶Šç•Œ</h4>
<ul>
<li><strong>å…ˆåˆ¤æ–­ç©ºæ ˆï¼Œå†å–æ ˆé¡¶å…ƒç´ </strong>ã€‚<code>if(val &lt; min_stack.back() || min_stack.empty())</code></li>
</ul>
<h2 id="std"><a class="markdownIt-Anchor" href="#std"></a> std</h2>
<h3 id="1-map-å’Œ-set"><a class="markdownIt-Anchor" href="#1-map-å’Œ-set"></a> 1 map å’Œ set</h3>
<table>
<thead>
<tr>
<th>ç‰¹ç‚¹</th>
<th>unordered_map</th>
</tr>
</thead>
<tbody>
<tr>
<td>å­˜å‚¨</td>
<td>é”®å€¼å¯¹ (key, value)</td>
</tr>
<tr>
<td>ä½¿ç”¨åœºæ™¯</td>
<td>éœ€è¦å­˜å‚¨é”®å€¼å¯¹ï¼Œä¾‹å¦‚ç»Ÿè®¡é¢‘ç‡ï¼Œæ˜ å°„å…³ç³»</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>å‡½æ•°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>map[key]</code></td>
<td>è®¿é—® / æ’å…¥å…ƒç´ ï¼Œè‹¥ key ä¸å­˜åœ¨ä¼šé»˜è®¤æ’å…¥ä¸€ä¸ªé»˜è®¤å€¼</td>
</tr>
<tr>
<td><code>map.at(key)</code></td>
<td>è®¿é—®å…ƒç´ ï¼Œkey ä¸å­˜åœ¨ä¼šæŠ›å¼‚å¸¸</td>
</tr>
<tr>
<td><code>map.insert(&#123;key, value&#125;)</code></td>
<td>æ’å…¥é”®å€¼å¯¹</td>
</tr>
<tr>
<td><code>map.emplace(key, value)</code></td>
<td>å°±åœ°æ„é€ ï¼Œæ•ˆç‡æ¯” <code>insert</code> æ›´é«˜</td>
</tr>
<tr>
<td><code>map.erase(key)</code></td>
<td>åˆ é™¤é”®ä¸º <code>key</code> çš„å…ƒç´ </td>
</tr>
<tr>
<td><code>map.clear()</code></td>
<td>æ¸…ç©ºæ‰€æœ‰å…ƒç´ </td>
</tr>
<tr>
<td><code>map.count(key)</code></td>
<td>åˆ¤æ–­ key æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨è¿”å› 1ï¼Œä¸å­˜åœ¨è¿”å› 0</td>
</tr>
<tr>
<td><code>map.find(key)</code></td>
<td>æŸ¥æ‰¾ keyï¼Œè¿”å›è¿­ä»£å™¨ï¼Œç­‰äº <code>map.end()</code> è¡¨ç¤ºæ²¡æ‰¾åˆ°</td>
</tr>
<tr>
<td><code>map.size()</code></td>
<td>è¿”å›å…ƒç´ ä¸ªæ•°</td>
</tr>
<tr>
<td><code>map.empty()</code></td>
<td>åˆ¤æ–­æ˜¯å¦ä¸ºç©º</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>å‡½æ•°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>set.insert(key)</code></td>
<td>æ’å…¥å…ƒç´ </td>
</tr>
<tr>
<td><code>set.emplace(key)</code></td>
<td>å°±åœ°æ„é€ ï¼Œæ•ˆç‡æ›´é«˜</td>
</tr>
<tr>
<td><code>set.erase(key)</code></td>
<td>åˆ é™¤å…ƒç´ </td>
</tr>
<tr>
<td><code>set.clear()</code></td>
<td>æ¸…ç©ºå…ƒç´ </td>
</tr>
<tr>
<td><code>set.count(key)</code></td>
<td>åˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨è¿”å› 1</td>
</tr>
<tr>
<td><code>set.find(key)</code></td>
<td>æŸ¥æ‰¾å…ƒç´ ï¼Œè¿”å›è¿­ä»£å™¨</td>
</tr>
<tr>
<td><code>set.size()</code></td>
<td>è¿”å›å…ƒç´ ä¸ªæ•°</td>
</tr>
<tr>
<td><code>set.empty()</code></td>
<td>åˆ¤æ–­æ˜¯å¦ä¸ºç©º</td>
</tr>
</tbody>
</table>
<h3 id="2-vector"><a class="markdownIt-Anchor" href="#2-vector"></a> 2 vector</h3>
<table>
<thead>
<tr>
<th>åŠŸèƒ½ç±»åˆ«</th>
<th>å‡½æ•°å</th>
<th>ä½œç”¨æè¿°</th>
<th>æ—¶é—´å¤æ‚åº¦</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>æ’å…¥</strong></td>
<td><code>push_back(val)</code></td>
<td>åœ¨ vector å°¾éƒ¨æ’å…¥å…ƒç´  <code>val</code></td>
<td><strong>æ‘Šé”€ O(1)</strong></td>
</tr>
<tr>
<td><strong>åˆ é™¤</strong></td>
<td><code>pop_back()</code></td>
<td>åˆ é™¤ vector å°¾éƒ¨å…ƒç´ </td>
<td><strong>O(1)</strong></td>
</tr>
<tr>
<td><strong>è®¿é—®</strong></td>
<td><code>back()</code></td>
<td>è¿”å› vector çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼ˆä¸åˆ é™¤ï¼‰</td>
<td><strong>O(1)</strong></td>
</tr>
<tr>
<td></td>
<td><code>front()</code></td>
<td>è¿”å› vector çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆä¸åˆ é™¤ï¼‰</td>
<td><strong>O(1)</strong></td>
</tr>
<tr>
<td></td>
<td><code>at(index)</code></td>
<td>è¿”å›æŒ‡å®šä¸‹æ ‡å…ƒç´ ï¼Œå¸¦è¾¹ç•Œæ£€æŸ¥</td>
<td><strong>O(1)</strong></td>
</tr>
<tr>
<td></td>
<td><code>operator[]</code></td>
<td>è¿”å›æŒ‡å®šä¸‹æ ‡å…ƒç´ ï¼ˆä¸å¸¦è¾¹ç•Œæ£€æŸ¥ï¼‰</td>
<td><strong>O(1)</strong></td>
</tr>
<tr>
<td><strong>çŠ¶æ€</strong></td>
<td><code>empty()</code></td>
<td>æ£€æŸ¥ vector æ˜¯å¦ä¸ºç©º</td>
<td><strong>O(1)</strong></td>
</tr>
<tr>
<td></td>
<td><code>size()</code></td>
<td>è¿”å› vector ä¸­å…ƒç´ ä¸ªæ•°</td>
<td><strong>O(1)</strong></td>
</tr>
<tr>
<td><strong>æ¸…ç©º</strong></td>
<td><code>clear()</code></td>
<td>æ¸…ç©º vector æ‰€æœ‰å…ƒç´ </td>
<td><strong>O(n)</strong></td>
</tr>
<tr>
<td><strong>å…¶ä»–</strong></td>
<td><code>resize(n)</code></td>
<td>è°ƒæ•´ vector å¤§å°ä¸º <code>n</code>ï¼Œé»˜è®¤å¡«å……å€¼ä¸ºé›¶</td>
<td><strong>O(n)</strong></td>
</tr>
<tr>
<td></td>
<td><code>reserve(n)</code></td>
<td>é¢„ç•™ç©ºé—´ï¼Œé¿å…å¤šæ¬¡æ‰©å®¹</td>
<td><strong>O(n)</strong></td>
</tr>
</tbody>
</table>
<h3 id="3-å­—ç¬¦ä¸²æ“ä½œå‡½æ•°"><a class="markdownIt-Anchor" href="#3-å­—ç¬¦ä¸²æ“ä½œå‡½æ•°"></a> 3ã€å­—ç¬¦ä¸²æ“ä½œå‡½æ•°</h3>
<table>
<thead>
<tr>
<th>å‡½æ•°</th>
<th>åŠŸèƒ½</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>s.length()</code> / <code>s.size()</code></td>
<td>å­—ç¬¦ä¸²é•¿åº¦</td>
<td></td>
</tr>
<tr>
<td><code>s.substr(pos, len)</code></td>
<td>å­ä¸²</td>
<td><code>s.substr(0, 3)</code></td>
</tr>
<tr>
<td><code>s.find(sub)</code></td>
<td>æŸ¥æ‰¾å­ä¸²ä½ç½®</td>
<td><code>s.find(&quot;abc&quot;)</code></td>
</tr>
<tr>
<td><code>s.rfind(sub)</code></td>
<td>åå‘æŸ¥æ‰¾å­ä¸²ä½ç½®</td>
<td></td>
</tr>
<tr>
<td><code>s.erase(pos, len)</code></td>
<td>åˆ é™¤å­ä¸²</td>
<td></td>
</tr>
<tr>
<td><code>s.insert(pos, sub)</code></td>
<td>æ’å…¥å­ä¸²</td>
<td></td>
</tr>
<tr>
<td><code>s.replace(pos, len, sub)</code></td>
<td>æ›¿æ¢å­ä¸²</td>
<td></td>
</tr>
<tr>
<td><code>reverse(s.begin(), s.end())</code></td>
<td>å­—ç¬¦ä¸²åè½¬</td>
<td></td>
</tr>
<tr>
<td><code>sort(s.begin(), s.end())</code></td>
<td>å­—ç¬¦ä¸²æ’åº</td>
<td></td>
</tr>
<tr>
<td><code>toupper(ch)</code> / <code>tolower(ch)</code></td>
<td>å­—ç¬¦å¤§å°å†™è½¬æ¢</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="4-æ•°å­—cmath"><a class="markdownIt-Anchor" href="#4-æ•°å­—cmath"></a> 4ã€æ•°å­—ï¼ˆ<cmath>`ï¼‰</cmath></h3>
<table>
<thead>
<tr>
<th>å‡½æ•°</th>
<th>åŠŸèƒ½</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>abs(x)</code></td>
<td>ç»å¯¹å€¼</td>
<td><code>abs(-3) // 3</code></td>
</tr>
<tr>
<td><code>pow(a, b)</code></td>
<td>å¹‚</td>
<td><code>pow(2, 3) // 8</code></td>
</tr>
<tr>
<td><code>sqrt(x)</code></td>
<td>å¼€æ–¹</td>
<td><code>sqrt(16) // 4</code></td>
</tr>
<tr>
<td><code>log(x)</code></td>
<td>è‡ªç„¶å¯¹æ•°</td>
<td></td>
</tr>
<tr>
<td><code>log10(x)</code></td>
<td>ä»¥ 10 ä¸ºåº•çš„å¯¹æ•°</td>
<td></td>
</tr>
<tr>
<td><code>ceil(x)</code></td>
<td>å‘ä¸Šå–æ•´</td>
<td><code>ceil(2.3) // 3</code></td>
</tr>
<tr>
<td><code>floor(x)</code></td>
<td>å‘ä¸‹å–æ•´</td>
<td><code>floor(2.7) // 2</code></td>
</tr>
<tr>
<td><code>round(x)</code></td>
<td>å››èˆäº”å…¥</td>
<td><code>round(2.5) // 3</code></td>
</tr>
<tr>
<td><code>max(a, b)</code> / <code>min(a, b)</code></td>
<td>æœ€å¤§/æœ€å°å€¼</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="5-ç®—æ³•algorithm"><a class="markdownIt-Anchor" href="#5-ç®—æ³•algorithm"></a> 5 ç®—æ³•ï¼ˆ<code>&lt;algorithm&gt;</code>ï¼‰</h3>
<table>
<thead>
<tr>
<th>å‡½æ•°</th>
<th>åŠŸèƒ½</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>sort(start, end)</code></td>
<td>æ’åº</td>
<td></td>
</tr>
<tr>
<td><code>reverse(start, end)</code></td>
<td>åè½¬</td>
<td></td>
</tr>
<tr>
<td><code>next_permutation(start, end)</code></td>
<td>ä¸‹ä¸€ä¸ªæ’åˆ—</td>
<td></td>
</tr>
<tr>
<td><code>prev_permutation(start, end)</code></td>
<td>ä¸Šä¸€ä¸ªæ’åˆ—</td>
<td></td>
</tr>
<tr>
<td><code>lower_bound(start, end, val)</code></td>
<td>äºŒåˆ†æŸ¥æ‰¾ï¼Œè¿”å› â‰¥val çš„é¦–å…ƒç´ è¿­ä»£å™¨</td>
<td></td>
</tr>
<tr>
<td><code>upper_bound(start, end, val)</code></td>
<td>äºŒåˆ†æŸ¥æ‰¾ï¼Œè¿”å› &gt;val çš„é¦–å…ƒç´ è¿­ä»£å™¨</td>
<td></td>
</tr>
<tr>
<td><code>count(start, end, val)</code></td>
<td>ç»Ÿè®¡å…ƒç´ å‡ºç°æ¬¡æ•°</td>
<td></td>
</tr>
<tr>
<td><code>find(start, end, val)</code></td>
<td>æŸ¥æ‰¾å…ƒç´ </td>
<td></td>
</tr>
<tr>
<td><code>accumulate(start, end, init)</code></td>
<td>å…ƒç´ ç´¯åŠ  (éœ€ <code>&lt;numeric&gt;</code>)</td>
<td></td>
</tr>
</tbody>
</table>
<h1 id="åŠ›æ‰£åˆ·é¢˜"><a class="markdownIt-Anchor" href="#åŠ›æ‰£åˆ·é¢˜"></a> ğŸš€åŠ›æ‰£åˆ·é¢˜</h1>
<h2 id="ç®—æ³•è®¾è®¡"><a class="markdownIt-Anchor" href="#ç®—æ³•è®¾è®¡"></a> ç®—æ³•è®¾è®¡</h2>
<h3 id="1-å¿«æ…¢æŒ‡é’ˆç®—æ³•"><a class="markdownIt-Anchor" href="#1-å¿«æ…¢æŒ‡é’ˆç®—æ³•"></a> 1 å¿«æ…¢æŒ‡é’ˆç®—æ³•</h3>
<ol>
<li>åˆ¤æ–­å¾ªç¯</li>
<li>éå†</li>
</ol>
<h3 id="2-è´ªå¿ƒç®—æ³•"><a class="markdownIt-Anchor" href="#2-è´ªå¿ƒç®—æ³•"></a> 2 è´ªå¿ƒç®—æ³•</h3>
<ol>
<li>ä¸€èˆ¬ç”¨åœ¨æœ‰costçš„</li>
</ol>
<h3 id="3-åŠ¨æ€è§„åˆ’"><a class="markdownIt-Anchor" href="#3-åŠ¨æ€è§„åˆ’"></a> 3 åŠ¨æ€è§„åˆ’</h3>
<ol>
<li>åé¢çš„å‰é¢å·²ç»è§£å†³è¿‡äº†// é‡åé¢å¼€å§‹ç®—èµ·ï¼Œç®€å•çš„ç®—èµ·</li>
<li>èƒŒåŒ…é—®é¢˜ çˆ¬æ¥¼æ¢¯</li>
<li>æ»šåŠ¨æ•°ç»„</li>
<li>é€’å½’ã€æšä¸¾åˆ¤æ–­åˆå§‹æ¡ä»¶æ˜¯å¦æ­£ç¡®ã€‘â€“&gt; å˜æˆåŠ¨æ€è§„åˆ’  å­˜å‚¨å‰çŠ¶æ€å˜é‡</li>
</ol>
<h3 id="4-æ»‘åŠ¨çª—å£æ€æƒ³æ€»ç»“"><a class="markdownIt-Anchor" href="#4-æ»‘åŠ¨çª—å£æ€æƒ³æ€»ç»“"></a> 4 æ»‘åŠ¨çª—å£æ€æƒ³æ€»ç»“</h3>
<p><strong>æ ¸å¿ƒæ€æƒ³ï¼š</strong><br>
æ»‘åŠ¨çª—å£æ˜¯ä¸€ç§é«˜æ•ˆè§£å†³ã€Œå­æ•°ç»„ / å­åŒºé—´ / å­ä¸²ã€é—®é¢˜çš„æŠ€å·§ï¼Œ</p>
<p>ç»´æŠ¤çª—å£å¤§å°ï¼Œç¼©å°å½“å‰ç»´æŠ¤ä¸æ‰©å±•çª—å£</p>
<p>é€šå¸¸ç”¨äºï¼š</p>
<ul>
<li><strong>è¿ç»­å­åºåˆ—</strong>ï¼šæ¯”å¦‚æœ€é•¿ä¸é‡å¤å­ä¸²ã€å­æ•°ç»„å’Œç­‰ã€‚</li>
<li></li>
</ul>
<h3 id="5-ç”¨æ ˆè¿½æº¯"><a class="markdownIt-Anchor" href="#5-ç”¨æ ˆè¿½æº¯"></a> 5 ç”¨æ ˆè¿½æº¯</h3>
<h3 id="5-é“¾è¡¨"><a class="markdownIt-Anchor" href="#5-é“¾è¡¨"></a> 5 é“¾è¡¨</h3>
<ol>
<li>å‘€èŠ‚ç‚¹ é¿å…nullptrçš„åˆ¤æ–­ <code>return dummy-&gt;next</code> å³å¯</li>
</ol>
<h2 id="æ—¥æœŸè®°å½•"><a class="markdownIt-Anchor" href="#æ—¥æœŸè®°å½•"></a> ğŸŒæ—¥æœŸè®°å½•</h2>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shakewely.github.io/2025/03/10/2025%E5%B9%B43%E6%9C%8810%E6%97%A5-C-%E8%AE%B0%E5%BD%95/" data-id="cm8q1tfhn000ppcv4eds1bem1" class="article-share-link">åˆ†äº«</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/" rel="tag">C++</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-2025å¹´3æœˆ7æ—¥-lossæ±‡æ€»" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2025/03/06/2025%E5%B9%B43%E6%9C%887%E6%97%A5-loss%E6%B1%87%E6%80%BB/" class="article-date">
  <time class="post-time" datetime="2025-03-06T04:44:46.000Z" itemprop="datePublished">
    <span class="post-month">3æœˆ</span><br/>
    <span class="post-day">06</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2025/03/06/2025%E5%B9%B43%E6%9C%887%E6%97%A5-loss%E6%B1%87%E6%80%BB/">2025å¹´3æœˆ7æ—¥ lossæ±‡æ€»</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://shakewely.github.io/2025/03/06/2025%E5%B9%B43%E6%9C%887%E6%97%A5-loss%E6%B1%87%E6%80%BB/" data-id="cm8q1tfhy001cpcv43gu2ejcs" class="article-share-link">åˆ†äº«</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-2025å¹´3æœˆ6æ—¥-å¤šå°ºåº¦ç‰¹å¾" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2025/03/06/2025%E5%B9%B43%E6%9C%886%E6%97%A5-%E5%A4%9A%E5%B0%BA%E5%BA%A6%E7%89%B9%E5%BE%81/" class="article-date">
  <time class="post-time" datetime="2025-03-06T02:22:16.000Z" itemprop="datePublished">
    <span class="post-month">3æœˆ</span><br/>
    <span class="post-day">06</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2025/03/06/2025%E5%B9%B43%E6%9C%886%E6%97%A5-%E5%A4%9A%E5%B0%BA%E5%BA%A6%E7%89%B9%E5%BE%81/">2025å¹´3æœˆ6æ—¥ å¤šå°ºåº¦ç‰¹å¾</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="æ··åˆç‰¹å¾å­¦ä¹ feature-fusion"><a class="markdownIt-Anchor" href="#æ··åˆç‰¹å¾å­¦ä¹ feature-fusion"></a> æ··åˆç‰¹å¾å­¦ä¹ ï¼ˆFeature Fusionï¼‰</h1>
<p><strong>æ··åˆç‰¹å¾å­¦ä¹ ï¼ˆFeature Fusionï¼‰</strong> æ˜¯æŒ‡å°†æ¥è‡ªä¸åŒæ¥æºæˆ–ä¸åŒå°ºåº¦çš„ç‰¹å¾ä¿¡æ¯ç»“åˆåœ¨ä¸€èµ·ï¼Œä»è€Œæå‡æ·±åº¦å­¦ä¹ æ¨¡å‹çš„è¡¨è¾¾èƒ½åŠ›ã€‚å¸¸è§çš„ç‰¹å¾èåˆæ–¹æ³•åŒ…æ‹¬ åŠ æƒèåˆï¼ˆWeighted Fusionï¼‰ å’Œ çº§è”èåˆï¼ˆConcatenation Fusionï¼‰ã€‚</p>
<ol>
<li>
<p><strong>åŠ æƒèåˆï¼ˆWeighted Fusionï¼‰</strong><br>
åŠ æƒèåˆæ˜¯ä¸€ç§<strong>å°†å¤šä¸ªç‰¹å¾å›¾è¿›è¡ŒåŠ æƒåˆå¹¶</strong>çš„æ–¹å¼ã€‚ä¸åŒæ¥æºæˆ–ä¸åŒå°ºåº¦çš„ç‰¹å¾å›¾æŒ‰ç…§ä¸€å®šçš„æƒé‡åŠ æƒååˆå¹¶ï¼Œä»è€Œçªå‡ºé‡è¦çš„ç‰¹å¾ã€‚</p>
</li>
<li>
<p><strong>çº§è”èåˆï¼ˆConcatenation Fusionï¼‰</strong><br>
çº§è”èåˆæ˜¯å°†å¤šä¸ªç‰¹å¾å›¾åœ¨<strong>æŸä¸€ç»´åº¦ï¼ˆé€šå¸¸æ˜¯é€šé“ç»´åº¦ï¼‰ä¸Šæ‹¼æ¥</strong>èµ·æ¥ã€‚çº§è”èåˆçš„ä¼˜åŠ¿æ˜¯å®ƒä¸ä¼šä¸¢å¤±ä»»ä½•ä¿¡æ¯ï¼Œæ‰€æœ‰ç‰¹å¾å›¾éƒ½è¢«ä¿ç•™ä¸‹æ¥ï¼Œè™½ç„¶æ‹¼æ¥åçš„ç‰¹å¾å›¾ä¼šå˜å¾—æ›´åŠ åºå¤§ã€‚</p>
</li>
</ol>
<h2 id="å¤šå°ºåº¦å·ç§¯ç¥ç»ç½‘ç»œms-cnn"><a class="markdownIt-Anchor" href="#å¤šå°ºåº¦å·ç§¯ç¥ç»ç½‘ç»œms-cnn"></a> <strong>å¤šå°ºåº¦å·ç§¯ç¥ç»ç½‘ç»œï¼ˆMS-CNNï¼‰</strong></h2>
<p>é€šè¿‡å°†å›¾åƒ<strong>è¾“å…¥å¤šä¸ªå·ç§¯å±‚æˆ–å·ç§¯æ ¸ä»¥ä¸åŒçš„å°ºåº¦å¤„ç†ï¼Œå¯ä»¥è®©æ¨¡å‹åŒæ—¶æ•è·åˆ°ä¸åŒå°ºå¯¸çš„ç‰¹å¾</strong></p>
<h3 id="åŸç†"><a class="markdownIt-Anchor" href="#åŸç†"></a> åŸç†</h3>
<p><strong>MS-CNN</strong> é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼æ¥å®ç°å¤šå°ºåº¦ç‰¹å¾æå–ï¼š</p>
<ul>
<li><strong>ä½¿ç”¨å¤šä¸ªå·ç§¯æ ¸ï¼šä¸åŒçš„å·ç§¯æ ¸ï¼ˆå¤§å°ã€æ­¥é•¿ç­‰ï¼‰å¯ä»¥æå–ä¸åŒå°ºåº¦çš„ç‰¹å¾ã€‚</strong></li>
<li><strong>å¤šå±‚æ¬¡ç½‘ç»œç»“æ„ï¼šä¸åŒçš„å±‚æ¬¡ä½¿ç”¨ä¸åŒå°ºåº¦çš„å·ç§¯æ“ä½œæ¥å¤„ç†è¾“å…¥å›¾åƒï¼Œä»è€Œæå–å¤šå°ºåº¦ä¿¡æ¯ã€‚</strong></li>
<li><strong>è¾“å…¥å›¾åƒçš„å¤šå°ºåº¦å¤„ç†ï¼šå°†åŒä¸€å¼ å›¾åƒé€šè¿‡ä¸åŒå°ºåº¦ï¼ˆä¾‹å¦‚ä¸åŒçš„å›¾åƒç¼©æ”¾æ¯”ä¾‹ï¼‰è¿›è¡Œå¤„ç†ï¼Œç»“åˆå¤šä¸ªå°ºåº¦çš„ç‰¹å¾ã€‚</strong></li>
</ul>
<h3 id="å®ç°"><a class="markdownIt-Anchor" href="#å®ç°"></a> å®ç°</h3>
<ol>
<li>ä½¿ç”¨åˆé€‚çš„å¡«å……å’Œæ­¥é•¿ï¼Œç¡®ä¿ä¸åŒå·ç§¯æ ¸æå–çš„ç‰¹å¾å›¾åœ¨ç©ºé—´ç»´åº¦ä¸Šä¸€è‡´ã€‚</li>
<li>åœ¨é€šé“ç»´åº¦ä¸Šæ‹¼æ¥ç‰¹å¾å›¾ï¼Œé¿å…ç©ºé—´ç»´åº¦çš„å˜åŒ–ã€‚</li>
<li>ä½¿ç”¨1Ã—1å·ç§¯è¿›è¡Œç‰¹å¾èåˆï¼Œè¿›ä¸€æ­¥æ•´åˆå¤šå°ºåº¦ä¿¡æ¯ã€‚</li>
<li>ä½¿ç”¨å…¨å±€æ± åŒ–å°†ç‰¹å¾å›¾è°ƒæ•´ä¸ºå›ºå®šå°ºå¯¸ï¼Œç¡®ä¿è¾“å‡ºçš„ä¸€è‡´æ€§</li>
</ol>
<h2 id="ç©ºé—´é‡‘å­—å¡”æ± åŒ–spatial-pyramid-pooling-spp"><a class="markdownIt-Anchor" href="#ç©ºé—´é‡‘å­—å¡”æ± åŒ–spatial-pyramid-pooling-spp"></a> ç©ºé—´é‡‘å­—å¡”æ± åŒ–ï¼ˆSpatial Pyramid Pooling, SPPï¼‰</h2>
<h3 id="åŸç†-2"><a class="markdownIt-Anchor" href="#åŸç†-2"></a> åŸç†</h3>
<p>åœ¨å¤šä¸ªå°ºåº¦ä¸Šæå–ç‰¹å¾</p>
<ul>
<li><strong>åˆ’åˆ†ä¸åŒå¤§å°çš„ç½‘æ ¼</strong>ï¼šå°†è¾“å…¥ç‰¹å¾å›¾åˆ’åˆ†ä¸ºå¤šä¸ªä¸åŒå°ºå¯¸çš„å­åŒºåŸŸï¼ˆä¾‹å¦‚ï¼Œ1x1ã€2x2ã€4x4ç­‰ï¼‰ã€‚</li>
<li><strong>åœ¨æ¯ä¸ªå­åŒºåŸŸä¸Šæ‰§è¡Œæ± åŒ–æ“ä½œ</strong>ï¼šå¯¹æ¯ä¸ªå­åŒºåŸŸä½¿ç”¨æ± åŒ–æ“ä½œï¼ˆå¦‚æœ€å¤§æ± åŒ–æˆ–å¹³å‡æ± åŒ–ï¼‰ï¼Œç”Ÿæˆä¸åŒå°ºåº¦ä¸‹çš„ç‰¹å¾ã€‚</li>
<li><strong>æ‹¼æ¥æ± åŒ–ç»“æœ</strong>ï¼šå°†æ‰€æœ‰å°ºåº¦ä¸Šçš„æ± åŒ–ç»“æœ<strong>å±•å¹³å¹¶</strong>æ‹¼æ¥æˆä¸€ä¸ªå‘é‡ï¼Œä½œä¸ºæœ€ç»ˆçš„ç‰¹å¾è¡¨ç¤ºã€‚</li>
</ul>
<h2 id="å¤šå°ºåº¦æ³¨æ„åŠ›æœºåˆ¶multi-scale-attention-mechanism"><a class="markdownIt-Anchor" href="#å¤šå°ºåº¦æ³¨æ„åŠ›æœºåˆ¶multi-scale-attention-mechanism"></a> å¤šå°ºåº¦æ³¨æ„åŠ›æœºåˆ¶ï¼ˆMulti-Scale Attention Mechanismï¼‰</h2>
<h3 id="åŸç†-3"><a class="markdownIt-Anchor" href="#åŸç†-3"></a> åŸç†</h3>
<p>é€šè¿‡æ³¨æ„åŠ›æœºåˆ¶å¯¹å›¾åƒçš„ä¸åŒå°ºåº¦æˆ–åŒºåŸŸè¿›è¡Œ<strong>åŠ æƒ</strong>ï¼Œå¸®åŠ©ç½‘ç»œèšç„¦äºå…³é”®åŒºåŸŸï¼Œä»è€Œæ›´æœ‰æ•ˆåœ°æå–ç‰¹å¾çš„æ–¹æ³•</p>
<h3 id="å®ç°-2"><a class="markdownIt-Anchor" href="#å®ç°-2"></a> å®ç°</h3>
<h4 id="non-local-attention"><a class="markdownIt-Anchor" href="#non-local-attention"></a> <strong>Non-local Attention</strong></h4>
<h4 id="squeeze-and-excitation-networks-se-net"><a class="markdownIt-Anchor" href="#squeeze-and-excitation-networks-se-net"></a> Squeeze-and-Excitation Networks (SE-Net)</h4>
<p>SE-Netï¼‰æ˜¯ä¸€ç§é€šè¿‡å¼•å…¥è‡ªé€‚åº”çš„<strong>é€šé“æ³¨æ„åŠ›æœºåˆ¶</strong>æ¥æå‡æ¨¡å‹æ€§èƒ½çš„ç½‘ç»œã€‚å®ƒé€šè¿‡â€œå‹ç¼©â€å’Œâ€œæ¿€åŠ±â€ä¸¤ä¸ªæ“ä½œæ¥å¯¹ä¸åŒé€šé“çš„ç‰¹å¾è¿›è¡ŒåŠ æƒï¼Œä½¿å¾—ç½‘ç»œèƒ½å¤Ÿè‡ªé€‚åº”åœ°å­¦ä¹ å“ªäº›é€šé“å¯¹ç‰¹å®šä»»åŠ¡æ›´ä¸ºé‡è¦ã€‚</p>
<h5 id="åŸç†-4"><a class="markdownIt-Anchor" href="#åŸç†-4"></a> åŸç†</h5>
<ul>
<li><strong>Squeezeï¼šé€šè¿‡å…¨å±€å¹³å‡æ± åŒ–ï¼ˆGlobal Average Poolingï¼‰ï¼Œå°†æ¯ä¸ªé€šé“çš„ç©ºé—´ä¿¡æ¯å‹ç¼©æˆä¸€ä¸ªæ ‡é‡ã€‚</strong></li>
<li><strong>Excitationï¼šé€šè¿‡ä¸€ä¸ªå…¨è¿æ¥å±‚ï¼ˆæˆ–è€…æ›´æ·±çš„ç½‘ç»œï¼‰ç”Ÿæˆé€šé“çš„æƒé‡ï¼Œè¿™äº›æƒé‡ç”¨äºè°ƒæ•´æ¯ä¸ªé€šé“çš„ç‰¹å¾å“åº”ã€‚</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nn.AdaptiveAvgPool2d(1)</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shakewely.github.io/2025/03/06/2025%E5%B9%B43%E6%9C%886%E6%97%A5-%E5%A4%9A%E5%B0%BA%E5%BA%A6%E7%89%B9%E5%BE%81/" data-id="cm8q1tfhr0013pcv4fmixa517" class="article-share-link">åˆ†äº«</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dl/" rel="tag">dl</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-2025å¹´3æœˆ6æ—¥-å¤šå°ºåº¦è®­ç»ƒ" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2025/03/06/2025%E5%B9%B43%E6%9C%886%E6%97%A5-%E5%A4%9A%E5%B0%BA%E5%BA%A6%E8%AE%AD%E7%BB%83/" class="article-date">
  <time class="post-time" datetime="2025-03-06T01:50:49.000Z" itemprop="datePublished">
    <span class="post-month">3æœˆ</span><br/>
    <span class="post-day">06</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2025/03/06/2025%E5%B9%B43%E6%9C%886%E6%97%A5-%E5%A4%9A%E5%B0%BA%E5%BA%A6%E8%AE%AD%E7%BB%83/">2025å¹´3æœˆ6æ—¥ å¤šå°ºåº¦è®­ç»ƒ</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="/2025/03/06/2025%E5%B9%B43%E6%9C%886%E6%97%A5-%E5%A4%9A%E5%B0%BA%E5%BA%A6%E8%AE%AD%E7%BB%83/image-20250306095133429.png" alt="image-20250306095133429"></p>
<h2 id="å…¨å·ç§¯"><a class="markdownIt-Anchor" href="#å…¨å·ç§¯"></a> å…¨å·ç§¯</h2>
<p>é™¤äº†æœ€åçš„åˆ†ç±»å±‚æ˜¯å…¨è¿æ¥å±‚ï¼Œè€Œç‰¹å¾æå–éƒ¨åˆ†éƒ½æ˜¯å·ç§¯æˆ–è€…æ± åŒ–æ“ä½œï¼Œå®ƒä»¬å¯ä»¥è‡ªé€‚åº”å„ç§å°ºå¯¸çš„å›¾åƒè¾“å…¥ã€‚</p>
<h2 id="spp-net"><a class="markdownIt-Anchor" href="#spp-net"></a> SPP-Net</h2>
<p>ç°æœ‰çš„ï¼ˆä¼ ç»Ÿçš„ï¼‰ CNNs ç”±äºæœ‰å…¨è¿æ¥å±‚æ‰€ä»¥å¿…é¡»éœ€è¦å›ºå®šè¾“å…¥å›¾ç‰‡çš„å°ºå¯¸ï¼Œæ¯”å¦‚ 224 Ã— 224 ã€‚æœ¬æ–‡ä¸ºä¼ ç»Ÿçš„ç½‘ç»œç»“æ„å¢åŠ äº†ä¸€ä¸ªæ± åŒ–ç­–ç•¥ï¼Œå³ç©ºé—´é‡‘å­—å¡”æ± åŒ–ï¼Œæ¥çªç ´å…¨è¿æ¥å±‚å¯¹æ•´ä¸ªç½‘ç»œè¾“å…¥å›¾åƒçš„çº¦æŸã€‚æ— è®ºè¾“å…¥å›¾åƒçš„å°ºå¯¸æ˜¯å¤šå°‘ï¼ŒSPP-Net èƒ½å¤Ÿäº§ç”Ÿä¸€ä¸ªå›ºå®šé•¿åº¦çš„ç‰¹å¾å‘é‡ï¼Œä¸”èƒ½å¤Ÿé€‚åº”å½¢å˜ï¼Œåœ¨åˆ†ç±»å’Œç‰©ä½“æ£€æµ‹ä»»åŠ¡ä¸­éƒ½æœ‰å¾ˆå¥½çš„è¡¨ç°</p>
<h3 id="ç©ºé—´é‡‘å­—å¡”æ± åŒ–-spatial-pyramid-pooling"><a class="markdownIt-Anchor" href="#ç©ºé—´é‡‘å­—å¡”æ± åŒ–-spatial-pyramid-pooling"></a> ç©ºé—´é‡‘å­—å¡”æ± åŒ– spatial pyramid pooling</h3>
<p>ç”¨äºè§£å†³ä¼ ç»Ÿå·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰ä¸­è¾“å…¥å›¾åƒå°ºå¯¸å¿…é¡»å›ºå®šçš„é—®é¢˜ã€‚é€šè¿‡å°†ç‰¹å¾å›¾åˆ’åˆ†ä¸ºä¸åŒç²’åº¦çš„åŒºåŸŸï¼Œå¹¶å¯¹æ¯ä¸ªåŒºåŸŸè¿›è¡Œæ± åŒ–æ“ä½œï¼ŒSPPèƒ½å¤Ÿç”Ÿæˆå›ºå®šé•¿åº¦çš„ç‰¹å¾å‘é‡ï¼Œä»è€Œå…è®¸ç½‘ç»œå¤„ç†ä»»æ„å°ºå¯¸çš„è¾“å…¥å›¾åƒ</p>
<p>ç©ºé—´é‡‘å­—å¡”æ± åŒ–çš„åŠ å…¥ï¼Œä½¿å¾—æ¨¡å‹åœ¨é¢„æµ‹/æµ‹è¯•æ—¶å¯ä»¥ä¸é™å®šè¾“å…¥å›¾åƒçš„å¤§å°ï¼ŒåŒæ—¶åœ¨è®­ç»ƒé˜¶æ®µï¼Œä¹Ÿå…è®¸æ¨¡å‹å®ç°å¤šå°ºåº¦è®­ç»ƒï¼Œè¿™ä¸€ç‚¹å¾ˆæœ‰åˆ©äºå¢å¼ºå°ºåº¦ä¸å˜æ€§å¹¶é™ä½è¿‡æ‹Ÿåˆçš„é£é™©ã€‚</p>
<p><strong>è¾“å…¥ç‰¹å¾å›¾çš„å°ºå¯¸æ— å…³ï¼Œåªä¸æ± åŒ–çº§åˆ«å’Œé€šé“æ•°æœ‰å…³</strong></p>
<h4 id="åŸç†"><a class="markdownIt-Anchor" href="#åŸç†"></a> <strong>åŸç†</strong></h4>
<p>SPPå°†ç‰¹å¾å›¾åˆ’åˆ†ä¸ºå¤šä¸ªä¸åŒå¤§å°çš„åŒºåŸŸï¼ˆå¦‚1Ã—1ã€2Ã—2ã€3Ã—3ã€6Ã—6ç­‰ï¼‰ï¼Œå¹¶å¯¹æ¯ä¸ªåŒºåŸŸè¿›è¡Œæœ€å¤§æ± åŒ–æˆ–å¹³å‡æ± åŒ–æ“ä½œã€‚è¿™äº›æ± åŒ–åçš„ç‰¹å¾è¢«å±•å¹³å¹¶æ‹¼æ¥åœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªå›ºå®šé•¿åº¦çš„ç‰¹å¾å‘é‡</p>
<h4 id="å®ç°"><a class="markdownIt-Anchor" href="#å®ç°"></a> <strong>å®ç°</strong></h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">import</span> torch.nn.functional <span class="keyword">as</span> F</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SpatialPyramidPooling2d</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, num_level, pool_type=<span class="string">&#x27;max_pool&#x27;</span></span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        å‚æ•°:</span></span><br><span class="line"><span class="string">        num_level: æ± åŒ–å±‚çš„çº§åˆ«æ•°é‡ï¼ˆä¾‹å¦‚ï¼Œ[1, 2, 4]è¡¨ç¤º3ä¸ªçº§åˆ«ï¼‰</span></span><br><span class="line"><span class="string">        pool_type: æ± åŒ–ç±»å‹ï¼ˆ&#x27;max_pool&#x27; æˆ– &#x27;avg_pool&#x27;ï¼‰</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="built_in">super</span>(SpatialPyramidPooling2d, self).__init__()</span><br><span class="line">        self.num_level = num_level</span><br><span class="line">        self.pool_type = pool_type</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        N, C, H, W = x.size()</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(self.num_level):</span><br><span class="line">            level = i + <span class="number">1</span></span><br><span class="line">            kernel_size = (math.ceil(H / level), math.ceil(W / level))</span><br><span class="line">            stride = (math.ceil(H / level), math.ceil(W / level))</span><br><span class="line">            padding = (</span><br><span class="line">                math.floor((kernel_size[<span class="number">0</span>] * level - H + <span class="number">1</span>) / <span class="number">2</span>),</span><br><span class="line">                math.floor((kernel_size[<span class="number">1</span>] * level - W + <span class="number">1</span>) / <span class="number">2</span>)</span><br><span class="line">            )</span><br><span class="line">            <span class="keyword">if</span> self.pool_type == <span class="string">&#x27;max_pool&#x27;</span>:</span><br><span class="line">                tensor = F.max_pool2d(x, kernel_size=kernel_size, stride=stride, padding=padding).view(N, -<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                tensor = F.avg_pool2d(x, kernel_size=kernel_size, stride=stride, padding=padding).view(N, -<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> i == <span class="number">0</span>:</span><br><span class="line">                res = tensor</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                res = torch.cat((res, tensor), <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<h3 id="2-è‡ªé€‚åº”æ± åŒ–adaptive-pooling"><a class="markdownIt-Anchor" href="#2-è‡ªé€‚åº”æ± åŒ–adaptive-pooling"></a> 2. <strong>è‡ªé€‚åº”æ± åŒ–ï¼ˆAdaptive Poolingï¼‰</strong></h3>
<h4 id="åŸç†-2"><a class="markdownIt-Anchor" href="#åŸç†-2"></a> åŸç†</h4>
<p><strong>è‡ªé€‚åº”æ± åŒ–çš„ç›®æ ‡æ˜¯æ ¹æ®ç›®æ ‡è¾“å‡ºå°ºå¯¸è‡ªåŠ¨è°ƒæ•´æ± åŒ–çª—å£å’Œæ­¥é•¿ï¼Œä½¿å¾—è¾“å‡ºå°ºå¯¸ä¿æŒä¸€è‡´ï¼Œä¸ä¾èµ–äºè¾“å…¥çš„å°ºå¯¸</strong>ã€‚</p>
<h4 id="å®ç°-2"><a class="markdownIt-Anchor" href="#å®ç°-2"></a> å®ç°</h4>
<p><code>nn.AdaptiveAvgPool2d((32, 32))</code></p>
<p><code>nn.AdaptiveMaxPool2d((32, 32))</code></p>
<h3 id="3-å…¨å±€å¹³å‡æ± åŒ–æˆ–å…¨å±€æœ€å¤§æ± åŒ–global-pooling"><a class="markdownIt-Anchor" href="#3-å…¨å±€å¹³å‡æ± åŒ–æˆ–å…¨å±€æœ€å¤§æ± åŒ–global-pooling"></a> 3. <strong>å…¨å±€å¹³å‡æ± åŒ–æˆ–å…¨å±€æœ€å¤§æ± åŒ–ï¼ˆGlobal Poolingï¼‰</strong></h3>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shakewely.github.io/2025/03/06/2025%E5%B9%B43%E6%9C%886%E6%97%A5-%E5%A4%9A%E5%B0%BA%E5%BA%A6%E8%AE%AD%E7%BB%83/" data-id="cm8q1tfhs0017pcv4eo49boxo" class="article-share-link">åˆ†äº«</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dl/" rel="tag">dl</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-2025å¹´3æœˆ5æ—¥-å›¾åƒåŒ¹é…" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2025/03/05/2025%E5%B9%B43%E6%9C%885%E6%97%A5-%E5%9B%BE%E5%83%8F%E5%8C%B9%E9%85%8D/" class="article-date">
  <time class="post-time" datetime="2025-03-05T02:23:20.000Z" itemprop="datePublished">
    <span class="post-month">3æœˆ</span><br/>
    <span class="post-day">05</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2025/03/05/2025%E5%B9%B43%E6%9C%885%E6%97%A5-%E5%9B%BE%E5%83%8F%E5%8C%B9%E9%85%8D/">2025å¹´3æœˆ5æ—¥ å›¾åƒåŒ¹é…</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="å›¾åƒåŒ¹é…"><a class="markdownIt-Anchor" href="#å›¾åƒåŒ¹é…"></a> å›¾åƒåŒ¹é…</h1>
<h2 id="è¡Œäººé‡è¯†åˆ«"><a class="markdownIt-Anchor" href="#è¡Œäººé‡è¯†åˆ«"></a> è¡Œäººé‡è¯†åˆ«</h2>
<h3 id="ä»€ä¹ˆæ˜¯reid"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯reid"></a> ä»€ä¹ˆæ˜¯ReID</h3>
<p>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_40608730/article/details/115431791%E3%80%81">https://blog.csdn.net/qq_40608730/article/details/115431791ã€</a></p>
<p>åˆ¤æ–­åœ¨ä¸åŒæ—¶é—´æ®µã€ä¸åŒç›‘æ§ä¸‹å‡ºç°çš„è¡Œäººå›¾åƒæ˜¯å¦å±äºåŒä¸€äººå‘˜çš„æŠ€æœ¯ã€‚è¡Œäººé‡è¯†åˆ«æ˜¯æœ€è¿‘å‡ å¹´åœ¨è§†é¢‘åˆ†æé¢†åŸŸä¸‹çƒ­é—¨çš„ç ”ç©¶é¢†åŸŸï¼Œå¯ä»¥çœ‹åšæ˜¯äººè„¸è¯†åˆ«åº”ç”¨çš„æ‹“å±•ã€‚</p>
<p>æœ¬è´¨ä¸Šå¯ä»¥çœ‹åšæ˜¯å›¾åƒåŒ¹é…ä»»åŠ¡ï¼Œæ¯”å¦‚ç»™ä½ ä¸€å¼ è¦åŒ¹é…çš„è¡Œäººçš„å›¾ï¼Œè¦ä½ ä»æ•°æ®åº“ä¸­æœç´¢å‡ºæ­¤äººçš„å…¶ä»–ç…§ç‰‡ã€‚</p>
<h4 id="å‘å±•"><a class="markdownIt-Anchor" href="#å‘å±•"></a> å‘å±•</h4>
<p>åœ¨è¡Œäººé‡è¯†åˆ«æ–¹å‘ä¸Šï¼Œ2005å¹´åˆ°2013å¹´é—´ï¼Œä¼ ç»Ÿç®—æ³•ä¸€ç›´éƒ½å æ®ä¸»è¦åœ°ä½ï¼›</p>
<p>è‡ª2014å¹´èµ·ï¼Œæ·±åº¦å­¦ä¹ å¼€å§‹æ…¢æ…¢å‡ºç°åœ¨äººä»¬çš„è§†çº¿ä¸­ï¼Œå¹¶åœ¨è¡Œäººå†è¯†åˆ«ç ”ç©¶ä¸­å–å¾—äº†æ˜¾è‘—æ€§çš„çªç ´ï¼Œæ€§èƒ½æŒ‡æ ‡è¿œè¶…ä¼ ç»Ÿç®—æ³•ã€‚</p>
<p>ä½†æ˜¯æ ¹æ®æœ€è¿‘çš„å‘å±•æ¥çœ‹ï¼Œè™½ç„¶æœ€æ–°çš„ç®—æ³•è¾¾åˆ°ç”šè‡³è¶…è¶Šäº†äººç±»çš„æ°´å¹³ï¼Œä½†æ˜¯æ€§èƒ½æŒ‡æ ‡åˆåˆ°è¾¾äº†ä¸€ä¸ªå¹³å°æœŸï¼Œç›®å‰çš„ç ”ç©¶æ–¹å‘ä¸»è¦æ˜¯å¤æ‚ç¯å¢ƒã€å¼€æ”¾ç¯å¢ƒä»¥åŠæ— ç›‘ç£å­¦ä¹ é¢†åŸŸã€‚</p>
<h4 id="éš¾ç‚¹"><a class="markdownIt-Anchor" href="#éš¾ç‚¹"></a> <strong>éš¾ç‚¹</strong></h4>
<p>æ•°æ®é›†<br>
è¯„ä»·æŒ‡æ ‡<br>
å®ç°æ€è·¯<br>
ç ”ç©¶æ–¹å¼</p>
<p>æœªæ¥æ–¹å‘</p>
<hr>
<h3 id="ä¸€èˆ¬æµç¨‹"><a class="markdownIt-Anchor" href="#ä¸€èˆ¬æµç¨‹"></a> ä¸€èˆ¬æµç¨‹</h3>
<p><img src="/2025/03/05/2025%E5%B9%B43%E6%9C%885%E6%97%A5-%E5%9B%BE%E5%83%8F%E5%8C%B9%E9%85%8D/image-20250305102441329.png" alt="image-20250305102441329"></p>
<h3 id="å®ç°æ€è·¯"><a class="markdownIt-Anchor" href="#å®ç°æ€è·¯"></a> å®ç°æ€è·¯</h3>
<ol>
<li>å…ˆæŠ½å–ç‰¹å¾å†è¿›è¡Œæ¯”å¯¹</li>
<li>æ£€ç´¢å›¾ç»è¿‡ç½‘ç»œæŠ½å–å›¾ç‰‡ç‰¹å¾ï¼ˆFeatureï¼‰</li>
<li>æ£€ç´¢åº“é‡Œçš„æ‰€æœ‰å›¾ç‰‡å…¨éƒ¨æŠ½å–å›¾ç‰‡ç‰¹å¾ï¼ˆFeatureï¼‰</li>
<li>å°†æ£€ç´¢å›¾ä¸æ£€ç´¢åº“å›¾çš„ç‰¹å¾è®¡ç®—è·ç¦»ï¼ˆä¾‹å¦‚æ¬§å¼è·ç¦»ï¼‰</li>
<li>æ ¹æ®è®¡ç®—è·ç¦»è¿›è¡Œæ’åºï¼Œæ’åºè¶Šé å‰è¡¨ç¤ºæ˜¯ç›¸ä¼¼ç‡è¶Šé«˜</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shakewely.github.io/2025/03/05/2025%E5%B9%B43%E6%9C%885%E6%97%A5-%E5%9B%BE%E5%83%8F%E5%8C%B9%E9%85%8D/" data-id="cm8q1tfhx001bpcv4fxdaau4f" class="article-share-link">åˆ†äº«</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dl/" rel="tag">dl</a></li></ul>

    </footer>
  </div>
  
</article>




  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/2/">&amp;laquo; pre</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/4/">next &amp;raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    <div class="widget-wrap">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <h1 class="blog-title">Weakliy_Blog</h1>
    <h2 class="blog-subtitle"></h2>
    <ul class="blog-link">
     
          <a href="/" title="Home">
            <li>ä¸»é¡µ</li>
          </a>
        
          <a href="/archives" title="Archives">
            <li>å½’æ¡£</li>
          </a>
        
          <a href="/categories" title="Categories">
            <li>åˆ†ç±»</li>
          </a>
        
          <a href="/tags" title="Tags">
            <li>æ ‡ç­¾</li>
          </a>
        
    </ul>
  </div>
</div>

  
    <div class="widget-wrap">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <img class="avatar" src="https://raw.githubusercontent.com/ShakeWeLy/Weakliy.github.io/main/%E5%A4%B4%E5%83%8F/mmexport1683194148817.png">
    <h2 class="author">Weakliy</h2>
    <h3 class="description"></h3>
    <div class="count-box">
      <a href="/archives"><div><strong>92</strong><br>æ–‡ç« </div></a>
      <a href="/categories"><div><strong>0</strong><br>åˆ†ç±»</div></a>
      <a href="/tags"><div><strong>29</strong><br>æ ‡ç­¾</div></a>
    </div>



    <div class="social-link">
      
        <a class="hvr-bounce-in" href="https://github.com/ShakeWeLy" target="_blank" title="Github">
          Github
        </a>
      
    </div>

    <div class="friend-link">
      <h2>è”ç³»æˆ‘</h2>
      
        <a class="hvr-bounce-in" href="https://github.com/ShakeWeLy" target="_blank" title="ShanaMaid">
          ShanaMaid
        </a>
      
    </div>
  </div>
</div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy;2024 - 2025 Weakliy<br>
      ç”±<a href="http://hexo.io/" target="_blank">Hexo</a>å¼ºåŠ›é©±åŠ¨ | 
      ä¸»é¢˜-<a target="_blank" rel="noopener" href="https://github.com/ShanaMaid/hexo-theme-shana">Shana</a>
      
    </div>
    
  </div>
</footer>
    </div>
    

<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="//apps.bdimg.com/libs/wow/0.1.6/wow.min.js"></script>
<script>
new WOW().init();
</script>   


  
<link rel="stylesheet" href="/plugin/fancybox/jquery.fancybox.css">

  
<script src="/plugin/fancybox/jquery.fancybox.pack.js"></script>




  
<link rel="stylesheet" href="/plugin/galmenu/GalMenu.css">

  
<script src="/plugin/galmenu/GalMenu.js"></script>

  <div class="GalMenu GalDropDown">
      <div class="circle" id="gal">
        <div class="ring">
          
            <a href="/" title="" class="menuItem">é¦–é¡µ</a>
          
            <a href="/tags" title="" class="menuItem">æ ‡ç­¾</a>
          
            <a href="/categories" title="" class="menuItem">åˆ†ç±»</a>
          
            <a href="/archives" title="" class="menuItem">æ€»è§ˆ</a>
          
            <a href="/xxxxxxxxx" title="" class="menuItem">xxx</a>
          
            <a href="/xxxxxxx" title="" class="menuItem">xxxx</a>
          
        </div>
        
          <audio id="audio" src="#"></audio>
        
      </div> 
</div>
<div id="overlay" style="opacity: 1; cursor: pointer;"></div>
  <script type="text/javascript">var items = document.querySelectorAll('.menuItem');
    for (var i = 0,
    l = items.length; i < l; i++) {
      items[i].style.left = (50 - 35 * Math.cos( - 0.5 * Math.PI - 2 * (1 / l) * i * Math.PI)).toFixed(4) + "%";
      items[i].style.top = (50 + 35 * Math.sin( - 0.5 * Math.PI - 2 * (1 / l) * i * Math.PI)).toFixed(4) + "%"
    }</script>
<script type="text/javascript">
  $(document).ready(function() {
    $('body').GalMenu({
      'menu': 'GalDropDown'
    })
  });
</script>

  <section class="hidden-xs"> 
  <ul class="cb-slideshow"> 
    <li><span>è‹Ÿåˆ©</span></li> 
    <li><span>å›½å®¶</span></li> 
    <li><span>ç”Ÿæ­»ä»¥</span></li> 
    <li><span>å²‚èƒ½</span></li> 
    <li><span>ç¥¸ç¦</span></li> 
    <li><span>è¶‹é¿ä¹‹</span></li> 
  </ul>
</section>

<script src="/js/script.js"></script>




  </div>
</body>
</html>